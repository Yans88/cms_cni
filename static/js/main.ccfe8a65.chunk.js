(this.webpackJsonpadmin_cni=this.webpackJsonpadmin_cni||[]).push([[0],{29:function(e,t,a){"use strict";var s=a(3),n=a(76),r=(a(2),a(157)),i=a(33),c=a(1);t.a=function(e){e.children;var t=e.handleClose,a=e.title,o=e.isLoading,l=e.form,d=e.formSubmit,h=e.titleButton,j=e.themeButton,b=e.hideBtn,u=Object(n.a)(e,["children","handleClose","title","isLoading","form","formSubmit","titleButton","themeButton","hideBtn"]);return Object(c.jsxs)(r.a,Object(s.a)(Object(s.a)({},u),{},{onHide:t,children:[Object(c.jsx)(r.a.Header,{closeButton:!0,children:Object(c.jsx)(r.a.Title,{children:a})}),Object(c.jsx)(r.a.Body,{children:l}),Object(c.jsxs)(r.a.Footer,{children:[Object(c.jsx)(i.a,{theme:"info",onClick:t,children:"Close"}),1!==b?Object(c.jsx)(i.a,{isLoading:o,theme:j,onClick:d,children:h||"Yes"}):""]})]}))}},30:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var s=a(3),n=a(76),r=(a(2),a(241)),i=a.n(r),c=a(1),o=function(e){var t=e.show,a=(e.children,e.handleClose),r=e.title,o=e.type,l=e.textBody,d=(e.formSubmit,e.titleButton,e.themeButton,Object(n.a)(e,["show","children","handleClose","title","type","textBody","formSubmit","titleButton","themeButton"]));return Object(c.jsx)(i.a,Object(s.a)(Object(s.a)({},d),{},{show:t,type:o,title:r,text:l,onConfirm:a||!1,onCancel:a,onEscapeKey:a,onOutsideClick:a}))}},33:function(e,t,a){"use strict";var s=a(3),n=a(76),r=(a(2),a(179)),i=a(363),c=a(1),o={facebook:"fab fa-facebook",google:"fab fa-google",googlePlus:"fab fa-google-plus",sign:"fa fa-unlock-alt",edit:"fa fa-edit",delete:"fa fa-trash",add:"fa fa-plus",times:"fa fa-times"};t.a=function(e){var t,a,l=e.children,d=e.isLoading,h=e.icon,j=e.theme,b=void 0===j?"primary":j,u=e.disabled,p=Object(n.a)(e,["children","isLoading","icon","theme","disabled"]);return d&&(t=Object(c.jsx)(i.a,{className:"ml-2",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})),h&&o[h]&&(a=Object(c.jsx)("i",{className:"".concat(o[h]," mr-2")})),Object(c.jsxs)(r.a,Object(s.a)(Object(s.a)({},p),{},{variant:b,disabled:d||u,children:[a,l,t]}))}},357:function(e,t){},411:function(e,t){},413:function(e,t){},425:function(e,t){},427:function(e,t){},454:function(e,t){},456:function(e,t){},457:function(e,t){},462:function(e,t){},464:function(e,t){},483:function(e,t){},495:function(e,t){},498:function(e,t){},740:function(e,t){},741:function(e,t){},744:function(e,t,a){"use strict";a.r(t);var s=a(2),n=a.n(s),r=a(46),i=a.n(r),c=a(14),o=a(156),l=a(361),d=a(3),h=a(9),j=a(10),b=a(8),u=a.n(b),p="http://202.158.64.238/api_cni/index.php",m=new(function(){function e(){Object(h.a)(this,e)}return Object(j.a)(e,[{key:"postData",value:function(e,t){switch(t){case"GET_DATA":return u.a.post(p+"/members",e);case"VIEW_DETAIL":return u.a.post(p+"/profile_member",e);default:return u.a.post(p+"/members",e)}}}]),e}()),g="LOGIN_USER",O="LOGOUT_USER",x="LOAD_USER";var _=a(254),f="",v="",y="",w={isLoggedIn:!!localStorage.getItem("tokenCNI"),token:localStorage.getItem("tokenCNI"),currentUser:{id_operator:null,name:"",password:null}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return f=_.AES.decrypt(t.token,"CNI"),v=f.toString(_.enc.Utf8),y=v.split("\xde"),localStorage.setItem("tokenCNI",t.token),Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!0,token:t.token,currentUser:{id_operator:y[0],name:y[1],password:null}});case O:return localStorage.removeItem("tokenCNI"),Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!1,token:null,currentUser:{id_operator:null,name:"",password:null}});case x:return Object(d.a)(Object(d.a)({},e),{},{currentUser:t.currentUser});default:return Object(d.a)({},e)}},S="FORM_DATA",F="FORM_DELETE",C="ADD_DATA_LOADING",N="ADD_DATA_SUCCESS",D="ADD_DATA_ERROR",A="CLEAR_ADD_DATA_ERROR",L="FETCH_DATA_LOADING",M="FETCH_DATA_ERROR",I="FETCH_DATA_SUCCESS_NEWS",T="FETCH_DATA_SETTING",R="CHG_PROPS",P="FETCH_DATA_PRICELIST",E="FETCH_DATA_LEVEL",H="FETCH_DATA_VOUCHERS",z="CONFIRM_PUBLISH_VOUCHER",V="FETCH_DATA_BLAST",G="FETCH_DATA_SUCCESS_HEADER",B="FETCH_DATA_SUCCESS_DETAIL",Y="FETCH_DATA_SUCCESS_EXPORT_HEADER",U="FETCH_DATA_SUCCESS_EXPORT_DETAIL",W={data:[],totalData:0,error:null,isLoading:!1,isAddLoading:!1,errorPriority:null,contentMsg:null,showFormAdd:!1,showFormSuccess:!1,showFormDelete:!1,tipeSWAL:"success"},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(d.a)(Object(d.a)({},e),{},{data:t.payload.data,totalData:t.payload.total_data});case L:return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.payload});case S:return Object(d.a)(Object(d.a)({},e),{},{isAddLoading:t.payload.isAddLoading,showFormAdd:t.payload.showFormAdd,errorPriority:t.payload.errorPriority});case F:return Object(d.a)(Object(d.a)({},e),{},{isAddLoading:t.payload.isAddLoading,showFormDelete:t.payload.showFormDelete,errorPriority:t.payload.errorPriority});case C:return Object(d.a)(Object(d.a)({},e),{},{isAddLoading:t.payload});case M:return Object(d.a)(Object(d.a)({},e),{},{error:t.payload});case D:return Object(d.a)(Object(d.a)({},e),{},{errorPriority:t.payload});case A:return Object(d.a)(Object(d.a)({},e),{},{errorPriority:null,isAddLoading:!1});case N:return Object(d.a)(Object(d.a)({},e),{},{tipeSWAL:t.payload.tipeSWAL,showFormSuccess:t.payload.showFormSuccess,contentMsg:t.payload.contentMsg});default:return e}},K={data:[],totalData:0,error:null,isLoading:!1,isAddLoading:!1,errorPriority:null,contentMsg:null,showFormAdd:!1,showFormSuccess:!1,showFormDelete:!1,tipeSWAL:"success"},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(d.a)(Object(d.a)({},e),{},{data:t.payload.data,totalData:t.payload.total_data});case L:return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.payload});case S:return Object(d.a)(Object(d.a)({},e),{},{isAddLoading:t.payload.isAddLoading,showFormAdd:t.payload.showFormAdd,errorPriority:t.payload.errorPriority});case F:return Object(d.a)(Object(d.a)({},e),{},{isAddLoading:t.payload.isAddLoading,showFormDelete:t.payload.showFormDelete,errorPriority:t.payload.errorPriority});case C:return Object(d.a)(Object(d.a)({},e),{},{isAddLoading:t.payload});case M:return Object(d.a)(Object(d.a)({},e),{},{error:t.payload});case D:return Object(d.a)(Object(d.a)({},e),{},{errorPriority:t.payload});case A:return Object(d.a)(Object(d.a)({},e),{},{errorPriority:null,isAddLoading:!1});case N:return Object(d.a)(Object(d.a)({},e),{},{tipeSWAL:t.payload.tipeSWAL,showFormSuccess:t.payload.showFormSuccess,contentMsg:t.payload.contentMsg});default:return e}},X={data:[],totalData:0,error:null,isLoading:!1,isAddLoading:!1,errorPriority:null,contentMsg:null,showFormAdd:!1,showFormSuccess:!1,showFormDelete:!1,tipeSWAL:"success"},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(d.a)(Object(d.a)({},e),{},{data:t.payload.data,totalData:t.payload.total_data});case L:return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.payload});case S:return Object(d.a)(Object(d.a)({},e),{},{isAddLoading:t.payload.isAddLoading,showFormAdd:t.payload.showFormAdd,errorPriority:t.payload.errorPriority});case F:return Object(d.a)(Object(d.a)({},e),{},{isAddLoading:t.payload.isAddLoading,showFormDelete:t.payload.showFormDelete,errorPriority:t.payload.errorPriority});case C:return Object(d.a)(Object(d.a)({},e),{},{isAddLoading:t.payload});case M:return Object(d.a)(Object(d.a)({},e),{},{error:t.payload});case D:return Object(d.a)(Object(d.a)({},e),{},{errorPriority:t.payload});case A:return Object(d.a)(Object(d.a)({},e),{},{errorPriority:null,isAddLoading:!1});case N:return Object(d.a)(Object(d.a)({},e),{},{tipeSWAL:t.payload.tipeSWAL,showFormSuccess:t.payload.showFormSuccess,contentMsg:t.payload.contentMsg});default:return e}},Q=a(21),Z={data:{},error:null,isLoading:!1,isAddLoading:!1,contentMsg:null,showFormSuccess:!1,tipeSWAL:"success"},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(d.a)(Object(d.a)({},e),{},{data:t.payload.data});case R:return Object(d.a)(Object(d.a)({},e),{},{data:Object(d.a)(Object(d.a)({},e.data),{},Object(Q.a)({},t.payload.key,t.payload.value))});case L:return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.payload});case C:return Object(d.a)(Object(d.a)({},e),{},{isAddLoading:t.payload});case M:return Object(d.a)(Object(d.a)({},e),{},{error:t.payload});case N:return Object(d.a)(Object(d.a)({},e),{},{tipeSWAL:t.payload.tipeSWAL,showFormSuccess:t.payload.showFormSuccess,contentMsg:t.payload.contentMsg,isAddLoading:t.payload.isAddLoading});default:return e}},te={data:[],totalData:0,error:null,isLoading:!1,isAddLoading:!1,errorPriority:null,contentMsg:null,showFormAdd:!1,showFormSuccess:!1,showFormDelete:!1,showFormPublish:!1,tipeSWAL:"success"},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(d.a)(Object(d.a)({},e),{},{data:t.payload.data,totalData:t.payload.total_data});case L:return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.payload});case S:return Object(d.a)(Object(d.a)({},e),{},{isAddLoading:t.payload.isAddLoading,showFormAdd:t.payload.showFormAdd,errorPriority:t.payload.errorPriority});case F:return Object(d.a)(Object(d.a)({},e),{},{isAddLoading:t.payload.isAddLoading,showFormDelete:t.payload.showFormDelete,errorPriority:t.payload.errorPriority});case z:return Object(d.a)(Object(d.a)({},e),{},{isAddLoading:t.payload.isAddLoading,showFormPublish:t.payload.showFormPublish,errorPriority:t.payload.errorPriority});case C:return Object(d.a)(Object(d.a)({},e),{},{isAddLoading:t.payload});case M:return Object(d.a)(Object(d.a)({},e),{},{error:t.payload});case D:return Object(d.a)(Object(d.a)({},e),{},{errorPriority:t.payload});case A:return Object(d.a)(Object(d.a)({},e),{},{errorPriority:null,isAddLoading:!1});case N:return Object(d.a)(Object(d.a)({},e),{},{tipeSWAL:t.payload.tipeSWAL,showFormSuccess:t.payload.showFormSuccess,contentMsg:t.payload.contentMsg});default:return e}},se={data:[],totalData:0,error:null,isLoading:!1,isAddLoading:!1,errorPriority:null,contentMsg:null,showFormAdd:!1,showFormSuccess:!1,showFormDelete:!1,tipeSWAL:"success"},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(d.a)(Object(d.a)({},e),{},{data:t.payload.data,totalData:t.payload.total_data});case L:return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.payload});case S:return Object(d.a)(Object(d.a)({},e),{},{isAddLoading:t.payload.isAddLoading,showFormAdd:t.payload.showFormAdd,errorPriority:t.payload.errorPriority});case F:return Object(d.a)(Object(d.a)({},e),{},{isAddLoading:t.payload.isAddLoading,showFormDelete:t.payload.showFormDelete,errorPriority:t.payload.errorPriority});case C:return Object(d.a)(Object(d.a)({},e),{},{isAddLoading:t.payload});case M:return Object(d.a)(Object(d.a)({},e),{},{error:t.payload});case D:return Object(d.a)(Object(d.a)({},e),{},{errorPriority:t.payload});case A:return Object(d.a)(Object(d.a)({},e),{},{errorPriority:null,isAddLoading:!1});case N:return Object(d.a)(Object(d.a)({},e),{},{tipeSWAL:t.payload.tipeSWAL,showFormSuccess:t.payload.showFormSuccess,contentMsg:t.payload.contentMsg});default:return e}},re={data:[],data_report:[],data_detail:[],data_report_detail:[],totalData:0,error:null,isLoading:!1,isAddLoading:!1,errorPriority:null,contentMsg:null,showFormAdd:!1,showFormSuccess:!1,showFormDelete:!1,tipeSWAL:"success"},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(d.a)(Object(d.a)({},e),{},{data:t.payload.data,totalData:t.payload.total_data});case Y:return Object(d.a)(Object(d.a)({},e),{},{data_report:t.payload.data_report});case U:return Object(d.a)(Object(d.a)({},e),{},{data_report_detail:t.payload.data_report});case B:return Object(d.a)(Object(d.a)({},e),{},{data_detail:t.payload.data,totalData:t.payload.total_data});case L:return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.payload});case M:return Object(d.a)(Object(d.a)({},e),{},{error:t.payload});default:return e}},ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):o.c,oe=ce(Object(o.a)(l.a)),le=Object(o.b)({auth:k,pricelist:J,setting:ee,news:$,level:q,voucher:ae,blast:ne,reports:ie}),de=Object(o.d)(le,oe),he=de,je=a(4),be=a.n(je),ue=a(6),pe=a(12),me=a(44),ge=a(24),Oe=a(1),xe=Object(c.b)((function(e){return{user:e.auth.currentUser}}),(function(e){return{onUserLogout:function(){return e({type:"LOGOUT_USER"})}}}))((function(e){var t=e.toggleMenuSidebar,a=e.user,s=e.onUserLogout,n=Object(me.g)();return Object(Oe.jsxs)("nav",{className:"main-header navbar navbar-expand navbar-dark navbar-info text-sm border-bottom-0",children:[Object(Oe.jsx)("ul",{className:"navbar-nav",children:Object(Oe.jsx)("li",{className:"nav-item",children:Object(Oe.jsx)(ge.c,{to:"#",className:"nav-link",onClick:t,"data-widget":"pushmenu",role:"button",children:Object(Oe.jsx)("i",{className:"fas fa-bars"})})})}),Object(Oe.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(Oe.jsxs)("li",{className:"nav-item dropdown",children:[Object(Oe.jsxs)(ge.c,{to:"#",type:"button",className:"nav-link dropdown-toggle","data-toggle":"dropdown",children:[Object(Oe.jsx)("i",{className:"far fa-user"})," ",a.name?a.name:"Logout"]}),Object(Oe.jsx)("div",{className:"dropdown-menu",children:Object(Oe.jsxs)(ge.b,{to:"/",onClick:function(e){e.preventDefault(),s(),n.push("/login")},className:"dropdown-item",children:[Object(Oe.jsx)("i",{className:"fa fa-sign-out-alt"})," Logout"]})})]})})]})})),_e=a(32),fe=a(82),ve=(a(528),a(37)),ye=a(152),we=a(239),ke=a(362),Se=a(50),Fe=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")((function(e){var t=e.menuCollapse,a=e.user,n=["products","add_product","edit_product","list_img","pricelist"],r=["blast","add_blast","blast_detail"],i=["vouchers","free_ongkir"],c=["provinsi","city","kecamatan"],o=["level","permission"],l=Object(me.h)().pathname.replace("/",""),d=Object(s.useState)({}),h=Object(pe.a)(d,2),j=h[0],b=h[1],u=Object(s.useState)(!1),p=Object(pe.a)(u,2),m=p[0],g=p[1],O=Object(s.useState)(!1),x=Object(pe.a)(O,2),_=x[0],f=x[1],v=Object(s.useState)(!1),y=Object(pe.a)(v,2),w=y[0],k=y[1],S=Object(s.useState)(!1),F=Object(pe.a)(S,2),C=F[0],N=F[1],D=Object(s.useState)(!1),A=Object(pe.a)(D,2),L=A[0],M=A[1],I=n.includes(l)?n[0]:l;I=c.includes(l)?c[0]:I,I=o.includes(l)?o[0]:I,I=i.includes(l)?i[0]:I,I=r.includes(l)?r[0]:I;var T=["banners","users","setting","provinsi","city","kecamatan","warehouse","level","permission"].includes(l)?"masterData":"";T=["members","konsumen"].includes(l)?"dataPelanggan":T,T=["waiting_payment","payment","completed","trans_detail","onprocess","dikirim","expired","hold"].includes(l)?"dataTrans":T,T=["waiting_approve","approved","rejected","detail_ulasan"].includes(l)?"dataUlasan":T,T=["report_header","report_detail"].includes(l)?"dataReport":T,Object(s.useEffect)((function(){g((function(e){return"masterData"===T})),f((function(e){return"dataPelanggan"===T})),k((function(e){return"dataTrans"===T})),N((function(e){return"dataUlasan"===T})),M((function(e){return"dataReport"===T})),b(Object(Q.a)({},I,!0))}),[I,T]);var R=function(e){return function(){g((function(t){return"masterData"===e?!t:t})),f((function(t){return"dataPelanggan"===e?!t:t})),k((function(t){return"dataTrans"===e?!t:t})),N((function(t){return"dataUlasan"===e?!t:t})),M((function(t){return"dataReport"===e?!t:t}))}};return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)("div",{id:"header",className:"main-sidebar",children:Object(Oe.jsxs)(_e.c,{collapsed:t,children:[Object(Oe.jsx)(_e.e,{children:Object(Oe.jsx)(ge.b,{to:"/",className:"brand-link",children:Object(Oe.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Object(Oe.jsx)("strong",{children:t?"CNI":"Admin CNI"})})})}),Object(Oe.jsx)(_e.d,{children:Object(Oe.jsxs)(_e.a,{iconShape:"circle",children:[Object(Oe.jsxs)(_e.b,{active:""===l,icon:Object(Oe.jsx)(ye.a,{}),children:[Object(Oe.jsx)(ge.c,{to:"/"}),"Beranda"]}),a.members_view||a.konsumen_view?Object(Oe.jsxs)(_e.f,{title:"Data Pelanggan",onClick:R("dataPelanggan"),open:_,icon:Object(Oe.jsx)(ve.l,{}),children:[a.members_view?Object(Oe.jsxs)(_e.b,{active:j.members,style:{paddingLeft:"27px"},icon:Object(Oe.jsx)(ve.m,{}),children:[Object(Oe.jsx)(ge.c,{to:"/members"})," Members"]}):"",a.konsumen_view?Object(Oe.jsxs)(_e.b,{active:j.konsumen,style:{paddingLeft:"27px"},icon:Object(Oe.jsx)(ve.n,{}),children:[Object(Oe.jsx)(ge.c,{to:"/konsumen"}),"Konsumen"]}):""]}):"",a.category_view?Object(Oe.jsxs)(_e.b,{active:j.category,icon:Object(Oe.jsx)(fe.c,{}),children:[Object(Oe.jsx)(ge.c,{to:"/category"}),"Category"]}):"",a.product_view?Object(Oe.jsxs)(_e.b,{active:j.products,icon:Object(Oe.jsx)(ve.i,{}),children:[Object(Oe.jsx)(ge.c,{to:"/products"}),"Products"]}):"",a.transaksi_view?Object(Oe.jsxs)(_e.f,{title:"Transaksi",onClick:R("dataTrans"),open:w,icon:Object(Oe.jsx)(ve.g,{}),children:[Object(Oe.jsxs)(_e.b,{active:j.waiting_payment,style:{paddingLeft:"27px"},icon:Object(Oe.jsx)(ve.e,{}),children:[Object(Oe.jsx)(ge.c,{to:"/waiting_payment"})," Waiting Payment"]}),Object(Oe.jsxs)(_e.b,{active:j.payment,style:{paddingLeft:"27px"},icon:Object(Oe.jsx)(ve.d,{}),children:[Object(Oe.jsx)(ge.c,{to:"/payment"}),"Payment Complete"]}),Object(Oe.jsxs)(_e.b,{active:j.onprocess,style:{paddingLeft:"27px"},icon:Object(Oe.jsx)(ke.a,{}),children:[Object(Oe.jsx)(ge.c,{to:"/onprocess"}),"On Process"]}),Object(Oe.jsxs)(_e.b,{active:j.hold,style:{paddingLeft:"27px"},icon:Object(Oe.jsx)(ve.j,{}),children:[Object(Oe.jsx)(ge.c,{to:"/hold"}),"Hold"]}),Object(Oe.jsxs)(_e.b,{active:j.dikirim,style:{paddingLeft:"27px"},icon:Object(Oe.jsx)(ve.h,{}),children:[Object(Oe.jsx)(ge.c,{to:"/dikirim"}),"Dikirim"]}),Object(Oe.jsxs)(_e.b,{active:j.completed,style:{paddingLeft:"27px"},icon:Object(Oe.jsx)(ve.c,{}),children:[Object(Oe.jsx)(ge.c,{to:"/completed"}),"Completed"]}),Object(Oe.jsxs)(_e.b,{active:j.expired,style:{paddingLeft:"27px"},icon:Object(Oe.jsx)(we.b,{}),children:[Object(Oe.jsx)(ge.c,{to:"/expired"}),"Expired"]})]}):"",a.ulasan_view?Object(Oe.jsxs)(_e.f,{title:"Ulasan",onClick:R("dataUlasan"),open:C,icon:Object(Oe.jsx)(ve.f,{}),children:[Object(Oe.jsxs)(_e.b,{active:j.waiting_approve,style:{paddingLeft:"27px"},icon:Object(Oe.jsx)(Se.d,{}),children:[Object(Oe.jsx)(ge.c,{to:"/waiting_approve"})," Waiting Approve"]}),Object(Oe.jsxs)(_e.b,{active:j.approved,style:{paddingLeft:"27px"},icon:Object(Oe.jsx)(Se.b,{}),children:[Object(Oe.jsx)(ge.c,{to:"/approved"}),"Approved"]}),Object(Oe.jsxs)(_e.b,{active:j.rejected,style:{paddingLeft:"27px"},icon:Object(Oe.jsx)(Se.c,{}),children:[Object(Oe.jsx)(ge.c,{to:"/rejected"}),"Rejected"]})]}):"",Object(Oe.jsxs)(_e.f,{title:"Report",onClick:R("dataReport"),open:L,icon:Object(Oe.jsx)(ve.u,{}),children:[Object(Oe.jsxs)(_e.b,{active:j.report_header,style:{paddingLeft:"27px"},icon:Object(Oe.jsx)(ve.t,{}),children:[Object(Oe.jsx)(ge.c,{to:"/report_header"})," Header"]}),Object(Oe.jsxs)(_e.b,{active:j.report_detail,style:{paddingLeft:"27px"},icon:Object(Oe.jsx)(ve.s,{}),children:[Object(Oe.jsx)(ge.c,{to:"/report_detail"}),"Detail"]})]}),a.vouchers_view?Object(Oe.jsxs)(_e.b,{active:j.vouchers,icon:Object(Oe.jsx)(ve.a,{}),children:[Object(Oe.jsx)(ge.c,{to:"/vouchers"}),"Vouchers"]}):"",a.news_view?Object(Oe.jsxs)(_e.b,{active:j.news,icon:Object(Oe.jsx)(ve.w,{}),children:[Object(Oe.jsx)(ge.c,{to:"/news"}),"News"]}):"",Object(Oe.jsxs)(_e.b,{active:j.blast,icon:Object(Oe.jsx)(ve.v,{}),children:[Object(Oe.jsx)(ge.c,{to:"/blast"}),"Blast Notification"]}),Object(Oe.jsxs)(_e.f,{title:"Master Data",onClick:R("masterData"),open:m,icon:Object(Oe.jsx)(fe.b,{}),children:[a.banners_view?Object(Oe.jsxs)(_e.b,{style:{paddingLeft:"27px"},icon:Object(Oe.jsx)(ve.k,{}),active:j.banners,children:[Object(Oe.jsx)(ge.c,{to:"/banners"})," Banners"]}):"",a.provinsi_view?Object(Oe.jsxs)(_e.b,{style:{paddingLeft:"27px"},active:j.provinsi,icon:Object(Oe.jsx)(ye.b,{}),children:[Object(Oe.jsx)(ge.c,{to:"/provinsi"})," Area"]}):"",a.warehouse_view?Object(Oe.jsxs)(_e.b,{style:{paddingLeft:"27px"},active:j.warehouse,icon:Object(Oe.jsx)(we.a,{}),children:[Object(Oe.jsx)(ge.c,{to:"/warehouse"})," Warehouse"]}):"",a.level_view?Object(Oe.jsxs)(_e.b,{style:{paddingLeft:"27px"},active:j.level,icon:Object(Oe.jsx)(ve.o,{}),children:[Object(Oe.jsx)(ge.c,{to:"/level"}),"Level"]}):"",a.users_view?Object(Oe.jsxs)(_e.b,{style:{paddingLeft:"27px"},active:j.users,icon:Object(Oe.jsx)(ve.o,{}),children:[Object(Oe.jsx)(ge.c,{to:"/users"}),"Users"]}):"",a.setting_view?Object(Oe.jsxs)(_e.b,{style:{paddingLeft:"27px"},active:j.setting,icon:Object(Oe.jsx)(ve.q,{}),children:[Object(Oe.jsx)(ge.c,{to:"/setting"}),"Setting"]}):""]})]})})]})})})})),Ce="http://202.158.64.238/api_cni/index.php",Ne=a(254),De=function(){var e=Object(ue.a)(be.a.mark((function e(t,a){var s,n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={username:t,pass:a},n="",e.next=4,u.a.post(Ce+"/login_admin",s).then((function(e){var t=e.data;if("00"===t.err_code){var a=t.data,s=a.id_admin+"\xde"+a.name+"\xde"+new Date;n=Ne.AES.encrypt(s,"CNI").toString()}else n=""}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(ue.a)(be.a.mark((function e(){var t,a,s,n,r,i;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("tokenCNI"),a=Ne.AES.decrypt(t,"CNI"),s=a.toString(Ne.enc.Utf8),n=s.split("\xde"),r={id_operator:null,name:"",password:null},i={id_admin:n[0],cms:1},e.next=8,u.a.post(Ce+"/admin_detail",i).then((function(e){var t=e.data;if("00"===t.err_code){var a=t.data;r=a,r=Object(d.a)(Object(d.a)({},r),{},{id_operator:a.id_admin})}}));case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=a(15),Me=a(16),Ie=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Loading ...."})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsx)("div",{className:"card shadow-lg",style:{height:"450px"},children:Object(Oe.jsxs)("div",{className:"card-body my-card-body",children:[Object(Oe.jsx)("div",{id:"loader"}),"Loading ..."]})})})})})})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),Te=a(27),Re=a.n(Te),Pe="http://202.158.64.238/api_cni/index.php",Ee=function(){function e(){Object(h.a)(this,e)}return Object(j.a)(e,[{key:"postDataUsers",value:function(e,t){switch(t){case"GET_DATA":return u.a.post(Pe+"/admin",e);case"ADD_DATA":return u.a.post(Pe+"/simpan_admin",e);case"EDIT_DATA":return u.a.post(Pe+"/edit_admin",e);case"DELETE_DATA":return u.a.post(Pe+"/del_admin",e);default:return u.a.post(Pe+"/simpan_admin",e)}}}]),e}(),He=new Ee,ze=a(755),Ve=a(369),Ge=a(179),Be=a(29),Ye=a(192),Ue=a(91),We=a(30),qe="http://202.158.64.238/api_cni/index.php",Ke=function(e){return{type:E,payload:e}},$e=function(e){return{type:L,payload:e}},Xe=function(e){return{type:C,payload:e}},Je=function(e){return{type:N,payload:e}},Qe=function(e){var t=!0;return function(){var a=Object(ue.a)(be.a.mark((function a(s){return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s($e(t)),a.next=3,u.a.post(qe+"/level",e).then((function(e){var a={};a.data=e.data.data,a.total_data=e.data.total_data,s(Ke(a)),s($e(t=!1))})).catch((function(e){var a={};a.message="Something wrong",a.status=e.response?e.response.status:404,s({type:M,payload:a}),s($e(t=!1))}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Ze=function(e){var t={errorPriority:null};return t.showFormAdd=e,t.isAddLoading=!1,{type:S,payload:t}},et=function(e){var t={errorPriority:null};return t.showFormDelete=e,t.isAddLoading=!1,{type:F,payload:t}},tt=function(e){return function(){var t=Object(ue.a)(be.a.mark((function t(a){return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Xe(true)),t.next=3,u.a.post(qe+"/simpan_level",e).then((function(t){if("00"===t.data.err_code){a(Ze(!1));var s={};s.showFormSuccess=!e.showFormSuccess,s.tipeSWAL="success",s.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil disimpan</div>'}}),a(Je(s))}})).catch((function(e){}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},at=function(e,t){switch(t){case"VIEW_HAK_AKSES":return u.a.post(qe+"/detail_level",e);default:return u.a.post(qe+"/level",e)}},st=a(80),nt=Object(c.b)((function(e){return{user:e.auth.currentUser,level:e.level.data||[]}}),(function(e){return{onUserLogin:e(Qe())}}))((function(e,t){var a={id_admin:"",username:"",pass:"",name:"",id_level:""},n=Object(s.useState)(a),r=Object(pe.a)(n,2),i=r[0],c=r[1],o=Object(s.useState)([]),l=Object(pe.a)(o,2),h=l[0],j=l[1],b=Object(s.useState)(0),u=Object(pe.a)(b,2),p=u[0],m=u[1],g=Object(s.useState)(1),O=Object(pe.a)(g,2),x=O[0],_=O[1],f=Object(s.useState)(10),v=Object(pe.a)(f,2),y=v[0],w=v[1],k=Object(s.useState)("ASC"),S=Object(pe.a)(k,2),F=S[0],C=S[1],N=Object(s.useState)("name"),D=Object(pe.a)(N,2),A=D[0],L=D[1],M=Object(s.useState)(""),I=Object(pe.a)(M,2),T=I[0],R=I[1],P=Object(s.useState)(!0),E=Object(pe.a)(P,2),H=E[0],z=E[1],V=Object(s.useState)(!1),G=Object(pe.a)(V,2),B=G[0],Y=G[1],U=Object(s.useState)(!1),W=Object(pe.a)(U,2),q=W[0],K=W[1],$=Object(s.useState)(!1),X=Object(pe.a)($,2),J=X[0],Q=X[1],Z=Object(s.useState)(""),ee=Object(pe.a)(Z,2),te=ee[0],ae=ee[1],se=Object(s.useState)(null),ne=Object(pe.a)(se,2),re=ne[0],ie=ne[1],ce=Object(s.useState)(!1),oe=Object(pe.a)(ce,2),le=oe[0],de=oe[1],he=Object(s.useState)([]),je=Object(pe.a)(he,2),me=je[0],ge=je[1],xe=Object(s.useState)(0),_e=Object(pe.a)(xe,2),fe=(_e[0],_e[1]),ve=function(){c(a),Y(!1),Q(!1)},ye=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(e,t){return(x-1)*y+t+1+"."},row:0},{key:"name",text:"Name",align:"center",sortable:!0},{key:"username",text:"Username",align:"center",sortable:!0},{key:"level_name",text:"Level",align:"center",sortable:!0},{key:"wh_name",text:"Warehouse",align:"center",width:170,sortable:!0},{key:"action",text:"Action",width:123,align:"center",sortable:!1,cell:function(e){return Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsxs)("button",{className:"btn btn-xs btn-success",onClick:function(t){return we(e)},style:{marginRight:"5px"},children:[Object(Oe.jsx)("i",{className:"fa fa-edit"})," Edit"]}),Object(Oe.jsxs)("button",{className:"btn btn-danger btn-xs",onClick:function(){return ke(e)},children:[Object(Oe.jsx)("i",{className:"fa fa-trash"})," Delete"]})]})}}],we=function(e){c(e),Y(!0),ie("EDIT_DATA")},ke=function(e){c(e),Q(!0),ie("DELETE_DATA")},Se=function(e){z(!0),He.postDataUsers(e,"GET_DATA").then((function(e){setTimeout((function(){"00"===e.data.err_code&&(j(e.data.data),m(e.data.total_data)),"04"===e.data.err_code&&(j([]),m(0)),z(!1)}),400)})).catch((function(e){console.log(e)}))},Fe=function(){var t=Object(ue.a)(be.a.mark((function t(a){var s,n;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="",n="-",K(!0),ae(null),"ADD_DATA"===re&&(a.created_by=e.user.id_operator,n=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil ditambahkan</div>'}})),"EDIT_DATA"===re&&(a.updated_by=e.user.id_operator,n=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong style="font-size:24px;">Success</strong>, Data berhasil diubah</div>'}})),"DELETE_DATA"===re&&(a={},a={id_admin:i.id_admin,deleted_by:e.user.id_operator},n=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}})),t.next=9,He.postDataUsers(a,re).then((function(e){s=e.data.err_code,K(!1),"00"===s?(Y(!1),Q(!1),ae(n),de(!0)):ae(e.data.err_msg)})).catch((function(e){K(!1),ae(e)}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(s.useEffect)((function(){Se({sort_order:F,sort_column:A,keyword:T,page_number:x,per_page:y}),function(e){st.a.postData(e,"GET_WH").then((function(e){setTimeout((function(){"00"===e.data.err_code&&(ge(e.data.data),fe(e.data.total_data)),"04"===e.data.err_code&&(ge([]),fe(0))}),400)})).catch((function(e){console.log(e)}))}()}),[x,y,F,A,T]);var Ce=Object(Ye.a)({initialValues:i,enableReinitialize:!0,validationSchema:Ue.a({name:Ue.b().required("Please enter fullname"),username:Ue.b().required("Please enter username"),pass:Ue.b().required("Please provide a password")}),onSubmit:function(e,t){var a=t.setSubmitting,s=t.resetForm;Fe(e),s({}),a(!1)},onReset:function(e,t){var a=t.setSubmitting;t.resetForm;a(!1)}}),Ne=Object(Oe.jsxs)(ze.a,{id:"myForm",children:[Object(Oe.jsx)(ze.a.Group,{controlId:"id_admin",children:Object(Oe.jsx)(ze.a.Control,Object(d.a)({type:"hidden"},Ce.getFieldProps("id_admin")))}),Object(Oe.jsxs)(ze.a.Group,{controlId:"fullname",children:[Object(Oe.jsx)(ze.a.Label,{children:"Fullname"}),Ce.touched.name&&Ce.errors.name?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:Ce.errors.name}):null,Object(Oe.jsx)(ze.a.Control,Object(d.a)({name:"name",size:"sm",value:"test val",type:"text",placeholder:"Fullname"},Ce.getFieldProps("name")))]}),Object(Oe.jsxs)(ze.a.Group,{controlId:"id_level",children:[Object(Oe.jsx)(ze.a.Label,{children:"Level"}),Ce.touched.id_level&&Ce.errors.id_level?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:Ce.errors.id_level}):null,Object(Oe.jsxs)(ze.a.Control,Object(d.a)(Object(d.a)({size:"sm",as:"select"},Ce.getFieldProps("id_level")),{},{children:[Object(Oe.jsx)("option",{value:"",children:"Pilih Level ..."}),e.level?e.level.map((function(e){return Object(Oe.jsx)("option",{value:e.id_level,children:e.level_name},e.id_level)})):""]}))]}),Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"username",children:[Object(Oe.jsx)(ze.a.Label,{children:"Username"}),Ce.touched.username&&Ce.errors.username?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:Ce.errors.username}):null,Object(Oe.jsx)(ze.a.Control,Object(d.a)({size:"sm",type:"text",placeholder:"Username"},Ce.getFieldProps("username")))]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"password",children:[Object(Oe.jsx)(ze.a.Label,{children:"Password"}),Ce.touched.pass&&Ce.errors.pass?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:Ce.errors.pass}):null,Object(Oe.jsx)(ze.a.Control,Object(d.a)({size:"sm",type:"text",placeholder:"Password"},Ce.getFieldProps("pass")))]})]}),Object(Oe.jsxs)(ze.a.Group,{controlId:"id_wh",children:[Object(Oe.jsx)(ze.a.Label,{children:"Warehouse"}),Ce.touched.id_wh&&Ce.errors.id_wh?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:Ce.errors.id_wh}):null,Object(Oe.jsxs)(ze.a.Control,Object(d.a)(Object(d.a)({size:"sm",as:"select"},Ce.getFieldProps("id_wh")),{},{children:[Object(Oe.jsx)("option",{children:"Pilih Warehouse ..."}),me?me.map((function(e){return Object(Oe.jsx)("option",{value:e.id_wh,children:e.wh_name},e.id_wh)})):""]}))]})]}),De=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>akan menghapus data ini ?</div>'}});return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Dashboard"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card card-success shadow-lg",children:[Object(Oe.jsx)("div",{className:"card-header",children:Object(Oe.jsxs)(Ge.a,{variant:"success",onClick:function(){ie("ADD_DATA"),c(a),Ce.resetForm(),Y(!0)},children:[Object(Oe.jsx)("i",{className:"fa fa-plus"})," Add"]})}),Object(Oe.jsx)("div",{className:"card-body",children:h?Object(Oe.jsx)(Re.a,{config:{key_column:"id_admin",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:h,columns:ye,dynamic:!0,onChange:function(e){Object.keys(e).map((function(t){return"sort_order"===t&&e[t]&&(C(e[t].order),L(e[t].column)),"page_number"===t&&_(e[t]),"page_size"===t&&w(e[t]),"filter_value"===t&&R(e[t]),!0}))},total_record:p,loading:H}):Object(Oe.jsx)("p",{children:"Loading..."})})]})})})})}),Object(Oe.jsx)(Be.a,{show:B,size:"sm",form:Ne,handleClose:ve,backdrop:"static",keyboard:!1,title:"Add/Edit User",titleButton:"Save change",themeButton:"success",isLoading:q,formSubmit:Ce.handleSubmit}),le?Object(Oe.jsx)(We.a,{show:le,title:te,type:"success",handleClose:function(){de(!1),Se({sort_order:F,sort_column:A,keyword:T,page_number:x,per_page:y})}}):"",Object(Oe.jsx)(Be.a,{show:J,size:"sm",form:De,handleClose:ve,backdrop:"static",keyboard:!1,title:"Delete User",titleButton:"Delete User",themeButton:"danger",isLoading:q,formSubmit:Fe})]}),Object(Oe.jsx)("div",{})]})})),rt=a(750),it=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")((function(e){var t=Object(s.useState)([]),a=Object(pe.a)(t,2),n=a[0],r=a[1],i=Object(s.useState)(0),c=Object(pe.a)(i,2),o=c[0],l=c[1],d=Object(s.useState)(1),h=Object(pe.a)(d,2),j=h[0],b=h[1],u=Object(s.useState)(10),p=Object(pe.a)(u,2),g=p[0],O=p[1],x=Object(s.useState)("ASC"),_=Object(pe.a)(x,2),f=_[0],v=_[1],y=Object(s.useState)("nama"),w=Object(pe.a)(y,2),k=w[0],S=w[1],F=Object(s.useState)(""),C=Object(pe.a)(F,2),N=C[0],D=C[1],A=Object(s.useState)(!0),L=Object(pe.a)(A,2),M=L[0],I=L[1],T=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(e,t){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(j-1)*g+t+1+"."})},row:0},{key:"cni_id",text:"CNI ID",align:"center",sortable:!0,cell:function(e){return Object(Oe.jsxs)(s.Fragment,{children:[" ",e.cni_id," ",Object(Oe.jsx)("br",{}),1===e.status?Object(Oe.jsx)(rt.a,{variant:"success",children:"Verified"}):""]})}},{key:"nama",text:"Fullname",align:"center",sortable:!0},{key:"email",text:"Contact",align:"center",sortable:!1,cell:function(e){return Object(Oe.jsxs)(s.Fragment,{children:[" ",e.email," ",Object(Oe.jsx)("br",{}),Object(Oe.jsx)("b",{children:"Phone"})," : ",e.phone]})}}];Object(s.useEffect)((function(){var e;e={sort_order:f,sort_column:k,keyword:N,page_number:j,per_page:g,type:1},I(!0),m.postData(e).then((function(e){setTimeout((function(){"00"===e.data.err_code&&(r(e.data.data),l(e.data.total_data)),"04"===e.data.err_code&&(r([]),l(0)),I(!1)}),400)})).catch((function(e){console.log(e)}))}),[j,g,f,k,N]);return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Members"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsx)("div",{className:"card card-success shadow-lg",children:Object(Oe.jsx)("div",{className:"card-body",children:n?Object(Oe.jsx)(Re.a,{config:{key_column:"id_member",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:n,columns:T,dynamic:!0,onChange:function(e){Object.keys(e).map((function(t){return"sort_order"===t&&e[t]&&(v(e[t].order),S(e[t].column)),"page_number"===t&&b(e[t]),"page_size"===t&&O(e[t]),"filter_value"===t&&D(e[t]),!0}))},total_record:o,loading:M}):Object(Oe.jsx)("p",{children:"Loading..."})})})})})})})]}),Object(Oe.jsx)("div",{})]})})),ct=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")((function(e){var t=Object(s.useState)([]),a=Object(pe.a)(t,2),n=a[0],r=a[1],i=Object(s.useState)(0),c=Object(pe.a)(i,2),o=c[0],l=c[1],d=Object(s.useState)(1),h=Object(pe.a)(d,2),j=h[0],b=h[1],u=Object(s.useState)(10),p=Object(pe.a)(u,2),g=p[0],O=p[1],x=Object(s.useState)("ASC"),_=Object(pe.a)(x,2),f=_[0],v=_[1],y=Object(s.useState)("nama"),w=Object(pe.a)(y,2),k=w[0],S=w[1],F=Object(s.useState)(""),C=Object(pe.a)(F,2),N=C[0],D=C[1],A=Object(s.useState)(!0),L=Object(pe.a)(A,2),M=L[0],I=L[1],T=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(e,t){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(j-1)*g+t+1+"."})},row:0},{key:"nama",text:"Fullname",align:"center",sortable:!0,cell:function(e){return Object(Oe.jsxs)(s.Fragment,{children:[" ",e.nama," ",Object(Oe.jsx)("br",{}),1===e.status?Object(Oe.jsx)("span",{className:"badge badge-success",children:"Verified"}):""]})}},{key:"email",text:"Email",align:"center",sortable:!0},{key:"phone",text:"Phone",align:"center",sortable:!0}];Object(s.useEffect)((function(){var e;e={sort_order:f,sort_column:k,keyword:N,page_number:j,per_page:g,type:2},I(!0),m.postData(e).then((function(e){setTimeout((function(){"00"===e.data.err_code&&(r(e.data.data),l(e.data.total_data)),"04"===e.data.err_code&&(r([]),l(0)),I(!1)}),400)})).catch((function(e){console.log(e)}))}),[j,g,f,k,N]);return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Konsumen"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsx)("div",{className:"card card-success shadow-lg",children:Object(Oe.jsx)("div",{className:"card-body",children:n?Object(Oe.jsx)(Re.a,{config:{key_column:"id_member",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:n,columns:T,dynamic:!0,onChange:function(e){Object.keys(e).map((function(t){return"sort_order"===t&&e[t]&&(v(e[t].order),S(e[t].column)),"page_number"===t&&b(e[t]),"page_size"===t&&O(e[t]),"filter_value"===t&&D(e[t]),!0}))},total_record:o,loading:M}):Object(Oe.jsx)("p",{children:"Loading..."})})})})})})})]}),Object(Oe.jsx)("div",{})]})})),ot="http://202.158.64.238/api_cni/index.php",lt=function(){function e(){Object(h.a)(this,e)}return Object(j.a)(e,[{key:"postData",value:function(e,t){switch(t){case"GET_DATA":return u.a.post(ot+"/category",e);case"ADD_DATA":case"EDIT_DATA":return u.a.post(ot+"/simpan_category",e);case"DELETE_DATA":return u.a.post(ot+"/del_category",e);default:return u.a.post(ot+"/category",e)}}}]),e}(),dt=new lt,ht=a(759),jt=a.p+"static/media/noPhoto.027652b1.jpg",bt=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")((function(e){var t={id_category:"",category_name:"",img:"",imgUpload:""},a={img:"",category_name:""},n=Object(s.useState)(t),r=Object(pe.a)(n,2),i=r[0],c=r[1],o=Object(s.useState)([]),l=Object(pe.a)(o,2),h=l[0],j=l[1],b=Object(s.useState)(0),u=Object(pe.a)(b,2),p=u[0],m=u[1],g=Object(s.useState)(1),O=Object(pe.a)(g,2),x=O[0],_=O[1],f=Object(s.useState)(10),v=Object(pe.a)(f,2),y=v[0],w=v[1],k=Object(s.useState)("ASC"),S=Object(pe.a)(k,2),F=S[0],C=S[1],N=Object(s.useState)("category_name"),D=Object(pe.a)(N,2),A=D[0],L=D[1],M=Object(s.useState)(""),I=Object(pe.a)(M,2),T=I[0],R=I[1],P=Object(s.useState)(!0),E=Object(pe.a)(P,2),H=E[0],z=E[1],V=Object(s.useState)(!1),G=Object(pe.a)(V,2),B=G[0],Y=G[1],U=Object(s.useState)(!1),W=Object(pe.a)(U,2),q=W[0],K=W[1],$=Object(s.useState)(!1),X=Object(pe.a)($,2),J=X[0],Z=X[1],ee=Object(s.useState)(a),te=Object(pe.a)(ee,2),ae=te[0],se=te[1],ne=Object(s.useState)(null),re=Object(pe.a)(ne,2),ie=re[0],ce=re[1],oe=Object(s.useState)(!1),le=Object(pe.a)(oe,2),de=le[0],he=le[1],je=function(){Y(!1),Z(!1)},me=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(e,t){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(x-1)*y+t+1+"."})},row:0},{key:"category_name",text:"Category",align:"center",sortable:!0},{key:"img",text:"Image",align:"center",sortable:!1,width:250,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:Object(Oe.jsxs)(ht.a,{children:[Object(Oe.jsx)(ht.a.Image,{thumbnail:!0,width:150,height:120,alt:e.product_name,src:e.img?e.img:jt}),Object(Oe.jsx)(ht.a.Caption,{children:e.product_name})]})})}},{key:"action",text:"Action",width:123,align:"center",sortable:!1,cell:function(t){return Object(Oe.jsxs)(s.Fragment,{children:[e.user.category_edit?Object(Oe.jsxs)("button",{className:"btn btn-xs btn-success",onClick:function(e){return ge(t)},style:{marginRight:"5px"},children:[Object(Oe.jsx)("i",{className:"fa fa-edit"})," Edit"]}):Object(Oe.jsxs)("button",{className:"btn btn-xs btn-success",disabled:!0,style:{marginRight:"5px"},children:[Object(Oe.jsx)("i",{className:"fa fa-edit"})," Edit"]}),e.user.category_del?Object(Oe.jsxs)("button",{className:"btn btn-danger btn-xs",onClick:function(){return xe(t)},children:[Object(Oe.jsx)("i",{className:"fa fa-trash"})," Delete"]}):Object(Oe.jsxs)("button",{className:"btn btn-danger btn-xs",disabled:!0,children:[Object(Oe.jsx)("i",{className:"fa fa-trash"})," Delete"]})]})}}],ge=function(e){ce("EDIT_DATA"),c(Object(d.a)(Object(d.a)({},e),{},{imgUpload:e.img})),se(a),Y(!0)},xe=function(e){se(a),c(e),ce("DELETE_DATA"),Z(!0)},_e=function(){var e=Object(ue.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,dt.postData(t).then((function(e){setTimeout((function(){"00"===e.data.err_code&&(j(e.data.data),m(e.data.total_data)),"04"===e.data.err_code&&(j([]),m(0)),z(!1)}),400)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var t=Object(ue.a)(be.a.mark((function t(s){var n,r,c;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="",r="-",K(!0),se(a),(c=new FormData).append("id_category",s.id_category),"ADD_DATA"===ie&&(c.append("img",s.img),c.append("created_by",e.user.id_operator),c.append("category_name",s.category_name),r=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil ditambahkan</div>'}})),"EDIT_DATA"===ie&&(c.append("img",s.img),c.append("updated_by",e.user.id_operator),c.append("category_name",s.category_name),r=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong style="font-size:24px;">Success</strong>, Data berhasil diubah</div>'}})),"DELETE_DATA"===ie&&(c={},c={id_category:i.id_category,deleted_by:e.user.id_operator},r=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}})),t.next=11,dt.postData(c,ie).then((function(e){n=e.data.err_code,K(!1),"00"===n?(Y(!1),Z(!1),se(r),he(!0)):se(e.data.err_msg)})).catch((function(e){K(!1),se(e)}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(s.useEffect)((function(){_e({sort_order:F,sort_column:A,keyword:T,page_number:x,per_page:y})}),[x,y,F,A,T]);var ve=function(e){var t=e.target,s=t.name,n=t.value;if(se(a),"img"===e.target.name){if(n=e.target.files[0],c(Object(d.a)(Object(d.a)({},i),{},{imgUpload:"",img:""})),!n)return;if(!n.name.match(/\.(jpg|jpeg|png)$/))return se({img:"Please select valid image(.jpg .jpeg .png)"}),void K(!0);if(n.size>2099200)return se({img:"File size over 2MB"}),void K(!0);var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){c(Object(d.a)(Object(d.a)({},i),{},{imgUpload:r.result,img:n}))}}c(Object(d.a)(Object(d.a)({},i),{},Object(Q.a)({},s,n)))},ye=Object(Oe.jsxs)(ze.a,{id:"myForm",children:[Object(Oe.jsx)(ze.a.Group,{controlId:"id_category",children:Object(Oe.jsx)(ze.a.Control,{type:"hidden",defaultValue:i.id_category})}),Object(Oe.jsxs)(ze.a.Group,{controlId:"category_name",children:[Object(Oe.jsx)(ze.a.Label,{children:"Category"}),ae.category_name?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:ae.category_name}):"",Object(Oe.jsx)(ze.a.Control,{size:"sm",name:"category_name",type:"text",value:i.category_name,onChange:ve,placeholder:"Category"})]}),Object(Oe.jsxs)(ze.a.Group,{controlId:"image",children:[Object(Oe.jsx)(ze.a.Label,{children:"Image"}),ae.img?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:ae.img}):"",Object(Oe.jsx)(ze.a.File,{size:"sm",name:"img",setfieldvalue:i.img,onChange:ve})]}),i.imgUpload?Object(Oe.jsx)(ze.a.Group,{controlId:"imagePreview",children:Object(Oe.jsx)(ht.a,{children:Object(Oe.jsx)(ht.a.Image,{width:130,height:100,alt:"",src:i.imgUpload})})}):""]}),we=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>akan menghapus data ini ?</div>'}});return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Category"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card card-success shadow-lg",children:[Object(Oe.jsx)("div",{className:"card-header",children:e.user.category_add?Object(Oe.jsxs)(Ge.a,{variant:"success",onClick:function(){ce("ADD_DATA"),c(t),K(!1),Y(!0),se(a)},children:[Object(Oe.jsx)("i",{className:"fa fa-plus"})," Add"]}):Object(Oe.jsxs)(Ge.a,{variant:"success",disabled:!0,children:[Object(Oe.jsx)("i",{className:"fa fa-plus"})," Add"]})}),Object(Oe.jsx)("div",{className:"card-body",children:h?Object(Oe.jsx)(Re.a,{config:{key_column:"id_category",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:h,columns:me,dynamic:!0,onChange:function(e){Object.keys(e).map((function(t){return"sort_order"===t&&e[t]&&(C(e[t].order),L(e[t].column)),"page_number"===t&&_(e[t]),"page_size"===t&&w(e[t]),"filter_value"===t&&R(e[t]),!0}))},total_record:p,loading:H}):Object(Oe.jsx)("p",{children:"No Data..."})})]})})})})}),Object(Oe.jsx)(Be.a,{show:B,form:ye,handleClose:je,backdrop:"static",keyboard:!1,title:"Add/Edit Category",titleButton:"Save change",themeButton:"success",isLoading:q,formSubmit:function(){var e=i.img.size,t=null;null!==i.category_name&&""!==i.category_name||(t=Object(d.a)(Object(d.a)({},t),{},{category_name:"Please enter categoty name"})),i.img&&e>2099200&&(t=Object(d.a)(Object(d.a)({},t),{},{img:"File size over 2MB"})),se(t),t||fe(i)}}),de?Object(Oe.jsx)(We.a,{show:de,title:ae,type:"success",handleClose:function(){he(!1),_e({sort_order:F,sort_column:A,keyword:T,page_number:x,per_page:y})}}):"",Object(Oe.jsx)(Be.a,{show:J,size:"sm",form:we,handleClose:je,backdrop:"static",keyboard:!1,title:"Delete Category",titleButton:"Delete Category",themeButton:"danger",isLoading:q,formSubmit:fe})]}),Object(Oe.jsx)("div",{})]})})),ut="http://202.158.64.238/api_cni/index.php",pt=function(){function e(){Object(h.a)(this,e)}return Object(j.a)(e,[{key:"postData",value:function(e,t){switch(t){case"GET_DATA":return u.a.post(ut+"/banner",e);case"ADD_DATA":case"EDIT_DATA":return u.a.post(ut+"/simpan_banner",e);case"DELETE_DATA":return u.a.post(ut+"/del_banner",e);default:return u.a.post(ut+"/banner",e)}}}]),e}(),mt=new pt,gt=a(62),Ot=a(245),xt=a(125),_t=a(380),ft=Object(_t.a)(),vt=function(){return new Promise((function(e,t){setTimeout((function(){e()}),200)}))},yt={valueContainer:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"0px 8px"})},indicatorsContainer:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"4px"})},indicatorSeparator:function(e){return Object(d.a)(Object(d.a)({},e),{},{marginBottom:"4px",marginTop:"4px"})},dropdownIndicator:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"1px"})},clearIndicator:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"1px"})},control:function(e){return Object(d.a)(Object(d.a)({},e),{},{minHeight:24,height:30})},option:function(e){return Object(d.a)(Object(d.a)({},e),{},{borderBottom:"1px dotted pink",paddingTop:5,paddingBottom:5})},noOptionsMessage:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:5})},menuList:function(e){return Object(d.a)(Object(d.a)({},e),{},{maxHeight:"105px",zIndex:100})}},wt={valueContainer:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"0px 8px"})},indicatorsContainer:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"4px"})},indicatorSeparator:function(e){return Object(d.a)(Object(d.a)({},e),{},{marginBottom:"4px",marginTop:"4px"})},dropdownIndicator:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"1px"})},clearIndicator:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"1px"})},control:function(e){return Object(d.a)(Object(d.a)({},e),{},{minHeight:24})},option:function(e){return Object(d.a)(Object(d.a)({},e),{},{borderBottom:"1px dotted pink",paddingTop:5,paddingBottom:5})},noOptionsMessage:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:5})},menuList:function(e){return Object(d.a)(Object(d.a)({},e),{},{maxHeight:"185px",zIndex:2})}},kt=function(e){var t=Object(s.useState)(!0),a=Object(pe.a)(t,2),n=a[0],r=a[1];return Object(Oe.jsx)(Ot.a,{name:e.name?e.name:"id_product",isDisabled:n,loadOptions:function(e,t,a){var s=a.page,n={per_page:25,page_number:s,keyword:e};return function(e){var t="http://202.158.64.238/api_cni/index.php/product/?per_page="+e.per_page+"&page_number="+e.page_number+"&keyword="+e.keyword;return vt().then((function(){return fetch(t).then((function(e){return e.json()})).then((function(e){return e}))}))}(n).then((function(e){if(r(!1),"00"===e.err_code){var t=n.page_number*n.per_page;return{options:[{value:-1,label:"Tidak ada"}].concat(Object(gt.a)(e.data)),hasMore:t<e.total_data,additional:{page:s+1}}}return{options:[{value:0,label:"No Option"}],hasMore:!1,additional:{page:s+1}}}))},defaultOptions:!0,value:e.myVal||"",onChange:e.onChange,placeholder:n?"Loading ...":"Select ...",styles:yt,additional:{page:1}})},St=function(e){var t=Object(s.useState)(!0),a=Object(pe.a)(t,2),n=a[0],r=a[1];return Object(Oe.jsx)(Ot.a,{name:"id_category",isDisabled:n,loadOptions:function(e,t,a){var s=a.page,n={per_page:25,page_number:s,keyword:e};return function(e){var t="http://202.158.64.238/api_cni/index.php/category/?per_page="+e.per_page+"&page_number="+e.page_number+"&keyword="+e.keyword;return vt().then((function(){return fetch(t).then((function(e){return e.json()})).then((function(e){return e}))}))}(n).then((function(e){if(r(!1),"00"===e.err_code){var t=n.page_number*n.per_page;return{options:e.data,hasMore:t<e.total_data,additional:{page:s+1}}}return{options:[{value:0,label:"No Option"}],hasMore:!1,additional:{page:s+1}}}))},defaultOptions:!0,value:e.myVal||"",onChange:e.onChange,placeholder:n?"Loading...":"Select....",styles:yt,additional:{page:1}})},Ft=function(e){return Object(Oe.jsx)(xt.a,{onChange:e.onChange,options:e.getData||[{value:0,label:"Loading..."}],placeholder:e.isLoading?"No Option...":"Select....",isDisabled:e.isLoading,styles:yt,value:e.myVal||""})},Ct=function(e){return Object(Oe.jsx)(xt.a,{onChange:e.onChange,isMulti:!0,closeMenuOnSelect:!1,components:ft,options:e.getData||[{value:0,label:"Loading..."}],placeholder:e.isLoading?"No Option...":"Select....",isDisabled:e.isLoading,styles:wt,value:e.myVal||""})},Nt=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")((function(e){var t={id_banner:"",id_product:"",img:"",type:"",url:"",priority_number:"",imgUpload:""},a={img:"",priority_number:"",type:""},n=Object(s.useState)(t),r=Object(pe.a)(n,2),i=r[0],c=r[1],o=Object(s.useState)([]),l=Object(pe.a)(o,2),h=l[0],j=l[1],b=Object(s.useState)(0),u=Object(pe.a)(b,2),p=u[0],m=u[1],g=Object(s.useState)(1),O=Object(pe.a)(g,2),x=O[0],_=O[1],f=Object(s.useState)(10),v=Object(pe.a)(f,2),y=v[0],w=v[1],k=Object(s.useState)("ASC"),S=Object(pe.a)(k,2),F=S[0],C=S[1],N=Object(s.useState)("priority_number"),D=Object(pe.a)(N,2),A=D[0],L=D[1],M=Object(s.useState)(""),I=Object(pe.a)(M,2),T=I[0],R=I[1],P=Object(s.useState)(!0),E=Object(pe.a)(P,2),H=E[0],z=E[1],V=Object(s.useState)(!1),G=Object(pe.a)(V,2),B=G[0],Y=G[1],U=Object(s.useState)(!1),W=Object(pe.a)(U,2),q=W[0],K=W[1],$=Object(s.useState)(!1),X=Object(pe.a)($,2),J=X[0],Z=X[1],ee=Object(s.useState)(a),te=Object(pe.a)(ee,2),ae=te[0],se=te[1],ne=Object(s.useState)(null),re=Object(pe.a)(ne,2),ie=re[0],ce=re[1],oe=Object(s.useState)(!1),le=Object(pe.a)(oe,2),de=le[0],he=le[1],je=function(){Y(!1),Z(!1)},me=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(e,t){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(x-1)*y+t+1+"."})},row:0},{key:"priority_number",text:"Priorty",align:"center",sortable:!0},{key:"img",text:"Image",align:"center",sortable:!1,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:Object(Oe.jsxs)(ht.a,{children:[Object(Oe.jsx)(ht.a.Image,{thumbnail:!0,width:150,height:120,alt:1===e.type?e.product_name:Object(Oe.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.url}),src:e.img}),Object(Oe.jsx)(ht.a.Caption,{children:1===e.type?e.product_name:Object(Oe.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.url})})]})})}},{key:"action",text:"Action",width:170,align:"center",sortable:!1,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsxs)("button",{className:"btn btn-xs btn-success",onClick:function(t){return ge(e)},style:{marginRight:"5px"},children:[Object(Oe.jsx)("i",{className:"fa fa-edit"})," Edit"]}),Object(Oe.jsxs)("button",{className:"btn btn-danger btn-xs",onClick:function(){return xe(e)},children:[Object(Oe.jsx)("i",{className:"fa fa-trash"})," Delete"]})]})})}}],ge=function(e){c(Object(d.a)(Object(d.a)({},e),{},{imgUpload:e.img})),Y(!0),ce("EDIT_DATA"),se(a)},xe=function(e){c(e),Z(!0),ce("DELETE_DATA")},_e=function(e){z(!0),mt.postData(e).then((function(e){setTimeout((function(){"00"===e.data.err_code&&(j(e.data.data),m(e.data.total_data)),"04"===e.data.err_code&&(j([]),m(0)),z(!1)}),400)})).catch((function(e){console.log(e)}))},fe=function(){var t=Object(ue.a)(be.a.mark((function t(s){var n,r,c;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="",r="-",K(!0),se(a),(c=new FormData).append("id_banner",s.id_banner),c.append("type",s.type),c.append("priority_number",s.priority_number),1===s.type||"1"===s.type?c.append("id_product",s.id_product):c.append("id_product",""),2===s.type||"2"===s.type?c.append("url",s.url):c.append("url",""),"ADD_DATA"===ie&&(c.append("img",s.img),c.append("id_operator",e.user.id_operator),r=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil ditambahkan</div>'}})),"EDIT_DATA"===ie&&(c.append("img",s.img),c.append("id_operator",e.user.id_operator),r=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong style="font-size:24px;">Success</strong>, Data berhasil diubah</div>'}})),"DELETE_DATA"===ie&&(c={},c={id_banner:i.id_banner,id_operator:e.user.id_operator},r=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}})),t.next=15,mt.postData(c,ie).then((function(e){n=e.data.err_code,K(!1),"06"===n&&se({priority_number:"Number already exist"}),"00"===n&&(Y(!1),Z(!1),se(r),he(!0))})).catch((function(e){K(!1),se(e)}));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(s.useEffect)((function(){_e({sort_order:F,sort_column:A,keyword:T,page_number:x,per_page:y})}),[x,y,F,A,T]);var ve=function(e){var t=e.target,s=t.name,n=t.value;if(se(a),"img"===e.target.name){if(n=e.target.files[0],c(Object(d.a)(Object(d.a)({},i),{},{imgUpload:"",img:""})),!n)return;if(!n.name.match(/\.(jpg|jpeg|png)$/))return se({img:"Please select valid image(.jpg .jpeg .png)"}),void K(!0);if(n.size>2099200)return se({img:"File size over 2MB"}),void K(!0);var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){c(Object(d.a)(Object(d.a)({},i),{},{imgUpload:r.result,img:n}))}}c(Object(d.a)(Object(d.a)({},i),{},Object(Q.a)({},s,n)))},ye=function(e){var t=e.target.validity.valid?e.target.value:i.priority_number;c(Object(d.a)(Object(d.a)({},i),{},{priority_number:t}))},we=Object(Oe.jsxs)(ze.a,{id:"myForm",children:[Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsx)(ze.a.Group,{controlId:"id_banner",children:Object(Oe.jsx)(ze.a.Control,{type:"hidden",defaultValue:i.id_banner})}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"type",children:[Object(Oe.jsx)(ze.a.Label,{children:"Type"}),ae.type?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:ae.type}):"",Object(Oe.jsxs)(ze.a.Control,{name:"type",size:"sm",as:"select",value:i.type,onChange:ve,children:[Object(Oe.jsx)("option",{value:"",children:"- Type -"}),Object(Oe.jsx)("option",{value:"1",children:"Product Detail"}),Object(Oe.jsx)("option",{value:"2",children:"Website"})]})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"priority_number",children:[Object(Oe.jsx)(ze.a.Label,{children:"Priority Number"}),ae.priority_number?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:ae.priority_number}):"",Object(Oe.jsx)(ze.a.Control,{size:"sm",autoComplete:"off",name:"priority_number",type:"text",pattern:"[0-9]*",onInput:ye,value:i.priority_number,onChange:ye,placeholder:"Priority Number"})]})]}),2===i.type||"2"===i.type?Object(Oe.jsxs)(ze.a.Group,{controlId:"url",children:[Object(Oe.jsx)(ze.a.Label,{children:"URL"}),Object(Oe.jsx)(ze.a.Control,{autoComplete:"off",size:"sm",type:"text",name:"url",value:i.url,onChange:ve,placeholder:"URL"})]}):"",1===i.type||"1"===i.type?Object(Oe.jsxs)(ze.a.Group,{controlId:"id_product",children:[Object(Oe.jsx)(ze.a.Label,{children:"Product"}),Object(Oe.jsx)(kt,{myVal:i.id_product?{value:i.id_product,label:i.product_name}:"",onChange:function(e){c(Object(d.a)(Object(d.a)({},i),{},{id_product:e.value,product_name:e.label}))}})]}):"",Object(Oe.jsxs)(ze.a.Group,{controlId:"image",children:[Object(Oe.jsx)(ze.a.Label,{children:"Image"}),ae.img?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:ae.img}):null,Object(Oe.jsx)(ze.a.File,{size:"sm",name:"img",setfieldvalue:i.img,onChange:ve})]}),i.imgUpload?Object(Oe.jsx)(ze.a.Group,{controlId:"imagePreview",children:Object(Oe.jsx)(ht.a,{children:Object(Oe.jsx)(ht.a.Image,{thumbnail:!0,width:130,height:100,alt:"",src:i.imgUpload})})}):""]}),ke=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>akan menghapus data ini ?</div>'}});return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Banner"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card card-success shadow-lg",children:[Object(Oe.jsx)("div",{className:"card-header",children:Object(Oe.jsxs)(Ge.a,{variant:"success",onClick:function(){ce("ADD_DATA"),c(t),K(!1),Y(!0),se(a)},children:[Object(Oe.jsx)("i",{className:"fa fa-plus"})," Add"]})}),Object(Oe.jsx)("div",{className:"card-body",children:h?Object(Oe.jsx)(Re.a,{config:{key_column:"id_banner",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:h,columns:me,dynamic:!0,onChange:function(e){Object.keys(e).map((function(t){return"sort_order"===t&&e[t]&&(C(e[t].order),L(e[t].column)),"page_number"===t&&_(e[t]),"page_size"===t&&w(e[t]),"filter_value"===t&&R(e[t]),!0}))},total_record:p,loading:H}):Object(Oe.jsx)("p",{children:"No Data..."})})]})})})})}),Object(Oe.jsx)(Be.a,{show:B,form:we,handleClose:je,backdrop:"static",keyboard:!1,title:"Add/Edit Banner",titleButton:"Save change",themeButton:"success",isLoading:q,formSubmit:function(){var e=i.img.size,t=null;null!==i.type&&""!==i.type||(t=Object(d.a)(Object(d.a)({},t),{},{type:"Please select type"})),i.img&&e>2099200&&(t=Object(d.a)(Object(d.a)({},t),{},{img:"File size over 2MB"})),se(t),t||fe(i)}}),de?Object(Oe.jsx)(We.a,{show:de,title:ae,type:"success",handleClose:function(){he(!1),_e({sort_order:F,sort_column:A,keyword:T,page_number:x,per_page:y})}}):"",Object(Oe.jsx)(Be.a,{show:J,size:"sm",form:ke,handleClose:je,backdrop:"static",keyboard:!1,title:"Delete Banner",titleButton:"Delete Banner",themeButton:"danger",isLoading:q,formSubmit:fe})]}),Object(Oe.jsx)("div",{})]})})),Dt=a(88),At="http://202.158.64.238/api_cni/index.php",Lt=function(){function e(){Object(h.a)(this,e)}return Object(j.a)(e,[{key:"postData",value:function(e,t){switch(t){case"GET_DATA":return u.a.post(At+"/product",e);case"ADD_DATA":return u.a.post(At+"/simpan_product",e);case"VIEW_DETAIL":return u.a.post(At+"/product_detail",e);case"GET_IMAGE":return u.a.post(At+"/product_img",e);case"UPLOAD_IMAGE":return u.a.post(At+"/upl_img_prod",e);case"DEL_IMAGE":return u.a.post(At+"/del_img_prod",e);case"DELETE_DATA":return u.a.post(At+"/del_product",e);case"ACTIVE_DATA":return u.a.post(At+"/set_stts_product",e);case"GET_PRODUCT":return At+="/product/?per_page="+e.per_page+"&page_number="+e.page_number+"&keyword="+e.keyword,u.a.get(At+e);default:return u.a.post(At+"/product",e)}}}]),e}(),Mt=new Lt,It=a(13),Tt=a(758),Rt=a(751),Pt=function(e){var t=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(e.pageNumb-1)*e.pageSize+a+1+"."})},row:0},{key:"product_name",text:"Product",align:"center",sortable:!0},{key:"category_name",text:"Category",align:"center",sortable:!0},{key:"harga_member",text:"Hrg. Member",align:"center",sortable:!0,width:120,cell:function(t){return Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(s.Fragment,{children:e.hakAkses.pricelist_view?Object(Oe.jsx)(Tt.a,{placement:"left",overlay:Object(Oe.jsx)(Rt.a,{id:"tooltip-left",children:"Pricelist"}),children:Object(Oe.jsx)(ge.b,{to:"/pricelist",onClick:function(){return e.PriceList(t)},children:Object(Oe.jsx)(It.a,{value:t.harga_member,thousandSeparator:!0,decimalScale:2,displayType:"text"})})}):Object(Oe.jsx)(It.a,{value:t.harga_member,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}},{key:"harga_konsumen",text:"Hrg. Konsumen",align:"center",sortable:!0,width:120,cell:function(t){return Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(s.Fragment,{children:e.hakAkses.pricelist_view?Object(Oe.jsx)(Tt.a,{placement:"left",overlay:Object(Oe.jsx)(Rt.a,{id:"tooltip-left",children:"Pricelist"}),children:Object(Oe.jsx)(ge.b,{to:"/pricelist",onClick:function(){return e.PriceList(t)},children:Object(Oe.jsx)(It.a,{value:t.harga_konsumen,thousandSeparator:!0,decimalScale:2,displayType:"text"})})}):Object(Oe.jsx)(It.a,{value:t.harga_konsumen,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}},{key:"qty",text:"Stok",align:"center",width:70,sortable:!0,cell:function(e){return Object(Oe.jsx)(It.a,{value:e.qty,thousandSeparator:!0,decimalScale:2,displayType:"text"})}},{key:"is_active",text:"Active",width:50,sortable:!1,align:"center",cell:function(t){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)(ze.a.Check,{disabled:1===t.id_product,id:t.id_product,checked:t.is_active>0?"checked":"",type:"switch",className:"chk_isactive",custom:!0,onChange:function(){return e.onSetActive(t)}})})})}},{key:"action",text:"Action",width:130,sortable:!1,align:"center",cell:function(t){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsxs)("button",{className:"btn btn-info btn-xs",onClick:function(){return e.listImg(t)},style:{marginRight:"5px"},children:[Object(Oe.jsx)("i",{className:"fa fa-list"})," Image"]}),Object(Oe.jsxs)("button",{disabled:!e.hakAkses.product_edit,className:"btn btn-xs btn-success",onClick:function(){return e.editRecord(t)},style:{marginRight:"5px"},children:[Object(Oe.jsx)("i",{className:"fa fa-edit"})," Edit"]})]})})}}];return Object(Oe.jsx)(Re.a,{config:{key_column:"id_product",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:e.records,columns:t,dynamic:!0,onChange:e.onChange,total_record:e.total_record,loading:e.loading})},Et=a(374),Ht=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")((function(e){var t=Object(s.useState)([]),a=Object(pe.a)(t,2),n=a[0],r=a[1],i=Object(s.useState)(0),c=Object(pe.a)(i,2),o=c[0],l=c[1],h=Object(s.useState)({id_product:""}),j=Object(pe.a)(h,2),b=j[0],u=j[1],p=Object(s.useState)(1),m=Object(pe.a)(p,2),g=m[0],O=m[1],x=Object(s.useState)(10),_=Object(pe.a)(x,2),f=_[0],v=_[1],y=Object(s.useState)("ASC"),w=Object(pe.a)(y,2),k=w[0],S=w[1],F=Object(s.useState)("product_name"),C=Object(pe.a)(F,2),N=C[0],D=C[1],A=Object(s.useState)(""),L=Object(pe.a)(A,2),M=L[0],I=L[1],T=Object(s.useState)(!1),R=Object(pe.a)(T,2),P=R[0],E=R[1],H=Object(s.useState)(!1),z=Object(pe.a)(H,2),V=z[0],G=z[1],B=Object(s.useState)(!0),Y=Object(pe.a)(B,2),U=Y[0],W=Y[1],q=Object(s.useState)(!1),K=Object(pe.a)(q,2),$=K[0],X=K[1],J=Object(s.useState)(null),Q=Object(pe.a)(J,2),Z=Q[0],ee=Q[1],te=Object(me.g)(),ae=new Dt.a,se=function(){var e=Object(ue.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae.remove("selectedIdCNI"),ae.remove("imageIdCNI"),ae.remove("pricelistIdCNI"),W(!0),t.is_cms=1,e.next=7,Mt.postData(t).then((function(e){setTimeout((function(){"00"===e.data.err_code&&(r(e.data.data),l(e.data.total_data)),"04"===e.data.err_code&&(r([]),l(0)),W(!1)}),300)})).catch((function(e){console.log(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var t=Object(ue.a)(be.a.mark((function t(){var a,s,n;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="","-",E(!0),n={id_product:b.id_product,id_operator:e.user.id_operator},s=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}}),t.next=7,Mt.postData(n,"DELETE_DATA").then((function(e){a=e.data.err_code,E(!1),"00"===a&&(ee(s),G(!1),X(!0))})).catch((function(e){E(!1),console.log(e)}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(s.useEffect)((function(){var e={sort_order:k,sort_column:N,keyword:M,page_number:g,per_page:f,type:1};(function(){var e=Object(ue.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),t.is_cms=1,e.next=4,Mt.postData(t).then((function(e){setTimeout((function(){"00"===e.data.err_code&&(r(e.data.data),l(e.data.total_data)),"04"===e.data.err_code&&(r([]),l(0)),W(!1)}),300)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(e);var t=new Dt.a;t.remove("selectedIdCNI"),t.remove("imageIdCNI"),t.remove("pricelistIdCNI")}),[g,f,k,N,M]);var re=function(){var e=Object(ue.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.set("selectedIdCNI",t.id_product);case 2:te.push("/edit_product");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var t=Object(ue.a)(be.a.mark((function t(a){var s,i,c,o,l;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=1===a.is_active?0:1,i=n,c=Et.array,o=[],i.map((function(e,t){c=e.id_product===a.id_product?Object(d.a)(Object(d.a)({},e),{},{is_active:s}):Object(d.a)({},e),o[t]=c})),l={id_product:a.id_product,status:s,id_operator:e.user.id_operator},r(o),t.next=9,Mt.postData(l,"ACTIVE_DATA").then((function(e){})).catch((function(e){console.log(e),r(i)}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ce=function(){var e=Object(ue.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.set("imageIdCNI",t.id_product);case 2:te.push("/list_img");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(ue.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.set("pricelistIdCNI",t.id_product);case 2:te.push("/pricelist");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>akan menghapus data ini ?</div>'}});return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Products"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card card-success shadow-lg",children:[Object(Oe.jsx)("div",{className:"card-header",children:e.user.product_add?Object(Oe.jsx)(ge.b,{to:"/add_product",children:Object(Oe.jsxs)(Ge.a,{variant:"success",children:[Object(Oe.jsx)("i",{className:"fa fa-plus"})," Add"]})}):Object(Oe.jsxs)(Ge.a,{variant:"success",disabled:!0,children:[Object(Oe.jsx)("i",{className:"fa fa-plus"})," Add"]})}),Object(Oe.jsx)("div",{className:"card-body",children:n?Object(Oe.jsx)(Pt,{records:n,onChange:function(e){Object.keys(e).map((function(t){return"sort_order"===t&&e[t]&&(S(e[t].order),D(e[t].column)),"page_number"===t&&O(e[t]),"page_size"===t&&v(e[t]),"filter_value"===t&&I(e[t]),!0}))},total_record:o,pageNumb:g,pageSize:f,loading:U,editRecord:re,listImg:ce,PriceList:oe,deleteRecord:function(e){u(e),G(!0)},onSetActive:ie,hakAkses:e.user}):Object(Oe.jsx)("p",{children:"Loading..."})})]})})})})}),Object(Oe.jsx)(Be.a,{show:V,size:"sm",form:le,handleClose:function(){G(!1)},backdrop:"static",keyboard:!1,title:"Delete Product",titleButton:"Delete Product",themeButton:"danger",isLoading:P,formSubmit:ne}),$?Object(Oe.jsx)(We.a,{show:$,title:Z,type:"success",handleClose:function(){X(!1),se({sort_order:k,sort_column:N,keyword:M,page_number:g,per_page:f})}}):""]}),Object(Oe.jsx)("div",{})]})})),zt=a(23),Vt=a(752),Gt=a(19),Bt=a.n(Gt),Yt=(a(43),a(45)),Ut=a.n(Yt),Wt=(a(102),a(33)),qt=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(Oe.jsx)("div",{children:Object(Oe.jsx)("div",{className:"card shadow-lg",style:{height:"450px"},children:Object(Oe.jsxs)("div",{className:"card-body my-card-body",children:[Object(Oe.jsx)("div",{id:"loader"}),"Loading ..."]})})})}}]),a}(s.Component),Kt=a(54),$t=a.n(Kt),Xt=(a(141),new Dt.a),Jt=Bt()().subtract(1,"day"),Qt=function(e){return e.isAfter(Jt)},Zt=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=Object(ue.a)(be.a.mark((function e(){var t,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState({appsLoading:!0,isLoading:!0}),t=Xt.get("selectedIdCNI"),a={id_product:t},e.next=5,Mt.postData(a,"VIEW_DETAIL").then((function(e){if("00"===e.data.err_code){var t=e.data.data;Object.keys(s.initialState).map((function(e){return s.setState(Object(Q.a)({},e,t[e])),s.setState({imgUpload:t.img}),s.setState({img:""}),s.setState({isLoading:!1,appsLoading:!1}),1}))}"04"===e.data.err_code&&s.setState({isLoading:!1})})).catch((function(e){console.log(e),s.setState({isLoading:!1})}));case 5:case"end":return e.stop()}}),e)}))),s.initialState={id_product:"",kode_produk:"",product_name:"",id_category:"",category_name:"",deskripsi:"",berat:"",kondisi:"",min_pembelian:"",video_url:"",img:"",imgUpload:"",short_description:"",qty:"",special_promo:"",favourite:"",priority_number_favourite:"",start_date:"",end_date:"",id_operator:""},s.state={validSd:Qt,validEd:Qt,isLoading:!1,showSwalSuccess:!1,errMsg:s.initialState,validated:!1,isEdit:!1,appsLoading:!1,id_product:"",product_name:"",product_code:"",kode_produk:"",id_category:"",category_name:"",deskripsi:"",berat:"",kondisi:"",min_pembelian:"",video_url:"",img:"",imgUpload:jt,short_description:"",qty:"",special_promo:"",favourite:"",priority_number_favourite:"",start_date:"",end_date:"",id_operator:"",test:"Halo"},s.handleSubmit=s.handleSubmit.bind(Object(zt.a)(s)),s.handleChange=s.handleChange.bind(Object(zt.a)(s)),s.onchangeSelect=s.onchangeSelect.bind(Object(zt.a)(s)),s.handleChangeStartDate=s.handleChangeStartDate.bind(Object(zt.a)(s)),s.handleChangeEndDate=s.handleChangeEndDate.bind(Object(zt.a)(s)),s.handleChangeDesk=s.handleChangeDesk.bind(Object(zt.a)(s)),s.closeSwal=s.closeSwal.bind(Object(zt.a)(s)),s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname.replace("/",""),t=Xt.get("selectedIdCNI");"edit_product"===e&&(t>0||!t)&&(this.setState({isEdit:!0}),this.getData()),this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChangeStartDate",value:function(e){if(e){var t=new Date(e),a=Bt()(t).format("YYYY-MM-DD HH:mm");this.setState({start_date:a})}else this.setState({start_date:""});this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChangeEndDate",value:function(e){if(e){var t=new Date(e),a=Bt()(t).format("YYYY-MM-DD HH:mm");this.setState({end_date:a})}else this.setState({end_date:""});this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChange",value:function(e){var t=this,a=e.target.name,s=e.target.value;if(this.setState({isLoading:!1}),this.setState({errMsg:{img:""}}),"img"===e.target.name){if(s=e.target.files[0],this.setState({img:""}),!s)return;if(!s.name.match(/\.(jpg|jpeg|png)$/))return this.setState({errMsg:{img:"Extension Invalid"}}),void this.setState({isLoading:!0});if(s.size>2099200)return this.setState({errMsg:{img:"File size over 2MB"}}),void this.setState({isLoading:!0});var n=new FileReader;n.readAsDataURL(s),n.onloadend=function(){t.setState({img:s,imgUpload:n.result})}}"special_promo"!==a&&"favourite"!==a||(s=e.target.checked?1:0),this.setState(Object(Q.a)({},a,s)),this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChangeDesk",value:function(e){this.setState(Object(d.a)(Object(d.a)({},this.state),{},{deskripsi:e})),this.state.id_operator||this.setState(Object(d.a)(Object(d.a)({},this.state),{},{id_operator:this.props.user.id_operator}))}},{key:"onchangeSelect",value:function(e){this.setState({id_category:e.value,category_name:e.label}),this.state.id_operator||this.setState(Object(d.a)(Object(d.a)({},this.state),{},{id_operator:this.props.user.id_operator}))}},{key:"handleSubmit",value:function(e){var t=this,a=e.currentTarget;this.setState({isLoading:!0});var s=!1;if(!1===a.checkValidity()&&(this.setState({isLoading:!1}),this.state.id_category||this.setState(Object(d.a)(Object(d.a)({},this),{},{errMsg:Object(d.a)(Object(d.a)({},this),{},{id_category:"Required"})})),s=!0,e.preventDefault(),e.stopPropagation()),this.state.id_category||this.setState(Object(d.a)(Object(d.a)({},this),{},{errMsg:Object(d.a)(Object(d.a)({},this),{},{id_category:"Required"})})),this.state.id_category||(s=!0,this.setState({isLoading:!1}),e.preventDefault(),e.stopPropagation()),this.setState({validated:!0}),!s){var n="",r=new FormData;Object.keys(this.initialState).map((function(e){return r.append(e,t.state[e]),1})),r.append("id_operator",this.props.user.id_operator),Mt.postData(r,"ADD_DATA").then((function(e){"00"===(n=e.data.err_code)?t.setState({showSwalSuccess:!0}):"07"===n?t.setState(Object(d.a)(Object(d.a)({},t),{},{errMsg:Object(d.a)(Object(d.a)({},t),{},{priority_number_favourite:e.data.err_msg})})):t.setState(Object(d.a)(Object(d.a)({},t),{},{errMsg:Object(d.a)(Object(d.a)({},t),{},{product_code:e.data.err_msg})}))})).catch((function(a){e.preventDefault(),e.stopPropagation(),t.setState({isLoading:!0,validated:!1})}))}e.preventDefault(),e.stopPropagation()}},{key:"closeSwal",value:function(){var e=this;this.setState({showSwalSuccess:!1}),Object.keys(this.initialState).map((function(t){return e.setState(Object(Q.a)({},t,"")),e.setState({isLoading:!1}),1})),this.props.history.push("/products")}},{key:"renderView",value:function(e,t,a){var s=this;return"time"===e?t():Object(Oe.jsxs)("div",{className:"wrapper",children:[t(),Object(Oe.jsx)("div",{className:"controls",children:Object(Oe.jsx)(Ge.a,{variant:"warning",type:"button",onClick:function(){return s.clear(a)},children:"Clear"})})]})}},{key:"clear",value:function(e){"end_date"===e&&this.handleChangeEndDate(),"start_date"===e&&this.handleChangeStartDate()}},{key:"render",value:function(){var e=this,t=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil disimpan</div>'}});return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:this.state.isEdit?"Edit Product":"Add Product"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:this.state.appsLoading?Object(Oe.jsx)(qt,{}):Object(Oe.jsx)("div",{className:"card shadow-lg",children:Object(Oe.jsxs)(ze.a,{noValidate:!0,validated:this.state.validated,onSubmit:this.handleSubmit,children:[Object(Oe.jsxs)("div",{className:"card-body my-card-body",children:[Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"kode_produk",children:[Object(Oe.jsx)(ze.a.Label,{children:"Product Code"}),Object(Oe.jsx)(ze.a.Control,{value:this.state.kode_produk,autoComplete:"off",onChange:this.handleChange,size:"sm",name:"kode_produk",type:"text",required:!0,placeholder:"Product Code"}),this.state.errMsg.product_code?Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:this.state.errMsg.product_code}):"",Object(Oe.jsx)(ze.a.Control.Feedback,{type:"invalid",children:Object(Oe.jsx)("span",{className:"badge badge-danger",children:"Product Code is Required"})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"product_name",children:[Object(Oe.jsx)(ze.a.Label,{children:"Product Name"}),Object(Oe.jsx)(ze.a.Control,{value:this.state.product_name,autoComplete:"off",onChange:this.handleChange,size:"sm",name:"product_name",type:"text",required:!0,placeholder:"Product Name"}),Object(Oe.jsx)(ze.a.Control.Feedback,{type:"invalid",children:Object(Oe.jsx)("span",{className:"badge badge-danger",children:"Product Name is Required"})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"berat",children:[Object(Oe.jsx)(ze.a.Label,{children:"Weight(Gram)"}),Object(Oe.jsx)(It.a,{name:"berat",onChange:this.handleChange,className:"form-control form-control-sm",value:this.state.berat,thousandSeparator:!0,decimalScale:2,inputMode:"numeric",required:!0,autoComplete:"off",placeholder:"Weight(Gram)"}),Object(Oe.jsx)(ze.a.Control.Feedback,{type:"invalid",children:Object(Oe.jsx)("span",{className:"badge badge-danger",children:"Weight is Required"})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"qty",children:[Object(Oe.jsx)(ze.a.Label,{children:"Quantity"}),Object(Oe.jsx)(It.a,{onChange:this.handleChange,name:"qty",className:"form-control form-control-sm",value:this.state.qty?this.state.qty:0,thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"Quantity"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"min_pembelian",children:[Object(Oe.jsx)(ze.a.Label,{children:"Min. Pembelian"}),Object(Oe.jsx)(It.a,{onChange:this.handleChange,name:"min_pembelian",className:"form-control form-control-sm",value:this.state.min_pembelian?this.state.min_pembelian:"",thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"Min. Pembelian"})]})]}),Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:3,controlId:"category",children:[Object(Oe.jsx)(ze.a.Label,{children:"Category"}),Object(Oe.jsx)(St,{myVal:this.state.id_category?{value:this.state.id_category,label:this.state.category_name}:"",onChange:this.onchangeSelect}),this.state.errMsg.id_category?Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:this.state.errMsg.id_category}):""]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:3,controlId:"kondisi",children:[Object(Oe.jsx)(ze.a.Label,{children:"Kondisi"}),Object(Oe.jsx)(ze.a.Control,{value:this.state.kondisi?this.state.kondisi:"",onChange:this.handleChange,size:"sm",name:"kondisi",type:"text",autoComplete:"off",placeholder:"Kondisi"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"start_date",children:[Object(Oe.jsx)(ze.a.Label,{children:"Start Date"}),Object(Oe.jsx)(Ut.a,{setViewDate:this.state.start_date?new Date(this.state.start_date):new Date,value:this.state.start_date?new Date(this.state.start_date):"",onChange:this.handleChangeStartDate,inputProps:{readOnly:!0,autoComplete:"off",placeholder:"Start Date",name:"start_date",className:"form-control form-control-sm"},renderView:function(t,a,s){return e.renderView(t,a,"start_date")},locale:"id",isValidDate:this.state.validSd})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"end_date",children:[Object(Oe.jsx)(ze.a.Label,{children:"End Date"}),Object(Oe.jsx)(Ut.a,{setViewDate:this.state.end_date?new Date(this.state.end_date):new Date,value:this.state.end_date?new Date(this.state.end_date):"",onChange:this.handleChangeEndDate,inputProps:{readOnly:!0,placeholder:"End Date",autoComplete:"off",name:"end_date",className:"form-control form-control-sm"},renderView:function(t,a){return e.renderView(t,a,"end_date")},locale:"id",isValidDate:this.state.validEd})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"special_promo",children:[Object(Oe.jsx)(ze.a.Label,{children:"Special Promo"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:3},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.special_promo>0?"checked":"",label:this.state.special_promo>0?"Yes":"No",type:"switch",name:"special_promo",custom:!0})})})]})]}),Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"short_description",children:[Object(Oe.jsx)(ze.a.Label,{children:"Short Description"}),Object(Oe.jsx)(ze.a.Control,{required:!0,value:this.state.short_description?this.state.short_description:"",onChange:this.handleChange,size:"sm",name:"short_description",type:"text",autoComplete:"off",placeholder:"Short Description"}),Object(Oe.jsx)(ze.a.Control.Feedback,{type:"invalid",children:Object(Oe.jsx)("span",{className:"badge badge-danger",children:"Short Description is Required"})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"video_url",children:[Object(Oe.jsx)(ze.a.Label,{children:"URL Video"}),Object(Oe.jsx)(ze.a.Control,{value:this.state.video_url?this.state.video_url:"",onChange:this.handleChange,size:"sm",name:"video_url",type:"text",autoComplete:"off",placeholder:"URL Video"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"priority_number_favourite",children:[Object(Oe.jsx)(ze.a.Label,{children:"Number Favourite"}),Object(Oe.jsx)(It.a,{value:this.state.priority_number_favourite?this.state.priority_number_favourite:"",onChange:this.handleChange,className:"form-control form-control-sm",name:"priority_number_favourite",type:"text",thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",disabled:!(this.state.favourite>0),placeholder:"Number Favourite"}),this.state.errMsg.priority_number_favourite?Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:this.state.errMsg.priority_number_favourite}):""]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"favourite",children:[Object(Oe.jsx)(ze.a.Label,{children:"Favourite"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:3},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.favourite>0?"checked":"",label:this.state.favourite>0?"Yes":"No",type:"switch",name:"favourite",custom:!0})})})]})]}),Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"deskripsi",children:[Object(Oe.jsx)(ze.a.Label,{children:"Description"}),Object(Oe.jsx)($t.a,{defaultValue:this.state.deskripsi,setContents:this.state.deskripsi,onChange:this.handleChangeDesk,setOptions:{placeholder:"Description ...",maxHeight:200,height:200,buttonList:[["fontSize","formatBlock","bold","underline","italic","align","horizontalRule","list","lineHeight","link","strike","subscript","superscript","codeView","undo","redo","fontColor","hiliteColor","textStyle","paragraphStyle","blockquote","removeFormat"]]}})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"img",children:[Object(Oe.jsx)(ze.a.Label,{children:"Image"}),this.state.errMsg.img?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:this.state.errMsg.img}):"",Object(Oe.jsx)(ze.a.File,{setfieldvalue:this.state.img,onChange:this.handleChange,size:"sm",name:"img",style:{color:"rgba(0, 0, 0, 0)"}}),Object(Oe.jsx)(ze.a.Text,{className:"text-muted",children:Object(Oe.jsxs)("em",{children:["- Images *.jpg, *.jpeg, *.png ",Object(Oe.jsx)("br",{}),"- Maks. Size 2MB"]})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"imagePreview",children:[Object(Oe.jsx)(ze.a.Label,{style:{color:"rgba(0, 0, 0, 0)"},children:"-----"}),Object(Oe.jsx)(ht.a,{children:Object(Oe.jsx)(ht.a.Image,{thumbnail:!0,width:130,height:100,alt:"",src:this.state.imgUpload})})]})]})]}),Object(Oe.jsxs)("div",{className:"card-footer",children:[Object(Oe.jsxs)(ge.b,{to:"/products",children:[Object(Oe.jsx)(Ge.a,{variant:"danger",children:"Cancel"})," "]}),Object(Oe.jsx)(Wt.a,{isLoading:this.state.isLoading,type:"submit",theme:"success",children:"Simpan"})]})]})})})})})}),this.state.showSwalSuccess?Object(Oe.jsx)(We.a,{show:this.state.showSwalSuccess,title:t,type:"success",handleClose:this.closeSwal}):""]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),ea=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")(Zt),ta=a(753),aa=a(757),sa=a(242),na=a(379),ra=new Dt.a,ia=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=Object(ue.a)(be.a.mark((function e(){var t,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ra.get("imageIdCNI"),a={id_product:t},s.setState(a),e.next=5,Mt.postData(a,"GET_IMAGE").then((function(e){if("00"===e.data.err_code){var t=e.data.data;s.setState({dtImg:t,appsLoading:!1})}"04"===e.data.err_code&&s.setState({isLoading:!1,dtImg:[]})})).catch((function(e){console.log(e),s.setState({isLoading:!1,dtImg:[]})}));case 5:case"end":return e.stop()}}),e)}))),s.getDataProduct=Object(ue.a)(be.a.mark((function e(){var t,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ra.get("imageIdCNI"),a={id_product:t},e.next=4,Mt.postData(a,"VIEW_DETAIL").then((function(e){if("00"===e.data.err_code){var t=e.data.data;s.setState({product_name:t.product_name})}"04"===e.data.err_code&&console.log(e.data.data)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)}))),s.state={appsLoading:!1,isLoading:!1,deleteForm:!1,showSwalSuccess:!1,contentSwal:"",id:"",selectedImg:"",id_product:"",id_operator:"",product_name:"",dtImg:[],fileNames:[]},s.handleDrop=s.handleDrop.bind(Object(zt.a)(s)),s.deleteImg=s.deleteImg.bind(Object(zt.a)(s)),s.handleClose=s.handleClose.bind(Object(zt.a)(s)),s.handleDelete=s.handleDelete.bind(Object(zt.a)(s)),s.closeSwal=s.closeSwal.bind(Object(zt.a)(s)),s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({appsLoading:!0}),setTimeout((function(){e.getDataProduct(),e.getData()}),300)}},{key:"deleteImg",value:function(e){this.setState(Object(d.a)(Object(d.a)({},this.state),{},{selectedImg:e.img,id_operator:this.props.user.id_operator,id:e.id,isLoading:!1,deleteForm:!0}))}},{key:"handleDelete",value:function(){var e=this;this.setState(Object(d.a)(Object(d.a)({},this.state),{},{isLoading:!0})),Mt.postData(this.state,"DEL_IMAGE").then((function(t){if("00"===t.data.err_code){var a=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}});e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showSwalSuccess:!0,deleteForm:!1,isLoading:!1,contentSwal:a}))}else console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"handleClose",value:function(){this.setState({isLoading:!1,deleteForm:!1})}},{key:"closeSwal",value:function(){var e=this;this.setState({showSwalSuccess:!1,contentSwal:""}),setTimeout((function(){e.getData()}),300)}},{key:"handleDrop",value:function(e,t){var a=this;this.setState({id_operator:this.props.user.id_operator});var s=new FormData;e.map((function(e){return s.append("img[]",e),!0})),s.append("id_operator",this.state.id_operator),s.append("id_product",this.state.id_product),Mt.postData(s,"UPLOAD_IMAGE").then((function(e){"00"===e.data.err_code?a.getData():console.log(e.data)})).catch((function(e){console.log(e)}));var n=t.map((function(e){var t=[];return e.errors.map((function(e){return"file-too-large"===e.code?t.push("File is larger than 2MB"):t.push(e.message),1})),{fileName:e.file.name,errors:t.join(" and ")}}));this.setState({fileNames:n})}},{key:"render",value:function(){var e=this,t=Object(Oe.jsxs)(ht.a,{children:[Object(Oe.jsx)(ht.a.Image,{thumbnail:!0,className:"modal-img",width:171,height:180,alt:"",style:{maxHeight:"180px"},src:this.state.selectedImg}),Object(Oe.jsxs)(ht.a.Caption,{id:"caption",children:["Apakah anda yakin ",Object(Oe.jsx)("br",{}),"akan menghapus data ini ?"]})]});return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"List Image"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:this.state.appsLoading?Object(Oe.jsx)(qt,{}):Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsx)("div",{className:"card-header",children:Object(Oe.jsx)("h4",{className:"m-0",children:this.state.product_name})}),Object(Oe.jsxs)("div",{className:"card-body my-card-body",children:[Object(Oe.jsx)(na.a,{onDrop:this.handleDrop,accept:"image/jpeg, image/png, image/jpg",maxSize:5242880,children:function(e){var t=e.isDragActive,a=e.isDragReject,s=e.getRootProps,n=e.getInputProps;return Object(Oe.jsxs)("div",Object(d.a)(Object(d.a)({},s({className:"dropzone"})),{},{children:[Object(Oe.jsx)("input",Object(d.a)({},n())),Object(Oe.jsx)("br",{}),!t&&Object(Oe.jsx)("p",{style:{fontWeight:"600"},children:"Drag & drop files, or click to select files"}),a&&Object(Oe.jsx)("p",{style:{color:"red",fontWeight:"800"},children:"File not accepted, sorry!"}),t&&!a&&Object(Oe.jsx)("p",{style:{color:"lightgreen",fontWeight:"800"},children:"Drop it like it's hot!"}),Object(Oe.jsx)("em",{children:"(Only *.jpg, *.jpeg, *.png Images and Maks. size 2MB will be accepted)"})]}))}}),this.state.fileNames.length>0?Object(Oe.jsxs)(ta.a,{variant:"danger",onClose:function(){return e.setState({fileNames:[]})},dismissible:!0,children:[Object(Oe.jsx)(ta.a.Heading,{children:"You got an error!"}),Object(Oe.jsx)(aa.a,{variant:"flush",children:this.state.fileNames.map((function(e){return Object(Oe.jsxs)(aa.a.Item,{style:{backgroundColor:"transparent",paddingBottom:"4px",paddingTop:"4px"},children:["- ",e.fileName+" : "+e.errors]},e.fileName)}))})]}):"",this.state.dtImg.map((function(t){return Object(Oe.jsxs)(ht.a,{className:"img-product-pic",style:{marginRight:"10px",marginLeft:"5px"},children:[Object(Oe.jsx)(sa.a,{src:t.img,thumbnail:!0,width:170,height:180,style:{maxHeight:"180px"}}),Object(Oe.jsx)("span",{onClick:function(){return e.deleteImg(t)},className:"remove-image",children:"x"})]},t.id)}))]}),Object(Oe.jsx)("div",{className:"card-footer",children:Object(Oe.jsx)(ge.b,{to:"/products",children:Object(Oe.jsx)(Ge.a,{variant:"danger",children:"Cancel"})})})]})})})})}),Object(Oe.jsx)(Be.a,{show:this.state.deleteForm,size:"sm",form:t,handleClose:this.handleClose,backdrop:"static",keyboard:!1,title:"Delete Image",titleButton:"Delete Image",themeButton:"danger",isLoading:this.state.isLoading,formSubmit:this.handleDelete}),this.state.showSwalSuccess?Object(Oe.jsx)(We.a,{show:this.state.showSwalSuccess,title:this.state.contentSwal,type:"success",handleClose:this.closeSwal}):""]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),ca=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")(ia),oa="http://202.158.64.238/api_cni/index.php",la=function(e){return{type:T,payload:e}},da=function(e){return{type:L,payload:e}},ha=function(e){return{type:C,payload:e}},ja=function(e){return{type:N,payload:e}},ba=function(){var e=!0,t={cms:1};return function(){var a=Object(ue.a)(be.a.mark((function a(s){return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(da(e)),a.next=3,u.a.post(oa+"/master_data",t).then((function(t){var a={};a.data=t.data.data,s(la(a)),s(da(e=!1))})).catch((function(t){var a={};a.message="Something wrong",a.status=t.response?t.response.status:404,s({type:M,payload:a}),s(da(e=!1))}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ua=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).state={errMsg:{email:""}},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.props.onLoad()}},{key:"handleChange",value:function(e){this.setState({errMsg:{email:""}});var t=e.target.name,a=e.target.value,s={};s.key=t,s.value=a,this.props.changeProps(s)}},{key:"handleChangeDesk",value:function(e,t){var a={};a.key=e,a.value=t,this.props.changeProps(a)}},{key:"handleSubmit",value:function(){var e=this.state.errMsg,t=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);this.props.data.send_mail&&(t.test(this.props.data.send_mail)||(e.email="Please enter valid email address")),this.setState({errors:e}),this.validateForm(this.state.errMsg)?this.props.onAdd(this.props.data):console.error("Invalid Form")}},{key:"validateForm",value:function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t}},{key:"closeSwal",value:function(){this.props.closeSwal()}},{key:"render",value:function(){var e=this.props.data,t=this.state.errMsg;return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Setting"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:this.props.isLoading?Object(Oe.jsx)(qt,{}):Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsx)(ze.a,{children:Object(Oe.jsxs)("div",{className:"card-body my-card-body",children:[Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:6,controlId:"send_mail",children:[t.email?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:t.email}):"",Object(Oe.jsx)(ze.a.Label,{children:"Email"}),Object(Oe.jsx)(ze.a.Control,{value:e.send_mail,autoComplete:"off",onChange:this.handleChange.bind(this),size:"sm",name:"send_mail",type:"text",placeholder:"Email"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:6,controlId:"mail_pass",children:[Object(Oe.jsx)(ze.a.Label,{children:"Password"}),Object(Oe.jsx)(ze.a.Control,{value:e.mail_pass,autoComplete:"off",onChange:this.handleChange.bind(this),size:"sm",name:"mail_pass",type:"text",placeholder:"Password"})]})]}),Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:3,controlId:"contact_email",children:[t.email?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:t.email}):"",Object(Oe.jsx)(ze.a.Label,{children:"Contact Email"}),Object(Oe.jsx)(ze.a.Control,{value:e.contact_email,autoComplete:"off",onChange:this.handleChange.bind(this),size:"sm",name:"contact_email",type:"text",placeholder:"Contact Email"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:3,controlId:"contact_wa",children:[Object(Oe.jsx)(ze.a.Label,{children:"WhatsApp"}),Object(Oe.jsx)(ze.a.Control,{value:e.contact_wa,autoComplete:"off",onChange:this.handleChange.bind(this),size:"sm",name:"contact_wa",type:"text",placeholder:"WhatsApp"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:3,controlId:"contact_sms",children:[Object(Oe.jsx)(ze.a.Label,{children:"SMS"}),Object(Oe.jsx)(ze.a.Control,{value:e.contact_sms,autoComplete:"off",onChange:this.handleChange.bind(this),size:"sm",name:"contact_sms",type:"text",placeholder:"SMS"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:3,controlId:"call_center",children:[Object(Oe.jsx)(ze.a.Label,{children:"Call Center"}),Object(Oe.jsx)(ze.a.Control,{value:e.call_center,autoComplete:"off",onChange:this.handleChange.bind(this),size:"sm",name:"call_center",type:"text",placeholder:"Call Center"})]})]}),Object(Oe.jsx)(ze.a.Row,{children:Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:12,controlId:"hold_mail_admin",children:[Object(Oe.jsx)(ze.a.Label,{children:"Transaksi Hold - Email Admin"}),Object(Oe.jsx)(ze.a.Control,{value:e.hold_mail_admin,autoComplete:"off",onChange:this.handleChange.bind(this),size:"sm",name:"hold_mail_admin",type:"text",placeholder:"Transaksi Hold - Email Admin"})]})}),Object(Oe.jsx)(ze.a.Row,{children:Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:12,controlId:"content_reg",children:[Object(Oe.jsx)(ze.a.Label,{children:"Content Email Registrasi"}),Object(Oe.jsx)($t.a,{defaultValue:e.content_reg,setContents:e.content_reg,onChange:this.handleChangeDesk.bind(this,"content_reg"),setOptions:{placeholder:"Content Email Registrasi ...",maxHeight:250,height:250,buttonList:[["fontSize","formatBlock","bold","underline","italic","align","horizontalRule","list","lineHeight","link","strike","subscript","superscript","codeView","undo","redo","fontColor","hiliteColor","textStyle","paragraphStyle","blockquote","removeFormat"]]}})]})}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)(ze.a.Row,{children:Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:12,controlId:"content_forgotPass",children:[Object(Oe.jsx)(ze.a.Label,{children:"Content Email Forgot Password"}),Object(Oe.jsx)($t.a,{defaultValue:e.content_forgotPass,setContents:e.content_forgotPass,onChange:this.handleChangeDesk.bind(this,"content_forgotPass"),setOptions:{placeholder:"Content Email Forgot Password ...",maxHeight:250,height:250,buttonList:[["fontSize","formatBlock","bold","underline","italic","align","horizontalRule","list","lineHeight","link","strike","subscript","superscript","codeView","undo","redo","fontColor","hiliteColor","textStyle","paragraphStyle","blockquote","removeFormat"]]}})]})}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)(ze.a.Row,{children:Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:12,controlId:"policy",children:[Object(Oe.jsx)(ze.a.Label,{children:"Policy"}),Object(Oe.jsx)($t.a,{defaultValue:e.policy,setContents:e.policy,onChange:this.handleChangeDesk.bind(this,"policy"),setOptions:{placeholder:"Policy ...",maxHeight:250,height:250,buttonList:[["fontSize","formatBlock","bold","underline","italic","align","horizontalRule","list","lineHeight","link","strike","subscript","superscript","codeView","undo","redo","fontColor","hiliteColor","textStyle","paragraphStyle","blockquote","removeFormat"]]}})]})}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)(ze.a.Row,{children:Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:12,controlId:"terms_condition",children:[Object(Oe.jsx)(ze.a.Label,{children:"Terms Condition"}),Object(Oe.jsx)($t.a,{defaultValue:e.terms_condition,setContents:e.terms_condition,onChange:this.handleChangeDesk.bind(this,"terms_condition"),setOptions:{placeholder:"Terms Condition ...",maxHeight:250,height:250,buttonList:[["fontSize","formatBlock","bold","underline","italic","align","horizontalRule","list","lineHeight","link","strike","subscript","superscript","codeView","undo","redo","fontColor","hiliteColor","textStyle","paragraphStyle","blockquote","removeFormat"]]}})]})}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)(ze.a.Row,{children:Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:12,controlId:"content_email_dikirimkan_cust",children:[Object(Oe.jsx)(ze.a.Label,{children:"Content Email Transaksi Dikirimkan"}),Object(Oe.jsx)($t.a,{defaultValue:e.content_email_dikirimkan_cust,setContents:e.content_email_dikirimkan_cust,onChange:this.handleChangeDesk.bind(this,"content_email_dikirimkan_cust"),setOptions:{placeholder:"Content Email Transaksi Dikirimkan ...",maxHeight:250,height:250,buttonList:[["fontSize","formatBlock","bold","underline","italic","align","horizontalRule","list","lineHeight","link","strike","subscript","superscript","codeView","undo","redo","fontColor","hiliteColor","textStyle","paragraphStyle","blockquote","removeFormat"]]}})]})}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)(ze.a.Row,{children:Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:12,controlId:"content_email_hold_admin",children:[Object(Oe.jsx)(ze.a.Label,{children:"Content Email Transaksi Hold"}),Object(Oe.jsx)($t.a,{defaultValue:e.content_email_hold_admin,setContents:e.content_email_hold_admin,onChange:this.handleChangeDesk.bind(this,"content_email_hold_admin"),setOptions:{placeholder:"Content Email Transaksi Hold ...",maxHeight:250,height:250,buttonList:[["fontSize","formatBlock","bold","underline","italic","align","horizontalRule","list","lineHeight","link","strike","subscript","superscript","codeView","undo","redo","fontColor","hiliteColor","textStyle","paragraphStyle","blockquote","removeFormat"]]}})]})})]})}),Object(Oe.jsxs)("div",{className:"card-footer",children:[t.email?Object(Oe.jsxs)(ta.a,{variant:"danger",show:!0,children:["Error : ",t.email]}):"",Object(Oe.jsx)(Wt.a,{onClick:this.handleSubmit.bind(this),isLoading:this.props.isAddLoading,type:"button",theme:"success",children:"Update Data"})]})]})})})})}),this.props.showFormSuccess?Object(Oe.jsx)(We.a,{show:this.props.showFormSuccess,title:this.props.contentMsg,type:this.props.tipeSWAL,handleClose:this.closeSwal.bind(this)}):""]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),pa=Object(c.b)((function(e){return{data:e.setting.data||{},isLoading:e.setting.isLoading,isAddLoading:e.setting.isAddLoading,error:e.setting.error||null,contentMsg:e.setting.contentMsg,showFormSuccess:e.setting.showFormSuccess,tipeSWAL:e.setting.tipeSWAL,user:e.auth.currentUser}}),(function(e){return{onLoad:function(){e(ba())},changeProps:function(t){e(function(e){return{type:R,payload:e}}(t))},onAdd:function(t){e(function(e){var t=!0;return function(){var a=Object(ue.a)(be.a.mark((function a(s){var n;return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(ha(t)),n={},a.next=4,u.a.post(oa+"/upd_setting",e).then((function(e){"00"===e.data.err_code&&(n.showFormSuccess=!0,n.tipeSWAL="success",n.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil disimpan</div>'}}),s(ja(n)))})).catch((function(e){console.log(e),t=!1,n.showFormSuccess=!0,n.tipeSWAL="error",n.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Failed</strong>, Something wrong</div>'}}),s(ja(n)),s(ha(t))}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t))},closeSwal:function(){var t={showFormSuccess:!1,isAddLoading:!1,contentMsg:null};e(ja(t)),e(ba())}}}))(ua),ma=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=function(){s.setState({loadTbl:!0}),st.a.postData(s.state.queryString,"GET_PROV").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:e.data.data,totalData:e.data.total_data})),"04"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:[],totalData:0})),s.setState({loadTbl:!1})}),400)})).catch((function(e){console.log(e)}))},s.handleClose=function(){s.setState({show:!1,deleteForm:!1})},s.closeSwal=function(){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{deleteForm:!1,showSwalSuccess:!1,successMsg:""})),s.getData()},s.discardChanges=function(){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{show:!0,isLoading:!1,errMsg:{},selected:s.iniSelected,actionForm:"ADD_PROV"}))},s.editRecord=function(e){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{show:!0,isLoading:!1,errMsg:{},actionForm:"ADD_PROV",selected:e}))},s.tableChangeHandler=function(e){var t=s.state.queryString;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),s.getData()},s.deleteRecord=function(e){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{deleteForm:!0,errMsg:{id_provinsi:""},actionForm:"DEL_PROV",selected:Object(d.a)(Object(d.a)({},e),{},{id_operator:s.props.user.id_operator})}))},s.ListCity=function(){var e=Object(ue.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("idProvCNI",t.id_provinsi);case 2:s.props.history.push("/city");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.iniSelected={id_provinsi:"",provinsi_name:"",kode_jne:"",kode_lp:"",id_prov_cni:"",id_operator:""},s.state={dtRes:[],totalData:0,show:!1,isLoading:!1,queryString:{page_number:1,per_page:10,sort_order:"ASC",sort_column:"provinsi_name",keyword:""},selected:s.iniSelected,errMsg:s.iniSelected,actionForm:"",showSwalSuccess:!1,successMsg:"",loadTbl:!0,deleteForm:!1},s.handleChange=s.handleChange.bind(Object(zt.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(zt.a)(s)),s.handleSave=s.handleSave.bind(Object(zt.a)(s)),s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("idProvCNI"),sessionStorage.removeItem("idCityCNI"),this.getData(),this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChange",value:function(e){var t,a=e.target,s=a.name,n=a.value;this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},(t={},Object(Q.a)(t,s,n),Object(Q.a)(t,"id_operator",this.props.user.id_operator),t))})}},{key:"handleSubmit",value:function(){var e=this.state.errMsg;this.setState(Object(d.a)(Object(d.a)({},this.state),{},{isLoading:!0})),e.provinsi_name=this.state.selected.provinsi_name?"":"Provinsi required",e.kode_jne=this.state.selected.kode_jne?"":"Kode JNE required",e.kode_lp=this.state.selected.kode_lp?"":"Kode Lion Parcel required",this.state.selected.id_operator||this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})}),this.setState({errors:e,isLoading:!1}),this.handleSave()}},{key:"validateForm",value:function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t}},{key:"handleSave",value:function(){var e=Object(ue.a)(be.a.mark((function e(){var t,a,s=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.validateForm(this.state.errMsg)){e.next=9;break}return t="",a="","ADD_PROV"===this.state.actionForm&&(t=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong style="font-size:24px;">Success</strong>, Data berhasil disimpan</div>'}})),"DEL_PROV"===this.state.actionForm&&(t=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}})),e.next=7,st.a.postData(this.state.selected,this.state.actionForm).then((function(e){a=e.data.err_code,s.setState(Object(d.a)(Object(d.a)({},s.state),{},{isLoading:!1})),"00"===a&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{show:!1,deleteForm:!1,showSwalSuccess:!0,successMsg:t}))})).catch((function(e){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{deleteForm:!1,showSwalSuccess:!0,successMsg:e}))}));case 7:e.next=10;break;case 9:console.error("Invalid Form");case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(e.state.queryString.page_number-1)*e.state.queryString.per_page+a+1+"."})},row:0},{key:"provinsi_name",text:"Provinsi",align:"center",sortable:!0},{key:"kode_jne",text:"Kode JNE",align:"center",sortable:!0},{key:"kode_lp",text:"Kode Lion Parcel",align:"center",sortable:!0},{key:"id_prov_cni",text:"ID Provinsi CNI",align:"center",width:120,sortable:!0},{key:"action",text:"Action",width:210,sortable:!1,align:"center",cell:function(t){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsxs)("button",{className:"btn btn-info btn-xs",onClick:function(a){return e.ListCity(t)},style:{marginRight:"5px"},children:[Object(Oe.jsx)("i",{className:"fa fa-list"})," List City"]}),Object(Oe.jsxs)("button",{className:"btn btn-xs btn-success",onClick:function(){return e.editRecord(t)},style:{marginRight:"5px"},children:[Object(Oe.jsx)("i",{className:"fa fa-edit"})," Edit"]}),Object(Oe.jsxs)("button",{onClick:function(){return e.deleteRecord(t)},className:"btn btn-danger btn-xs",children:[Object(Oe.jsx)("i",{className:"fa fa-trash"})," Delete"]})]})})}}],a=Object(Oe.jsxs)(ze.a,{id:"myForm",children:[Object(Oe.jsxs)(ze.a.Group,{controlId:"provinsi_name",children:[Object(Oe.jsx)(ze.a.Label,{children:"Provinsi"}),this.state.errMsg.provinsi_name?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:this.state.errMsg.provinsi_name}):null,Object(Oe.jsx)(ze.a.Control,{value:this.state.selected.provinsi_name,name:"provinsi_name",size:"sm",type:"text",placeholder:"Provinsi",onChange:this.handleChange,autoComplete:"off"})]}),Object(Oe.jsx)(ze.a.Row,{}),Object(Oe.jsxs)(ze.a.Group,{controlId:"kode_jne",children:[Object(Oe.jsx)(ze.a.Label,{children:"Kode JNE"}),this.state.errMsg.kode_jne?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:this.state.errMsg.kode_jne}):null,Object(Oe.jsx)(ze.a.Control,{value:this.state.selected.kode_jne,name:"kode_jne",size:"sm",type:"text",placeholder:"Kode JNE",onChange:this.handleChange,autoComplete:"off"})]}),Object(Oe.jsxs)(ze.a.Group,{controlId:"kode_lp",children:[Object(Oe.jsx)(ze.a.Label,{children:"Kode Lion Parcel"}),this.state.errMsg.kode_lp?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:this.state.errMsg.kode_lp}):null,Object(Oe.jsx)(ze.a.Control,{name:"kode_lp",value:this.state.selected.kode_lp,size:"sm",type:"text",placeholder:"Kode Lion Parcel",onChange:this.handleChange,autoComplete:"off"})]}),Object(Oe.jsxs)(ze.a.Group,{controlId:"id_prov_cni",children:[Object(Oe.jsx)(ze.a.Label,{children:"ID Provinsi CNI"}),Object(Oe.jsx)(ze.a.Control,{name:"id_prov_cni",value:this.state.selected.id_prov_cni,size:"sm",type:"text",placeholder:"ID Provinsi CNI",onChange:this.handleChange,autoComplete:"off"}),Object(Oe.jsx)(ze.a.Text,{className:"text-muted",children:Object(Oe.jsx)("em",{children:"Untuk keperluan mapping Distribution Center "})})]})]}),n=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>akan menghapus data ini ?</div>'}});return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Provinsi"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsx)("div",{className:"card-header",children:Object(Oe.jsxs)(Ge.a,{onClick:this.discardChanges,variant:"success",children:[Object(Oe.jsx)("i",{className:"fa fa-plus"})," Add"]})}),Object(Oe.jsx)("div",{className:"card-body",children:this.state.dtRes?Object(Oe.jsx)(Re.a,{config:{key_column:"id_provinsi",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:this.state.dtRes,columns:t,dynamic:!0,onChange:this.tableChangeHandler,total_record:this.state.totalData,loading:this.state.loadTbl}):Object(Oe.jsx)("p",{children:"No Data..."})})]})})})})}),Object(Oe.jsx)(Be.a,{show:this.state.show,size:"sm",form:a,handleClose:this.handleClose,backdrop:"static",keyboard:!1,title:"Add/Edit Provinsi",titleButton:"Save change",themeButton:"success",isLoading:this.state.isLoading,formSubmit:this.handleSubmit}),this.state.showSwalSuccess?Object(Oe.jsx)(We.a,{show:this.state.showSwalSucces,title:this.state.successMsg,type:"success",handleClose:this.closeSwal}):"",Object(Oe.jsx)(Be.a,{show:this.state.deleteForm,size:"sm",form:n,handleClose:this.handleClose,backdrop:"static",keyboard:!1,title:"Delete Provinsi",titleButton:"Delete Provinsi",themeButton:"danger",isLoading:this.isLoading,formSubmit:this.handleSave})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),ga=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")(ma),Oa=a(363),xa=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=function(){s.setState({loadWH:!0}),st.a.postData(s.state.queryString,"GET_WH").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:e.data.data,totalData:e.data.total_data})),"04"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:[],totalData:0})),s.setState({loadWH:!1})}),400)})).catch((function(e){console.log(e)}))},s.getDataArea=function(e){s.setState({loadDataArea:!0,removeIdProv:"",multiValue:[]}),st.a.postData(e,"GET_AREA").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtArea:e.data.data,totalDataArea:e.data.total_data})),"04"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtArea:[],totalDataArea:0,notFound:"Data not found"})),s.setState({loadDataArea:!1})}),400)})).catch((function(e){console.log(e)}))},s.closeSwal=function(){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{deleteForm:!1,showSwalSuccess:!1,selected:s.iniSelected,notFound:"Silahkan pilih warehouse untuk melihat area",successMsg:""})),s.getData()},s.discardChanges=function(){s.getOptions(),s.setState(Object(d.a)(Object(d.a)({},s.state),{},{show:!0,isLoading:!1,errMsg:{},selected:s.iniSelected,actionForm:"ADD_WH"}))},s.editRecord=function(e){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{show:!0,isLoading:!1,errMsg:{},actionForm:"ADD_WH",selected:Object(d.a)({},e)})),s.getOptions()},s.handleClose=function(){s.setState({show:!1,deleteForm:!1,isLoadingSelected:!0})},s.deleteRecord=function(e){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{deleteForm:!0,errMsg:{id_prov:""},actionForm:"DEL_WH",selected:Object(d.a)(Object(d.a)({},e),{},{id_operator:s.props.user.id_operator})}))},s.iniSelected={id_wh:"",wh_name:"",kode_jne:"",kode_lp:"",id_operator:"",id_prov:"",provinsi_name:""},s.state={show:!1,deleteForm:!1,li_active:"",removeIdProv:"",dtRes:[],dtArea:[],loadWH:!1,selected:s.iniSelected,isLoadingSelected:!0,isLoadingArea:!1,selectOptions:[],multiValue:[],errMsg:s.iniSelected,showSwalSuccess:!1,loadArea:!1,showFormAreaa:!1,notFound:"Silahkan pilih warehouse untuk melihat area"},s.handleChange=s.handleChange.bind(Object(zt.a)(s)),s.onchangeSelect=s.onchangeSelect.bind(Object(zt.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(zt.a)(s)),s.handleSave=s.handleSave.bind(Object(zt.a)(s)),s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"handleClose2",value:function(e,t){var a=this;this.setState({showFormAreaa:!1}),Object.keys(this.iniSelected).map((function(t){var s;return a.setState({selected:Object(d.a)(Object(d.a)({},e),{},(s={},Object(Q.a)(s,t,e[t]),Object(Q.a)(s,"id_operator",a.props.user.id_operator),s))}),1})),this.getDataArea(e)}},{key:"handleChange",value:function(e){var t,a=e.target,s=a.name,n=a.value;this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},(t={},Object(Q.a)(t,s,n),Object(Q.a)(t,"id_operator",this.props.user.id_operator),t))})}},{key:"handleSubmit",value:function(){var e=this.state.errMsg;this.setState(Object(d.a)(Object(d.a)({},this.state),{},{isLoading:!0})),e.wh_name=this.state.selected.wh_name?"":"Warehouse name required",e.id_prov=this.state.selected.id_prov?"":"Origin required",this.state.selected.id_operator||this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})}),this.setState({errors:e,isLoading:!1}),this.handleSave()}},{key:"validateForm",value:function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t}},{key:"removeArea",value:function(){var e=Object(ue.a)(be.a.mark((function e(t,a){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({actionForm:"REMOVE_AREA",removeIdProv:t.id_provinsi});case 2:this.handleSaveArea();case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleSaveArea",value:function(){var e=Object(ue.a)(be.a.mark((function e(){var t,a,s=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState(Object(d.a)(Object(d.a)({},this.state),{},{loadDataArea:!1})),t=[],Object.values(this.state.multiValue).forEach((function(e){return t.push(e.value)})),a={id_operator:this.state.selected.id_operator,id_wh:this.state.selected.id_wh,id_prov:this.state.removeIdProv?this.state.removeIdProv:t},"",e.next=7,st.a.postData(a,this.state.actionForm).then((function(e){"00"===e.data.err_code&&(s.setState(Object(d.a)(Object(d.a)({},s.state),{},{actionForm:"ADD_AREA"})),s.getDataArea(a),s.getOptions())})).catch((function(e){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{actionForm:"ADD_AREA",loadDataArea:!1}))}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSave",value:function(){var e=Object(ue.a)(be.a.mark((function e(){var t,a,s,n=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.validateForm(this.state.errMsg)){e.next=10;break}return t="",a="",s=this.state.selected,"ADD_WH"===this.state.actionForm&&(t=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong style="font-size:24px;">Success</strong>, Data berhasil disimpan</div>'}})),"DEL_WH"===this.state.actionForm&&(t=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}})),e.next=8,st.a.postData(s,this.state.actionForm).then((function(e){a=e.data.err_code,n.setState(Object(d.a)(Object(d.a)({},n.state),{},{isLoading:!1})),"00"===a&&n.setState(Object(d.a)(Object(d.a)({},n.state),{},{show:!1,deleteForm:!1,showSwalSuccess:!0,successMsg:t}))})).catch((function(e){n.setState(Object(d.a)(Object(d.a)({},n.state),{},{deleteForm:!1,showSwalSuccess:!0,successMsg:e}))}));case 8:e.next=11;break;case 10:console.error("Invalid Form");case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getOptions",value:function(){var e=Object(ue.a)(be.a.mark((function e(){var t,a,s,n,r=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoadingSelected:!0}),t={is_wh:1},"http://202.158.64.238/api_cni/index.php/provinsi",e.next=5,u.a.post("http://202.158.64.238/api_cni/index.php/provinsi",t);case 5:a=e.sent,"00"===a.data.err_code?(s=a.data.data,n=s.map((function(e){return{value:e.id_provinsi,label:e.provinsi_name}})),console.log(n),setTimeout((function(){r.setState(Object(d.a)(Object(d.a)({},r.state),{},{selectOptions:n,isLoadingSelected:!1,loadArea:!1}))}),400)):setTimeout((function(){r.setState(Object(d.a)(Object(d.a)({},r.state),{},{selectOptions:null,isLoadingSelected:!0,loadArea:!0}))}),400);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onchangeSelect",value:function(e){this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_prov:e.value,provinsi_name:e.label,id_operator:this.props.user.id_operator})})}},{key:"handleMultiChange",value:function(e){this.setState((function(t){return{multiValue:e}}))}},{key:"showFormArea",value:function(){this.setState(Object(d.a)(Object(d.a)({},this.state),{},{loadArea:!0,showFormAreaa:!this.state.showFormAreaa,selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator}),errMsg:{id_prov:""},actionForm:"ADD_AREA"})),this.getOptions()}},{key:"render",value:function(){var e=this,t=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>akan menghapus data ini ?</div>'}}),a=Object(Oe.jsxs)(ze.a,{id:"myForm",children:[Object(Oe.jsxs)(ze.a.Group,{controlId:"wh_name",children:[Object(Oe.jsx)(ze.a.Label,{children:"Warehouse Name"}),this.state.errMsg.wh_name?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:this.state.errMsg.wh_name}):null,Object(Oe.jsx)(ze.a.Control,{value:this.state.selected.wh_name,name:"wh_name",size:"sm",type:"text",placeholder:"Warehouse Name",onChange:this.handleChange,autoComplete:"off"})]}),Object(Oe.jsxs)(ze.a.Group,{controlId:"origin",children:[Object(Oe.jsx)(ze.a.Label,{children:"Origin"}),this.state.errMsg.id_prov?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:this.state.errMsg.id_prov}):null,Object(Oe.jsx)(Ft,{myVal:this.state.selected.id_prov?{value:this.state.selected.id_prov,label:this.state.selected.provinsi_name}:"",getData:this.state.selectOptions,isLoading:this.state.isLoadingSelected,onChange:this.onchangeSelect})]})]});return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Warehouse"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsxs)("div",{className:"row",children:[Object(Oe.jsx)("div",{className:this.props.user.coverage_area_view?"col-lg-6":"col-lg-12",children:Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsxs)("div",{className:"card-header card-header-custom",children:[Object(Oe.jsx)("h1",{className:"card-title card-title-custom",children:"List Warehouse"}),Object(Oe.jsx)("div",{className:"tools",children:this.props.user.warehouse_add?Object(Oe.jsx)(Wt.a,{className:"float-right btn-sm",onClick:this.discardChanges,icon:"add",theme:"info",isLoading:this.state.loadWH,children:"Add Warehouse"}):""})]}),Object(Oe.jsx)("div",{className:"card-body inbox_chat",children:this.state.loadWH?Object(Oe.jsxs)("div",{className:"loadings text-center",children:[Object(Oe.jsx)(Oa.a,{animation:"border",variant:"secondary"}),Object(Oe.jsx)("br",{}),"Loading ..."]}):Object(Oe.jsx)("ul",{className:"todo-list ui-sortable","data-widget":"todo-list",children:this.state.dtRes.length>0?this.state.dtRes.map((function(t,a){return Object(Oe.jsxs)("li",{className:e.state.selected.id_wh===t.id_wh?"li_wh li_active":"li_wh",onClick:e.handleClose2.bind(e,t),children:[Object(Oe.jsx)("span",{className:"text",children:t.wh_name}),Object(Oe.jsx)("br",{}),Object(Oe.jsxs)("span",{className:"text-second-li",children:["Origin : ",t.provinsi_name,"(",t.kode_jne+"/"+t.kode_lp,")"]}),Object(Oe.jsxs)("div",{className:"tools",children:[e.props.user.warehouse_edit?Object(Oe.jsx)(Tt.a,{placement:"left",overlay:Object(Oe.jsx)(Rt.a,{id:"tooltip-left",children:"Edit"}),children:Object(Oe.jsx)("i",{className:"fas",children:Object(Oe.jsx)(fe.a,{onClick:e.editRecord.bind(e,t)})})}):"",e.props.user.warehouse_del?Object(Oe.jsx)(Tt.a,{placement:"right",overlay:Object(Oe.jsx)(Rt.a,{id:"tooltip-right",children:"Delete"}),children:Object(Oe.jsx)("i",{className:"fas",children:Object(Oe.jsx)(ve.p,{onClick:e.deleteRecord.bind(e,t)})})}):""]})]},t.id_wh)})):Object(Oe.jsx)("li",{className:"li_wh_nodata",children:Object(Oe.jsx)("span",{className:"text",children:"Data not found"})},"no_data")})})]})}),this.props.user.coverage_area_view?Object(Oe.jsx)("div",{className:"col-lg-6",children:Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsxs)("div",{className:"card-header card-header-custom",children:[Object(Oe.jsxs)("h1",{className:"card-title card-title-custom",children:["Coverage Area",Object(Oe.jsxs)("span",{className:"area",style:{fontWeight:"600",color:"green"},children:[" ",this.state.selected.wh_name]})]}),this.state.selected.id_wh&&this.props.user.coverage_area_add?Object(Oe.jsx)("div",{className:"tools",children:Object(Oe.jsx)(Wt.a,{className:"float-right btn-sm",onClick:this.showFormArea.bind(this),icon:this.state.showFormAreaa?"times":"add",theme:this.state.showFormAreaa?"danger":"warning",isLoading:this.state.loadDataArea,children:this.state.showFormAreaa?"Close":"Add Area"})}):""]}),Object(Oe.jsxs)("div",{className:"card-body inbox_chat",children:[this.state.showFormAreaa?Object(Oe.jsxs)(n.a.Fragment,{children:[Object(Oe.jsx)(Ct,{myVal:this.state.multiValue&&this.state.multiValue,getData:this.state.selectOptions,isLoading:this.state.loadArea,onChange:this.handleMultiChange.bind(this)}),Object(Oe.jsx)(Wt.a,{style:{marginTop:"3px",marginBottom:"15px"},className:"btn-block btn-sm",onClick:this.handleSaveArea.bind(this),theme:"warning",disabled:!(this.state.multiValue.length>0),isLoading:this.state.loadDataArea,children:"Save"})]}):"",this.state.loadDataArea?Object(Oe.jsxs)("div",{className:"loadings text-center",children:[Object(Oe.jsx)(Oa.a,{animation:"border",variant:"secondary"}),Object(Oe.jsx)("br",{}),"Loading ..."]}):Object(Oe.jsx)("ul",{className:"todo-list ui-sortable","data-widget":"todo-list",children:this.state.dtArea.length>0?this.state.dtArea.map((function(t,a){return Object(Oe.jsxs)("li",{className:t.origin_utama?"li_wh_origin":"li_wh_area",children:[Object(Oe.jsx)("span",{className:"text",children:t.provinsi_name}),0===t.origin_utama&&e.props.user.coverage_area_del?Object(Oe.jsx)("div",{className:"tools",children:Object(Oe.jsx)(Tt.a,{placement:"top",overlay:Object(Oe.jsx)(Rt.a,{id:"tooltip-top",children:"Remove Area"}),children:Object(Oe.jsx)("i",{className:"fas",children:Object(Oe.jsx)(ve.p,{onClick:e.removeArea.bind(e,t)})})})}):""]},t.id_provinsi)})):Object(Oe.jsx)("li",{className:"li_wh_nodata",children:Object(Oe.jsx)("span",{className:"text",children:this.state.notFound})},"no_data")})]})]})}):""]})})}),Object(Oe.jsx)(Be.a,{show:this.state.show,size:"sm",form:a,handleClose:this.handleClose,backdrop:"static",keyboard:!1,title:"Add/Edit",titleButton:"Save change",themeButton:"success",isLoading:this.state.isLoading,formSubmit:this.handleSubmit}),this.state.showSwalSuccess?Object(Oe.jsx)(We.a,{show:this.state.showSwalSucces,title:this.state.successMsg,type:"success",handleClose:this.closeSwal}):"",Object(Oe.jsx)(Be.a,{show:this.state.deleteForm,size:"sm",form:t,handleClose:this.handleClose,backdrop:"static",keyboard:!1,title:"Delete",titleButton:"Delete",themeButton:"danger",isLoading:this.isLoading,formSubmit:this.handleSave})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),_a=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")(xa),fa="http://202.158.64.238/api_cni/index.php",va=function(){function e(){Object(h.a)(this,e)}return Object(j.a)(e,[{key:"postData",value:function(e,t){switch(t){case"GET_DATA":return u.a.post(fa+"/list_transaksi",e);case"VIEW_DETAIL":return u.a.post(fa+"/transaksi_detail",e);case"UPD_STATUS":return u.a.post(fa+"/set_onprocess",e);case"KIRIM_PAKET":return u.a.post(fa+"/generate_resi",e);case"SET_HOLD":return u.a.post(fa+"/set_hold",e);default:return u.a.post(fa+"/simpan_admin",e)}}}]),e}(),ya=new va,wa=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=function(){s.setState({loadTbl:!0});var e=s.state.queryString;e.id_operator=s.props.user.id_operator,ya.postData(e,"GET_DATA").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:e.data.data,totalData:e.data.total_data})),"04"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:[],totalData:0})),s.setState({loadTbl:!1})}),400)})).catch((function(e){console.log(e)}))},s.tableChangeHandler=function(e){var t=s.state.queryString;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),s.getData()},s.rowClickedHandler=function(){var e=Object(ue.a)(be.a.mark((function e(t,a,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("idTransCNI",a.id_transaksi);case 2:s.props.history.push("/trans_detail");case 3:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),s.state={dtRes:[],totalData:0,show:!1,isLoading:!1,loadTbl:!0,queryString:{page_number:1,per_page:10,sort_order:"DESC",sort_column:"id_transaksi",keyword:"",status:0,id_operator:0}},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("idTransCNI"),this.getData()}},{key:"render",value:function(){var e=this,t=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(e.state.queryString.page_number-1)*e.state.queryString.per_page+a+1+"."})},row:0},{key:"created_at",text:"Date",align:"center",sortable:!0,width:130,cell:function(e){return Bt()(new Date(e.created_at)).format("DD-MM-YYYY HH:mm")}},{key:"id_transaksi",text:"Order ID",align:"center",width:130,sortable:!0},{key:"nama_member",text:"Nama",align:"center",sortable:!0},{key:"email",text:"Email",align:"center",sortable:!0},{key:"phone_member",text:"Phone",align:"center",width:130,sortable:!0},{key:"ttl_price",text:"Total",align:"center",width:100,sortable:!0,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)(It.a,{value:e.ttl_price,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}}];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Transaksi"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsx)("div",{className:"card-header",children:Object(Oe.jsx)("h1",{className:"card-title card-title-custom",children:"Waiting Payment"})}),Object(Oe.jsx)("div",{className:"card-body",children:this.state.dtRes?Object(Oe.jsx)(Re.a,{className:"table table-striped table-hover table-bordered",config:{key_column:"id_transaksi",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:this.state.dtRes,columns:t,dynamic:!0,onChange:this.tableChangeHandler,total_record:this.state.totalData,loading:this.state.loadTbl,onRowClicked:this.rowClickedHandler}):Object(Oe.jsx)("p",{children:"No Data..."})})]})})})})})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),ka=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")(wa),Sa=a(376),Fa=a.n(Sa),Ca=a.p+"static/media/jnelogo.6f867ca9.jpg",Na=a.p+"static/media/logoLionParcel.2ee256a9.png",Da=a(377),Aa=a.n(Da),La=a(675),Ma=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props.dataFromParent,t=e.id_transaksi,a=e.cnote_no,s=e.type_logistic,n=e.ttl_weight,r=e.ongkir,i=e.nama_penerima,c=e.kode_origin,o=e.kode_jne_prov,l=e.kode_lp_prov,h=e.phone_penerima,j=e.alamat,b=e.kec_name,u=e.city_name,p=e.provinsi_name,m=e.kode_pos,g=e.wh_name,O=e.service_code,x=e.list_item,_=n>1e3?n/1e3:1;return Object(Oe.jsxs)("div",{className:"print-source",children:[Object(Oe.jsx)("table",{className:"tbl_cetak_resi",children:Object(Oe.jsxs)("tbody",{children:[Object(Oe.jsxs)("tr",{children:[Object(Oe.jsxs)("td",{colSpan:3,align:"center",style:{width:"50%"},children:[1===s&&Object(Oe.jsx)("img",{width:130,height:100,src:Ca}),2===s&&Object(Oe.jsx)("img",{width:140,height:95,src:Na})]}),Object(Oe.jsxs)("td",{colSpan:4,align:"center",style:{width:"50%",fontSize:24,paddingTop:20},children:["No Order: MCNI/",t,Object(Oe.jsx)("br",{}),1===s&&Object(Oe.jsx)(La,Object(d.a)({value:"MCNI/"+t},{displayValue:!1,width:3,height:50}))]})]}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{colSpan:3,children:"Dari :"}),Object(Oe.jsx)("td",{colSpan:4,children:"Kepada :"})]}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{colSpan:3,children:Object(Oe.jsx)("b",{children:"PT.CITRA NUSA INSAN CEMERLANG"})}),Object(Oe.jsx)("td",{colSpan:4,children:Object(Oe.jsx)("b",{children:i})})]}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsxs)("td",{colSpan:3,valign:"top",children:["(",g,") Alamat Lengkap, Kota dan Provinsi Telp.031-xxxxxxx"]}),Object(Oe.jsxs)("td",{colSpan:4,valign:"top",children:[j," (",m,"), Kec.",b," ",u," - ",p," No. Telp : ",h]})]}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{style:{paddingTop:30,paddingBottom:10},children:"Layanan :"}),Object(Oe.jsx)("td",{style:{paddingTop:30,paddingBottom:10},children:"Berat :"}),Object(Oe.jsx)("td",{style:{paddingTop:30,paddingBottom:10},children:"Estimasi Ongkir :"}),Object(Oe.jsx)("td",{style:{paddingTop:30,paddingBottom:10},children:"Packing Kayu :"}),Object(Oe.jsx)("td",{style:{paddingTop:30,paddingBottom:10},children:"Qty :"}),Object(Oe.jsx)("td",{style:{paddingTop:30,paddingBottom:10},children:"Asal :"}),Object(Oe.jsx)("td",{style:{paddingTop:30,paddingBottom:10},children:"Tujuan :"})]}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{style:{fontWeight:"bold",paddingBottom:20},children:O}),Object(Oe.jsxs)("td",{style:{fontWeight:"bold",paddingBottom:20},children:[Object(Oe.jsx)(It.a,{value:_,thousandSeparator:!0,decimalScale:2,displayType:"text"})," Kg"]}),Object(Oe.jsx)("td",{style:{fontWeight:"bold",paddingBottom:20},children:Object(Oe.jsx)(It.a,{value:r,thousandSeparator:!0,decimalScale:2,displayType:"text"})}),Object(Oe.jsx)("td",{style:{fontWeight:"bold",paddingBottom:20},children:"NO"}),Object(Oe.jsx)("td",{style:{fontWeight:"bold",paddingBottom:20},children:x.length}),Object(Oe.jsx)("td",{style:{fontWeight:"bold",paddingBottom:20},children:c.substring(0,3)}),Object(Oe.jsx)("td",{style:{fontWeight:"bold",paddingBottom:20},children:1===s?o.substring(0,3):l.substring(0,3)})]}),2===s&&Object(Oe.jsx)("tr",{children:Object(Oe.jsx)("td",{colSpan:"7",style:{fontSize:15},children:"Asuransi : ...................................... "})}),Object(Oe.jsx)("tr",{className:"data_resi",children:Object(Oe.jsxs)("td",{colSpan:7,align:"center",children:["-------------------------------------------------------------------------------------------------------------------",Object(Oe.jsx)("br",{}),1===s?"No.Resi":"STT No."," ",Object(Oe.jsx)("br",{}),Object(Oe.jsx)(La,Object(d.a)({value:a},{displayValue:!1,width:5,height:80})),Object(Oe.jsx)("br",{}),a,Object(Oe.jsx)("br",{}),"-------------------------------------------------------------------------------------------------------------------"]})}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{colSpan:3,style:{fontSize:12},children:"Deskripsi :"}),Object(Oe.jsx)("td",{colSpan:4,style:{fontSize:12},children:"Instruksi Khusus :"})]}),Object(Oe.jsx)("tr",{children:Object(Oe.jsxs)("td",{colSpan:7,align:"right",className:"tgl_terbit",children:["Tanggal Terbit :",Object(Oe.jsx)(Aa.a,{format:"YYYY-MM-DD HH:mm:ss",children:new Date})]})})]})}),Object(Oe.jsx)("br",{}),Object(Oe.jsxs)("table",{className:"tbl_cetak_resi_produk",children:[Object(Oe.jsx)("thead",{children:Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{style:{width:"15%"},children:"No."}),Object(Oe.jsx)("td",{children:"Nama Produk"}),Object(Oe.jsx)("td",{align:"right",style:{width:"10%"},children:"Jumlah"})]})}),Object(Oe.jsxs)("tbody",{children:[x.map((function(e,t){return Object(Oe.jsxs)("tr",{children:[Object(Oe.jsxs)("td",{children:[t+1,"."]}),Object(Oe.jsx)("td",{children:e.kode_produk+" - "+e.product_name}),Object(Oe.jsx)("td",{align:"right",children:e.jml})]},t)})),Object(Oe.jsx)("tr",{style:{backgroundColor:"white"},children:Object(Oe.jsx)("td",{colSpan:3,style:{paddingTop:10},children:"Catatan :"})}),Object(Oe.jsx)("tr",{style:{backgroundColor:"white"},children:Object(Oe.jsx)("td",{align:"center",colSpan:3,style:{paddingTop:10,fontSize:12,marginRight:-30},children:"==================================================================== Gunting disini ===================================================================="})})]})]})]})}}]),a}(s.Component),Ia=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).handleClose=function(){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{showConfirm:!1,errMsg:null,showConfirmKirim:!1,showConfirmHold:!1,remark_hold:""}))},s.closeSwal=function(){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{errMsg:null,showSwalSuccess:!1})),s.getData()},s.handleSave=function(e){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{isLoading:!0}));var t={id_transaksi:s.state.id_transaksi,id_operator:s.props.user.id_operator,remark:s.state.remark_hold};console.log(t),ya.postData(t,e).then((function(e){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{isLoading:!1,showConfirm:!1,showConfirmKirim:!1,showConfirmHold:!1,errMsg:Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil diupdate</div>'}}),showSwalSuccess:!0,dtRes:Object(d.a)(Object(d.a)({},s.state.dtRes),{},{status:3})}))})).catch((function(e){console.log(e),s.setState(Object(d.a)(Object(d.a)({},s.state),{},{isLoading:!1,showConfirm:!1,showConfirmKirim:!1,showConfirmHold:!1}))}))},s.confirmProcess=function(){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{showConfirm:!0,errMsg:null}))},s.confirmKirim=function(){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{showConfirmKirim:!0,errMsg:null}))},s.confirmHold=function(){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{showConfirmHold:!0,errMsg:null,remark_hold:""}))},s.getData=function(){s.setState({appsLoading:!0});var e={id_transaksi:sessionStorage.getItem("idTransCNI")};ya.postData(e,"VIEW_DETAIL").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:e.data.data})),"04"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:{}})),s.setState({appsLoading:!1})}),400)})).catch((function(e){console.log(e),s.setState({appsLoading:!1})}))},s.state={appsLoading:!0,showConfirm:!1,showConfirmKirim:!1,showConfirmHold:!1,isLoading:!1,showSwalSuccess:!1,remark_hold:"",dtRes:{},errMsg:null,id_transaksi:sessionStorage.getItem("idTransCNI")},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(Q.a)({},t,a))}},{key:"render",value:function(){var e=this,t=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin<br/><b>memproses</b> transaksi ini ?</div>'}}),a=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin<br/><b>mengirimkan</b> paket ini ?</div>'}}),n=Object(Oe.jsxs)(ze.a,{id:"myForm",children:[Object(Oe.jsxs)("div",{id:"caption",children:["Transaksi ini akan di ",Object(Oe.jsx)("b",{children:"hold"}),", ",Object(Oe.jsx)("br",{}),"Apakah anda yakin ?"]}),Object(Oe.jsxs)(ze.a.Group,{controlId:"remark_hold",children:[Object(Oe.jsx)(ze.a.Label,{children:"Remark"}),Object(Oe.jsx)(ze.a.Control,{size:"sm",name:"remark_hold",as:"textarea",rows:5,value:this.state.remark_hold,onChange:this.handleChange.bind(this),placeholder:"Remark . . ."})]})]}),r=Object(Oe.jsxs)(ze.a,{id:"myForm",children:[Object(Oe.jsxs)("div",{id:"caption",children:["Apakah anda yakin",Object(Oe.jsx)("br",{}),Object(Oe.jsx)("b",{children:"memproses"})," transaksi ini ?"]}),Object(Oe.jsxs)(ze.a.Group,{controlId:"remark_hold",children:[Object(Oe.jsx)(ze.a.Label,{children:"Remark"}),Object(Oe.jsx)(ze.a.Control,{size:"sm",name:"remark_hold",as:"textarea",rows:5,value:this.state.remark_hold,onChange:this.handleChange.bind(this),placeholder:"Remark . . ."})]})]});return Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Transaksi Detail"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:this.state.appsLoading?Object(Oe.jsx)(qt,{}):Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsxs)("div",{className:"card-body",children:[Object(Oe.jsx)("table",{className:"table table-condensed",children:Object(Oe.jsxs)("tbody",{children:[Object(Oe.jsx)("tr",{children:Object(Oe.jsx)("td",{style:{backgroundColor:"rgba(0,0,0,.1)",fontWeight:"bold",fontSize:"16px"},colSpan:"9",align:"center",children:"Information "})}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{width:"8%",children:Object(Oe.jsx)("strong",{children:"Order ID"})}),Object(Oe.jsx)("td",{width:"1%",children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsxs)("td",{width:"23%",children:[this.state.dtRes.id_transaksi," ",this.state.dtRes.is_dropship?Object(Oe.jsx)("span",{className:"badge bg-warning",children:"Dropship"}):""]}),Object(Oe.jsx)("td",{width:"8%",children:Object(Oe.jsx)("strong",{children:"Name"})}),Object(Oe.jsx)("td",{width:"1%",children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{width:"28%",children:this.state.dtRes.nama_member}),Object(Oe.jsx)("td",{width:"12%",children:Object(Oe.jsx)("strong",{children:"Payment Date"})}),Object(Oe.jsx)("td",{width:"1%",children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{width:"17%",children:this.state.dtRes.payment_date?Bt()(new Date(this.state.dtRes.payment_date)).format("DD MMMM YYYY HH:mm"):"-"})]}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Order Date"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{children:Bt()(new Date(this.state.dtRes.created_at)).format("DD MMMM YYYY HH:mm")}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Email"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{children:this.state.dtRes.email}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Payment"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{children:this.state.dtRes.payment_name})]}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Status"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsxs)(s.Fragment,{children:[0===this.state.dtRes.status&&Object(Oe.jsx)("span",{className:"badge bg-warning",children:"Waiting Payment"}),1===this.state.dtRes.status&&Object(Oe.jsx)("span",{className:"badge bg-info",children:"Payment Complete"}),2===this.state.dtRes.status&&Object(Oe.jsx)("span",{className:"badge bg-danger",children:"Expired Payment"}),3===this.state.dtRes.status&&Object(Oe.jsx)("span",{className:"badge bg-warning",children:"On Process"}),4===this.state.dtRes.status&&Object(Oe.jsx)("span",{className:"badge bg-info",children:"Dikirim"}),5===this.state.dtRes.status&&Object(Oe.jsx)("span",{className:"badge bg-success",children:"Completed"}),95678===this.state.dtRes.status&&Object(Oe.jsx)("span",{className:"badge bg-warning",children:"Hold"})]})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Phone"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{children:this.state.dtRes.phone_member}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"No.VA"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{children:2===this.state.dtRes.payment?this.state.dtRes.key_payment:"-"})]}),this.state.dtRes.tipe_pengiriman>0?Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Pengiriman"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsxs)("td",{children:[1===this.state.dtRes.tipe_pengiriman?"Ambil dari DC terdekat":"",2===this.state.dtRes.tipe_pengiriman?"Kirim dari DC terdekat":"",3===this.state.dtRes.tipe_pengiriman?"Dikirim dari sales counter CNI":""]}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"CNOTE"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{children:this.state.dtRes.cnote_no&&1!==this.state.dtRes.tipe_pengiriman?this.state.dtRes.cnote_no:"-"}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Layanan"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),1!==this.state.dtRes.tipe_pengiriman?Object(Oe.jsx)("td",{children:this.state.dtRes.logistic_name+" - "+this.state.dtRes.service_code}):Object(Oe.jsx)("td",{children:"-"})]}):"",this.state.dtRes.tipe_pengiriman>0?Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:1!==this.state.dtRes.tipe_pengiriman?"Origin":"DC Name"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),1!==this.state.dtRes.tipe_pengiriman?Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsx)("td",{children:this.state.dtRes.wh_name+"     "+this.state.dtRes.prov_origin+"("+this.state.dtRes.kode_origin+")"}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Alamat Pengiriman"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsxs)("td",{colSpan:"4",children:[this.state.dtRes.nama_penerima+", "+this.state.dtRes.alamat+", "+this.state.dtRes.kec_name+", "+this.state.dtRes.city_name+", "+this.state.dtRes.provinsi_name+", "+this.state.dtRes.kode_pos+", "+this.state.dtRes.phone_penerima,this.state.dtRes.is_dropship?Object(Oe.jsx)("span",{className:"badge bg-warning",children:"Dropship"}):""]})]}):Object(Oe.jsx)("td",{colSpan:"7",children:this.state.dtRes.wh_name+"     "+this.state.dtRes.prov_origin})]}):"",this.state.dtRes.tipe_pengiriman>0?Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Remark Hold"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{colSpan:"7",children:this.state.dtRes.remark_hold?this.state.dtRes.remark_hold:"-"})]}):"",this.state.dtRes.tipe_pengiriman>0?Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Remark Onprocess"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{colSpan:"7",children:this.state.dtRes.remark_onprocess?this.state.dtRes.remark_onprocess:"-"})]}):"",Object(Oe.jsx)("tr",{children:Object(Oe.jsx)("td",{style:{backgroundColor:"rgba(0,0,0,.08)",fontWeight:"bold",fontSize:"16px"},colSpan:"9",align:"center",children:"List Item"})})]})}),Object(Oe.jsxs)("table",{className:"table table-bordered",style:{borderBottom:"none",borderLeft:"none"},children:[Object(Oe.jsx)("thead",{children:Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("th",{style:{width:40,textAlign:"center"},children:"No."}),Object(Oe.jsx)("th",{style:{width:400,textAlign:"center"},children:"Product"}),Object(Oe.jsx)("th",{style:{width:80,textAlign:"center"},children:"PV"}),Object(Oe.jsx)("th",{style:{width:80,textAlign:"center"},children:"RV"}),Object(Oe.jsx)("th",{style:{width:80,textAlign:"center"},children:"Qty"}),Object(Oe.jsx)("th",{style:{width:100,textAlign:"center"},children:"Weight(Gram)"}),Object(Oe.jsx)("th",{style:{textAlign:"center",width:150},children:"Price"}),Object(Oe.jsx)("th",{style:{textAlign:"center",width:150},children:"Sub Total"})]})}),Object(Oe.jsxs)("tbody",{children:[this.state.dtRes.list_item.map((function(e,t){return Object(Oe.jsxs)("tr",{children:[Object(Oe.jsxs)("td",{align:"center",children:[t+1,"."]}),Object(Oe.jsx)("td",{children:e.kode_produk+" - "+e.product_name}),Object(Oe.jsx)("td",{align:"right",children:Object(Oe.jsx)(It.a,{value:e.pv,thousandSeparator:!0,decimalScale:2,displayType:"text"})}),Object(Oe.jsx)("td",{align:"right",children:Object(Oe.jsx)(It.a,{value:e.rv,thousandSeparator:!0,decimalScale:2,displayType:"text"})}),Object(Oe.jsx)("td",{align:"center",children:Object(Oe.jsx)(It.a,{value:e.jml,thousandSeparator:!0,decimalScale:2,displayType:"text"})}),Object(Oe.jsx)("td",{align:"right",children:Object(Oe.jsx)(It.a,{value:e.berat,thousandSeparator:!0,decimalScale:2,displayType:"text"})}),Object(Oe.jsx)("td",{align:"right",children:Object(Oe.jsx)(It.a,{value:e.harga,thousandSeparator:!0,decimalScale:2,displayType:"text"})}),Object(Oe.jsx)("td",{align:"right",children:Object(Oe.jsx)(It.a,{value:e.ttl_harga,thousandSeparator:!0,decimalScale:2,displayType:"text"})})]},t)})),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{align:"right",colSpan:"7",style:{border:"none"},children:Object(Oe.jsx)("strong",{children:"Total Belanjaan"})}),Object(Oe.jsx)("td",{align:"right",children:Object(Oe.jsx)(It.a,{value:this.state.dtRes.ttl_belanjaan,thousandSeparator:!0,decimalScale:2,displayType:"text"})})]}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{align:"right",colSpan:"7",style:{border:"none"},children:Object(Oe.jsxs)("strong",{children:["Ongkos Kirim(",this.state.dtRes.ttl_weight/1e3,"Kg)"]})}),Object(Oe.jsx)("td",{align:"right",children:Object(Oe.jsx)(It.a,{value:this.state.dtRes.ongkir,thousandSeparator:!0,decimalScale:2,displayType:"text"})})]}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{align:"right",colSpan:"7",style:{border:"none"},children:Object(Oe.jsxs)("strong",{children:["Voucher : ",this.state.dtRes.kode_voucher?this.state.dtRes.kode_voucher:"-"]})}),Object(Oe.jsx)("td",{align:"right",children:3!==this.state.dtRes.type_voucher&&this.state.dtRes.kode_voucher?Object(Oe.jsx)(It.a,{value:-this.state.dtRes.pot_voucher,thousandSeparator:!0,decimalScale:2,displayType:"text"}):"0"})]}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{colSpan:"7",style:{border:"none"}}),Object(Oe.jsx)("td",{align:"right",style:{backgroundColor:"rgba(0,0,0,.04)"},children:Object(Oe.jsx)("strong",{children:Object(Oe.jsx)(It.a,{value:this.state.dtRes.ttl_price,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})]})]})]})]}),Object(Oe.jsxs)("div",{className:"card-footer clearfix",children:[Object(Oe.jsx)("button",{type:"button",onClick:function(){return e.props.history.goBack()},className:"btn btn-flat btn-danger btn-sm",children:"Back"}),(1===this.state.dtRes.status||95678===this.state.dtRes.status)&&this.props.user.transaksi_setprocess>0&&Object(Oe.jsx)("button",{type:"button",onClick:this.confirmProcess,style:{marginLeft:3},className:"btn bnt-flat btn-warning btn-sm",children:"Process"}),3===this.state.dtRes.status&&this.props.user.transaksi_setkirimpaket>0&&1!==this.state.dtRes.tipe_pengiriman&&Object(Oe.jsx)("button",{type:"button",onClick:this.confirmKirim,style:{marginLeft:3},className:"btn btn-flat btn-success btn-sm",children:"Kirim Paket"}),3===this.state.dtRes.status&&Object(Oe.jsx)("button",{type:"button",onClick:this.confirmHold,style:{marginLeft:3},className:"btn btn-flat btn-warning btn-sm",children:"Hold"}),4===this.state.dtRes.status&&1!==this.state.dtRes.tipe_pengiriman&&Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsx)(Fa.a,{trigger:function(){return Object(Oe.jsx)("button",{className:"btn btn-flat btn-info btn-sm",style:{marginLeft:3},children:"Cetak Resi"})},content:function(){return e.componentRef}}),Object(Oe.jsx)(Ma,{dataFromParent:this.state.dtRes,ref:function(t){return e.componentRef=t}})]})]})]})})})})}),this.state.showSwalSuccess?Object(Oe.jsx)(We.a,{show:this.state.showSwalSuccess,title:this.state.errMsg,type:"success",handleClose:this.closeSwal.bind(this)}):"",Object(Oe.jsx)(Be.a,{show:this.state.showConfirm,size:"sm",form:95678===this.state.dtRes.status?r:t,handleClose:this.handleClose.bind(this),backdrop:"static",keyboard:!1,title:"Confirm",titleButton:"Yes, Process",themeButton:"warning",isLoading:this.state.isLoading,formSubmit:this.handleSave.bind(this,"UPD_STATUS")}),Object(Oe.jsx)(Be.a,{show:this.state.showConfirmKirim,size:"sm",form:a,handleClose:this.handleClose.bind(this),backdrop:"static",keyboard:!1,title:"Confirm",titleButton:"Ya, Kirim paket ini",themeButton:"warning",isLoading:this.state.isLoading,formSubmit:this.handleSave.bind(this,"KIRIM_PAKET")}),Object(Oe.jsx)(Be.a,{show:this.state.showConfirmHold,size:"sm",form:n,handleClose:this.handleClose.bind(this),backdrop:"static",keyboard:!1,title:"Confirm",titleButton:"Ya, Hold transaksi ini",themeButton:"warning",isLoading:this.state.isLoading,formSubmit:this.handleSave.bind(this,"SET_HOLD")})]}),Object(Oe.jsx)("div",{})]})})}}]),a}(s.Component),Ta=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")(Ia),Ra=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=function(){s.setState({loadTbl:!0});var e=s.state.queryString;e.id_operator=s.props.user.id_operator,ya.postData(e,"GET_DATA").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:e.data.data,totalData:e.data.total_data})),"04"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:[],totalData:0})),s.setState({loadTbl:!1})}),400)})).catch((function(e){console.log(e)}))},s.tableChangeHandler=function(e){var t=s.state.queryString;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),s.getData()},s.rowClickedHandler=function(){var e=Object(ue.a)(be.a.mark((function e(t,a,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("idTransCNI",a.id_transaksi);case 2:s.props.history.push("/trans_detail");case 3:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),s.state={dtRes:[],totalData:0,show:!1,isLoading:!1,loadTbl:!0,queryString:{page_number:1,per_page:10,sort_order:"DESC",sort_column:"id_transaksi",keyword:"",status:1}},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("idTransCNI"),this.getData()}},{key:"render",value:function(){var e=this,t=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(e.state.queryString.page_number-1)*e.state.queryString.per_page+a+1+"."})},row:0},{key:"created_at",text:"Date",align:"center",width:130,sortable:!0,cell:function(e){return Bt()(new Date(e.created_at)).format("DD-MM-YYYY HH:mm")}},{key:"id_transaksi",text:"Order ID.",align:"center",width:130,sortable:!0},{key:"nama_member",text:"Nama",align:"center",sortable:!0},{key:"email",text:"Email",align:"center",sortable:!0},{key:"phone_member",text:"Phone",align:"center",width:130,sortable:!0},{key:"ttl_price",text:"Total",align:"center",width:100,sortable:!0,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)(It.a,{value:e.ttl_price,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}}];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Transaksi"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsx)("div",{className:"card-header",children:Object(Oe.jsx)("h1",{className:"card-title card-title-custom",children:"Payment Complete"})}),Object(Oe.jsx)("div",{className:"card-body",children:this.state.dtRes?Object(Oe.jsx)(Re.a,{className:"table table-striped table-hover table-bordered",config:{key_column:"id_transaksi",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:this.state.dtRes,columns:t,dynamic:!0,onChange:this.tableChangeHandler,total_record:this.state.totalData,loading:this.state.loadTbl,onRowClicked:this.rowClickedHandler}):Object(Oe.jsx)("p",{children:"No Data..."})})]})})})})})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),Pa=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")(Ra),Ea=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=function(){s.setState({loadTbl:!0});var e=s.state.queryString;e.id_operator=s.props.user.id_operator,ya.postData(e,"GET_DATA").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:e.data.data,totalData:e.data.total_data})),"04"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:[],totalData:0})),s.setState({loadTbl:!1})}),400)})).catch((function(e){console.log(e)}))},s.tableChangeHandler=function(e){var t=s.state.queryString;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),s.getData()},s.rowClickedHandler=function(){var e=Object(ue.a)(be.a.mark((function e(t,a,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("idTransCNI",a.id_transaksi);case 2:s.props.history.push("/trans_detail");case 3:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),s.state={dtRes:[],totalData:0,show:!1,isLoading:!1,loadTbl:!0,queryString:{page_number:1,per_page:10,sort_order:"DESC",sort_column:"id_transaksi",keyword:"",status:5}},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("idTransCNI"),this.getData()}},{key:"render",value:function(){var e=this,t=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(e.state.queryString.page_number-1)*e.state.queryString.per_page+a+1+"."})},row:0},{key:"created_at",text:"Date",align:"center",width:130,sortable:!0,cell:function(e){return Bt()(new Date(e.created_at)).format("DD-MM-YYYY HH:mm")}},{key:"id_transaksi",text:"Order ID",align:"center",width:130,sortable:!0},{key:"nama_member",text:"Nama",align:"center",sortable:!0},{key:"email",text:"Email",align:"center",sortable:!0},{key:"phone_member",text:"Phone",align:"center",width:130,sortable:!0},{key:"ttl_price",text:"Total",align:"center",width:100,sortable:!0,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)(It.a,{value:e.ttl_price,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}}];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Transaksi"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsx)("div",{className:"card-header",children:Object(Oe.jsx)("h1",{className:"card-title card-title-custom",children:"Completed"})}),Object(Oe.jsx)("div",{className:"card-body",children:this.state.dtRes?Object(Oe.jsx)(Re.a,{className:"table table-striped table-hover table-bordered",config:{key_column:"id_transaksi",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:this.state.dtRes,columns:t,dynamic:!0,onChange:this.tableChangeHandler,total_record:this.state.totalData,loading:this.state.loadTbl,onRowClicked:this.rowClickedHandler}):Object(Oe.jsx)("p",{children:"No Data..."})})]})})})})})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),Ha=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")(Ea),za=a(754),Va="http://202.158.64.238/api_cni/index.php",Ga=function(e){return{type:C,payload:e}},Ba=function(e){return{type:N,payload:e}},Ya=function(e){var t={errorPriority:null};return t.showFormAdd=e,t.isAddLoading=!1,{type:S,payload:t}},Ua=function(e){var t={errorPriority:null};return t.showFormDelete=e,t.isAddLoading=!1,{type:F,payload:t}},Wa=function(e,t){switch(t){case"VIEW_PRICELIST":return u.a.post(Va+"/get_pricelist",e);default:return u.a.post(Va+"/detail_news",e)}},qa=new Dt.a,Ka=Bt()().subtract(1,"day"),$a=function(e){return e.isAfter(Ka)},Xa=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=Object(ue.a)(be.a.mark((function e(){var t,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=qa.get("pricelistIdCNI"),s.setState(Object(d.a)(Object(d.a)({},s.state),{},{appsLoading:!0,loadTbl:!0,id_product:t,selected:Object(d.a)(Object(d.a)({},s.state.selected),{},{id_product:t})})),a={},(a=s.state).id_product=t,Wa(a,"VIEW_PRICELIST").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{loadTbl:!1,dtRes:e.data.data,totalData:e.data.total_data,productName:e.data.product_name})),"04"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{loadTbl:!1,dtRes:[],productName:e.data.product_name,totalData:e.data.total_data})),s.setState(Object(d.a)(Object(d.a)({},s.state),{},{appsLoading:!1,loadTbl:!1}))}),200)})).catch((function(e){console.log(e),s.setState(Object(d.a)(Object(d.a)({},s.state),{},{appsLoading:!1,loadTbl:!1}))}));case 6:case"end":return e.stop()}}),e)}))),s.discardChanges=function(){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{show:!0,isLoading:!1,start_date:"",end_date:"",errMsg:{},selected:s.initSelected})),s.props.clearErrProps()},s.editRecord=function(e){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{start_date:e.start_date,end_date:e.end_date,show:!0,isLoading:!1,errMsg:{},selected:Object(d.a)({},e)}))},s.handleClose=function(){s.setState({show:!1,start_date:"",end_date:"",deleteForm:!1,selected:s.initSelected}),s.props.showConfirmDel(!1)},s.deleteRecord=function(e){s.setState({selected:Object(d.a)(Object(d.a)({},e),{},{id_operator:s.props.user.id_operator})}),s.props.showConfirmDel(!0)},s.initSelected={id_pricelist:"",pv:"",rv:"",harga_member:"",hm_non_ppn:"",ppn_hm:"",harga_konsumen:"",hk_non_ppn:"",ppn_hk:"",status:"",id_product:"",id_operator:""},s.state={validSd:$a,validEd:$a,show:!1,deleteForm:!1,dtRes:[],loadTbl:!1,isLoadingSelected:!0,isLoadingArea:!1,showSwalSuccess:!1,loadArea:!1,showFormAreaa:!1,sort_order:"DESC",sort_column:"id_pricelist",start_date:"",end_date:"",keyword:"",page_number:1,per_page:10,totalData:0,productName:"",id_product:"",selected:s.initSelected,errMsg:s.initSelected,loadingForm:!1},s.handleChange=s.handleChange.bind(Object(zt.a)(s)),s.handleChangeStartDate=s.handleChangeStartDate.bind(Object(zt.a)(s)),s.handleChangeEndDate=s.handleChangeEndDate.bind(Object(zt.a)(s)),s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"handleChangeStartDate",value:function(e){if(e){var t=new Date(e),a=Bt()(t).format("YYYY-MM-DD HH:mm");this.setState({isLoading:!1,start_date:a})}else this.setState({start_date:""});this.state.id_operator||this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})})}},{key:"handleChangeEndDate",value:function(e){if(e){var t=new Date(e),a=Bt()(t).format("YYYY-MM-DD HH:mm");this.setState({isLoading:!1,end_date:a})}else this.setState({end_date:""});this.state.id_operator||this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})})}},{key:"closeSwal",value:function(){this.getData(),this.setState(Object(d.a)(Object(d.a)({},this.state),{},{show:!1,isLoading:!1,start_date:"",end_date:"",errMsg:{},selected:this.initSelected})),this.props.closeSwal()}},{key:"handleChange",value:function(e){var t,a=e.target,s=a.name,n=a.value;this.setState({isLoading:!1,selected:Object(d.a)(Object(d.a)({},this.state.selected),{},(t={},Object(Q.a)(t,s,n),Object(Q.a)(t,"id_operator",this.props.user.id_operator),t)),errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},Object(Q.a)({},s,""))})}},{key:"handleSubmit",value:function(){var e=this.state.errMsg;this.setState(Object(d.a)(Object(d.a)({},this.state),{},{isLoading:!0})),e.start_date=this.state.start_date?"":"Start date required",e.end_date=this.state.end_date?"":"End date required",e.harga_member=this.state.selected.harga_member?"":"Required",e.harga_konsumen=this.state.selected.harga_konsumen?"":"Required",this.state.selected.id_operator||this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})}),this.setState({errors:e});var t={};this.validateForm(e)&&((t=this.state.selected).id_product=this.state.id_product,t.start_date=this.state.start_date,t.end_date=this.state.end_date,this.props.onAdd(t))}},{key:"validateForm",value:function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t}},{key:"handleDelete",value:function(){this.props.onDelete(this.state.selected)}},{key:"renderView",value:function(e,t,a){var s=this;return"time"===e?t():Object(Oe.jsxs)("div",{className:"wrapper",children:[t(),Object(Oe.jsx)("div",{className:"controls",children:Object(Oe.jsx)(Ge.a,{variant:"warning",type:"button",onClick:function(){return s.clear(a)},children:"Clear"})})]})}},{key:"clear",value:function(e){"end_date"===e&&this.handleChangeEndDate(""),"start_date"===e&&this.handleChangeStartDate("")}},{key:"render",value:function(){var e=this,t=this.state,a=t.errMsg,n=t.selected,r=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>akan menghapus data ini ?</div>'}}),i=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(e.state.page_number-1)*e.state.per_page+a+1+"."})},row:0},{key:"start_date",text:"Periode",align:"center",width:150,sortable:!0,cell:function(e){return Object(Oe.jsx)(s.Fragment,{children:Bt()(new Date(e.start_date)).format("DD-MM-YYYY HH:mm")+" sd "+Bt()(new Date(e.end_date)).format("DD-MM-YYYY HH:mm")})}},{key:"harga_member",text:"Harga Member",align:"center",sortable:!0,cell:function(e){return Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(It.a,{value:e.harga_member,thousandSeparator:!0,decimalScale:2,displayType:"text"})}),"Non PPN : ",Object(Oe.jsx)(It.a,{value:e.hm_non_ppn,thousandSeparator:!0,decimalScale:2,displayType:"text"}),Object(Oe.jsx)("br",{}),"PPN : ",Object(Oe.jsx)(It.a,{value:e.ppn_hm,thousandSeparator:!0,decimalScale:2,displayType:"text"})]})}},{key:"harga_konsumen",text:"Harga Konsumen",align:"center",sortable:!0,cell:function(e){return Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(It.a,{value:e.harga_konsumen,thousandSeparator:!0,decimalScale:2,displayType:"text"})}),"Non PPN : ",Object(Oe.jsx)(It.a,{value:e.hk_non_ppn,thousandSeparator:!0,decimalScale:2,displayType:"text"}),Object(Oe.jsx)("br",{}),"PPN : ",Object(Oe.jsx)(It.a,{value:e.ppn_hk,thousandSeparator:!0,decimalScale:2,displayType:"text"})]})}},{key:"pv",text:"PV",align:"center",width:150,sortable:!0,cell:function(e){return Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(It.a,{value:e.pv,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}},{key:"rv",text:"RV",align:"center",width:150,sortable:!0,cell:function(e){return Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(It.a,{value:e.rv,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}},{key:"action",text:"Action",width:75,sortable:!1,align:"center",cell:function(t){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsxs)("button",{disabled:!e.props.user.pricelist_edit,className:"btn btn-xs btn-success",onClick:function(){return e.editRecord(t)},style:{marginBottom:"5px",width:"58px"},children:[Object(Oe.jsx)("i",{className:"fa fa-edit"})," Edit"]}),Object(Oe.jsxs)("button",{disabled:!e.props.user.pricelist_del||1===t.id_product,className:"btn btn-danger btn-xs",onClick:function(){return e.deleteRecord(t)},children:[Object(Oe.jsx)("i",{className:"fa fa-trash"})," Delete"]})]})})}}];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Pricelist"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-lg-12",children:Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsxs)("div",{className:"card-header card-header-custom",children:[Object(Oe.jsx)("h1",{className:"card-title card-title-custom",children:this.state.productName}),Object(Oe.jsx)("div",{className:"tools",children:!this.state.show&&this.props.user.pricelist_add&&this.state.id_product>1?Object(Oe.jsx)(Wt.a,{className:"float-right btn-sm",onClick:this.discardChanges,icon:"add",theme:"info",children:"Add"}):""})]}),Object(Oe.jsxs)("div",{className:"card-body",children:[Object(Oe.jsx)(za.a,{in:this.state.show,style:{marginBottom:"15px",borderBottom:"1px solid #d2d2d2",paddingBottom:"5px"},children:Object(Oe.jsxs)("div",{id:"example-collapse-text",children:[this.props.errorPriority?Object(Oe.jsxs)(ta.a,{variant:"danger",show:!0,children:["Error : ",this.props.errorPriority]}):"",Object(Oe.jsxs)(ze.a,{children:[Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"start_date",children:[Object(Oe.jsx)(ze.a.Label,{children:"Start Date"}),a.start_date?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:a.start_date}):"",Object(Oe.jsx)(Ut.a,{setViewDate:this.state.start_date?new Date(this.state.start_date):new Date,value:this.state.start_date?new Date(this.state.start_date):"",onChange:this.handleChangeStartDate,inputProps:{readOnly:!0,autoComplete:"off",placeholder:"Start Date",name:"start_date",className:"form-control form-control-sm"},renderView:function(t,a,s){return e.renderView(t,a,"start_date")},locale:"id",isValidDate:this.state.validSd})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"pv",children:[Object(Oe.jsx)(ze.a.Label,{children:"PV"}),Object(Oe.jsx)(It.a,{name:"pv",onChange:this.handleChange,className:"form-control form-control-sm",value:n.pv?n.pv:"",thousandSeparator:!0,decimalScale:2,inputMode:"numeric",required:!0,autoComplete:"off",placeholder:"PV"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"harga_member",children:[Object(Oe.jsx)(ze.a.Label,{children:"Harga Member"}),a.harga_member?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:a.harga_member}):"",Object(Oe.jsx)(It.a,{onChange:this.handleChange,name:"harga_member",className:"form-control form-control-sm",value:n.harga_member?n.harga_member:"",thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"Harga Member"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"hm_non_ppn",children:[Object(Oe.jsx)(ze.a.Label,{children:"Hrg. Member Non PPN"}),Object(Oe.jsx)(It.a,{onChange:this.handleChange,name:"hm_non_ppn",className:"form-control form-control-sm",value:n.hm_non_ppn?n.hm_non_ppn:"",thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"Harga Member Non PPN"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"ppn_hm",children:[Object(Oe.jsx)(ze.a.Label,{children:"PPN Harga Member"}),Object(Oe.jsx)(It.a,{onChange:this.handleChange,name:"ppn_hm",className:"form-control form-control-sm",value:n.ppn_hm?n.ppn_hm:"",thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"PPN Harga Member"})]})]}),Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"start_date",children:[Object(Oe.jsx)(ze.a.Label,{children:"End Date"}),a.end_date?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:a.end_date}):"",Object(Oe.jsx)(Ut.a,{setViewDate:this.state.end_date?new Date(this.state.end_date):new Date,value:this.state.end_date?new Date(this.state.end_date):"",onChange:this.handleChangeEndDate,inputProps:{readOnly:!0,placeholder:"End Date",autoComplete:"off",name:"end_date",className:"form-control form-control-sm"},renderView:function(t,a){return e.renderView(t,a,"end_date")},locale:"id",isValidDate:this.state.validEd})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"rv",children:[Object(Oe.jsx)(ze.a.Label,{children:"RV"}),Object(Oe.jsx)(It.a,{name:"rv",onChange:this.handleChange,className:"form-control form-control-sm",value:n.rv?n.rv:"",thousandSeparator:!0,decimalScale:2,inputMode:"numeric",required:!0,autoComplete:"off",placeholder:"RV"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"harga_konsumen",children:[Object(Oe.jsx)(ze.a.Label,{children:"Harga Konsumen"}),a.harga_konsumen?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:a.harga_konsumen}):"",Object(Oe.jsx)(It.a,{onChange:this.handleChange,name:"harga_konsumen",className:"form-control form-control-sm",value:n.harga_konsumen?n.harga_konsumen:"",thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"Harga Konsumen"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"hk_non_ppn",children:[Object(Oe.jsx)(ze.a.Label,{children:"Hrg. Konsumen Non PPN"}),Object(Oe.jsx)(It.a,{onChange:this.handleChange,name:"hk_non_ppn",className:"form-control form-control-sm",value:n.hk_non_ppn?n.hk_non_ppn:"",thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"Harga Konsumen Non PPN"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"ppn_hk",children:[Object(Oe.jsx)(ze.a.Label,{children:"PPN Harga Konsumen"}),Object(Oe.jsx)(It.a,{onChange:this.handleChange,name:"ppn_hk",className:"form-control form-control-sm",value:n.ppn_hk?n.ppn_hk:"",thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"PPN Harga Konsumen"})]})]})]}),Object(Oe.jsx)(Ge.a,{onClick:this.handleClose.bind(this),style:{marginRight:5},variant:"danger",children:"Close"}),Object(Oe.jsx)(Wt.a,{onClick:this.handleSubmit.bind(this),isLoading:this.state.isLoading,type:"submit",theme:"success",children:"Simpan"})]})}),this.state.dtRes?Object(Oe.jsx)(Re.a,{config:{key_column:"id_pricelist",page_size:10,length_menu:[10,20,50],show_filter:!1,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:this.state.dtRes,columns:i,dynamic:!0,onChange:this.tableChangeHandler,total_record:this.state.totalData,loading:this.state.loadTbl}):Object(Oe.jsx)("p",{children:"Loading..."})]})]})})})})}),Object(Oe.jsx)(Be.a,{show:!1,size:"sm",form:"",handleClose:this.handleClose.bind(this),backdrop:"static",keyboard:!1,title:"Add/Edit",titleButton:"Save change",themeButton:"success",isLoading:this.state.isLoading,formSubmit:this.handleSubmit}),this.props.showFormSuccess?Object(Oe.jsx)(We.a,{show:this.props.showFormSuccess,title:this.props.contentMsg,type:"success",handleClose:this.closeSwal.bind(this)}):"",Object(Oe.jsx)(Be.a,{show:this.props.showFormDelete,size:"sm",form:r,handleClose:this.handleClose.bind(this),backdrop:"static",keyboard:!1,title:"Delete",titleButton:"Delete",themeButton:"danger",isLoading:this.isLoading,formSubmit:this.handleDelete.bind(this)})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),Ja=Object(c.b)((function(e){return{user:e.auth.currentUser,showFormSuccess:e.pricelist.showFormSuccess,showFormDelete:e.pricelist.showFormDelete,errorPriority:e.pricelist.errorPriority||null,contentMsg:e.pricelist.contentMsg}}),(function(e){return{onAdd:function(t){e(function(e){var t=!0;return function(){var a=Object(ue.a)(be.a.mark((function a(s){var n;return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(Ga(t)),n={},a.next=4,u.a.post(Va+"/simpan_pricelist",e).then((function(e){var t=e.data.err_code;if("05"===t||"06"===t){var a=e.data.err_msg+" dengan "+e.data.data;s({type:D,payload:a})}"00"===t&&(n.showFormSuccess=!0,n.tipeSWAL="success",n.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil disimpan</div>'}}),s(Ba(n)))})).catch((function(e){console.log(e),s(Ya(!1)),t=!1,n.showFormSuccess=!0,n.tipeSWAL="error",n.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Failed</strong>, Something wrong</div>'}}),s(Ba(n)),s(Ga(t))}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t))},onDelete:function(t){var a;e((a=t,function(){var e=Object(ue.a)(be.a.mark((function e(t){var s;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ga(!0)),s={},e.next=4,u.a.post(Va+"/del_pricelist",a).then((function(e){t(Ua(!1)),"00"===e.data.err_code?(s.showFormSuccess=!0,s.tipeSWAL="success",s.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}}),t(Ba(s))):(s.showFormSuccess=!0,s.tipeSWAL="error",s.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Failed</strong>, Something wrong</div>'}}),t(Ba(s)),t(Ga(!1)))})).catch((function(e){console.log(e),t(Ua(!1)),s.showFormSuccess=!0,s.tipeSWAL="error",s.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Failed</strong>, Something wrong</div>'}}),t(Ba(s)),t(Ga(!1))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},showForm:function(t){e(Ya(t))},showConfirmDel:function(t){e(Ua(t))},closeSwal:function(){var t={showFormSuccess:!1,contentMsg:null};e(Ba(t))},clearErrProps:function(){var t;e({type:A,payload:t})}}}))(Xa),Qa="http://202.158.64.238/api_cni/index.php",Za=function(e){return{type:I,payload:e}},es=function(e){return{type:L,payload:e}},ts=function(e){return{type:C,payload:e}},as=function(e){return{type:N,payload:e}},ss=function(e){var t=!0;return function(){var a=Object(ue.a)(be.a.mark((function a(s){return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(es(t)),a.next=3,u.a.post(Qa+"/news",e).then((function(e){var a={};a.data=e.data.data,a.total_data=e.data.total_data,s(Za(a)),s(es(t=!1))})).catch((function(e){var a={};a.message="Something wrong",a.status=e.response?e.response.status:404,s({type:M,payload:a}),s(es(t=!1))}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ns=function(e){var t={errorPriority:null};return t.showFormAdd=e,t.isAddLoading=!1,{type:S,payload:t}},rs=function(e){var t={errorPriority:null};return t.showFormDelete=e,t.isAddLoading=!1,{type:F,payload:t}},is=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).editRecord=function(e){s.setState({loadingForm:!1,errMsg:s.initSelected,selected:Object(d.a)(Object(d.a)({},e),{},{imgUpload:e.img})}),s.props.showForm(!0)},s.deleteRecord=function(e){s.setState({selected:Object(d.a)(Object(d.a)({},e),{},{id_operator:s.props.user.id_operator})}),s.props.showConfirmDel(!0)},s.handleClose=function(){s.setState({errMsg:{},selected:s.initSelected,loadingForm:!1}),s.props.showForm(!1),s.props.showConfirmDel(!1)},s.tableChangeHandler=function(e){var t=s.state;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),s.props.onLoad(s.state)},s.discardChanges=function(){s.setState({errMsg:{},selected:s.initSelected,loadingForm:!1}),s.state.selected.id_operator||s.setState({selected:Object(d.a)(Object(d.a)({},s.state.selected),{},{id_operator:s.props.user.id_operator})}),s.props.showForm(!0)},s.initSelected={id_news:"",title:"",filename:"",path_file:"",id_operator:"",img:"",imgUpload:""},s.state={sort_order:"ASC",sort_column:"title",keyword:"",page_number:1,is_cms:1,per_page:10,selected:s.initSelected,errMsg:s.initSelected,loadingForm:!1},s.handleChange=s.handleChange.bind(Object(zt.a)(s)),s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.props.onLoad(this.state)}},{key:"handleChange",value:function(e){var t=this,a=e.target,s=a.name,n=a.value;if(this.props.clearErrProps(),"path_file"===e.target.name){n=e.target.files[0];var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){t.setState({loadingForm:!1,selected:Object(d.a)(Object(d.a)({},t.state.selected),{},{path_file:n})})}}if("img"===e.target.name){if(n=e.target.files[0],this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{imgUpload:"",img:""})}),!n)return;if(!n.name.match(/\.(jpg|jpeg|png)$/))return void this.setState({loadingForm:!0,errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},{img:"Please select valid image(.jpg .jpeg .png)"})});if(n.size>2099200)return void this.setState({loadingForm:!0,errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},{img:"File size over 2MB"})});var i=new FileReader;i.readAsDataURL(n),i.onloadend=function(){t.setState({loadingForm:!1,selected:Object(d.a)(Object(d.a)({},t.state.selected),{},{imgUpload:i.result,img:n})})}}this.setState({loadingForm:!1,selected:Object(d.a)(Object(d.a)({},this.state.selected),{},Object(Q.a)({},s,n)),errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},Object(Q.a)({},s,""))}),this.state.selected.id_operator||this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})})}},{key:"handleSubmit",value:function(){var e=this.state.errMsg;this.setState(Object(d.a)(Object(d.a)({},this.state),{},{loadingForm:!0})),e.title=this.state.selected.title?"":"Title required",e.path_file=this.state.selected.path_file?"":"File required",e.img=this.state.selected.img.size>2099200?"File size over 2MB":"",this.state.selected.id_operator||this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})}),this.setState({errors:e}),this.validateForm(this.state.errMsg)?this.props.onAdd(this.state.selected):console.error("Invalid Form")}},{key:"validateForm",value:function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t}},{key:"handleDelete",value:function(){this.props.onDelete(this.state.selected)}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.user,r=this.state,i=r.selected,c=r.errMsg,o=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(e.state.page_number-1)*e.state.per_page+a+1+"."})},row:0},{key:"path_file",text:"File",align:"center",sortable:!1,cell:function(e){return Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)("a",{href:e.path_file,title:e.filename,target:"_blank",rel:"noopener noreferrer",children:e.filename})})}},{key:"img",text:"Image",align:"center",width:200,sortable:!1,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:Object(Oe.jsxs)(ht.a,{children:[Object(Oe.jsx)(ht.a.Image,{thumbnail:!0,width:150,height:120,alt:e.title,src:e.img}),Object(Oe.jsx)(ht.a.Caption,{children:e.title})]})})}},{key:"action",text:"Action",width:130,align:"center",sortable:!1,cell:function(t){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:Object(Oe.jsxs)(s.Fragment,{children:[e.props.user.news_edit?Object(Oe.jsxs)("button",{className:"btn btn-xs btn-success",onClick:function(a){return e.editRecord(t)},style:{marginRight:"5px"},children:[Object(Oe.jsx)("i",{className:"fa fa-edit"})," Edit"]}):Object(Oe.jsxs)("button",{className:"btn btn-xs btn-success",disabled:!0,style:{marginRight:"5px"},children:[Object(Oe.jsx)("i",{className:"fa fa-edit"})," Edit"]}),e.props.user.news_del?Object(Oe.jsxs)("button",{className:"btn btn-danger btn-xs",onClick:function(){return e.deleteRecord(t)},children:[Object(Oe.jsx)("i",{className:"fa fa-trash"})," Delete"]}):Object(Oe.jsxs)("button",{className:"btn btn-danger btn-xs",disabled:!0,children:[Object(Oe.jsx)("i",{className:"fa fa-trash"})," Delete"]})]})})}}],l=Object(Oe.jsxs)(ze.a,{id:"myForm",children:[Object(Oe.jsxs)(ze.a.Group,{controlId:"priority_number",children:[Object(Oe.jsx)(ze.a.Label,{children:"Title"}),c.title?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:c.title}):"",Object(Oe.jsx)(ze.a.Control,{size:"sm",autoComplete:"off",name:"title",type:"text",onInput:this.handleChange.bind(this),value:i.title,onChange:this.handleChange.bind(this),placeholder:"Title"})]}),Object(Oe.jsxs)(Vt.a,{children:[Object(Oe.jsxs)(Ve.a,{xs:6,children:[Object(Oe.jsxs)(ze.a.Group,{controlId:"img",children:[Object(Oe.jsx)(ze.a.Label,{children:"Image"}),c.img?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:c.img}):null,Object(Oe.jsx)(ze.a.File,{size:"sm",name:"img",setfieldvalue:i.img,onChange:this.handleChange.bind(this)})]}),i.imgUpload?Object(Oe.jsx)(ze.a.Group,{controlId:"imagePreview",children:Object(Oe.jsx)(ht.a,{children:Object(Oe.jsx)(ht.a.Image,{thumbnail:!0,width:130,height:100,alt:"",src:i.imgUpload})})}):""]}),Object(Oe.jsx)(Ve.a,{xs:6,children:Object(Oe.jsxs)(ze.a.Group,{controlId:"path_file",children:[Object(Oe.jsx)(ze.a.Label,{children:"File"}),c.path_file?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:c.path_file}):null,Object(Oe.jsx)(ze.a.File,{size:"sm",name:"path_file",setfieldvalue:i.path_file,onChange:this.handleChange.bind(this)}),i.filename?Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsx)(ze.a.Label,{style:{paddingTop:10,marginBottom:0},children:"Current File:"}),i.filename]}):null]})})]})]}),d=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>akan menghapus data ini ?</div>'}});return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"News"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card card-success shadow-lg",style:{minHeight:"470px"},children:[Object(Oe.jsx)("div",{className:"card-header",children:n.news_add?Object(Oe.jsxs)(Ge.a,{variant:"success",onClick:this.discardChanges,children:[Object(Oe.jsx)("i",{className:"fa fa-plus"})," Add"]}):Object(Oe.jsxs)(Ge.a,{variant:"success",disabled:!0,children:[Object(Oe.jsx)("i",{className:"fa fa-plus"})," Add"]})}),Object(Oe.jsx)("div",{className:"card-body",children:a?Object(Oe.jsx)(Re.a,{config:{key_column:"id_news",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:a,columns:o,dynamic:!0,onChange:this.tableChangeHandler,loading:this.props.isLoading,total_record:this.props.totalData}):Object(Oe.jsx)("p",{children:"No Data ..."})})]})})})})}),Object(Oe.jsx)(Be.a,{show:this.props.showFormAdd,form:l,backdrop:"static",keyboard:!1,title:"Add/Edit News",titleButton:"Save change",themeButton:"success",handleClose:this.handleClose,isLoading:this.props.isAddLoading?this.props.isAddLoading:this.state.loadingForm,formSubmit:this.handleSubmit.bind(this)}),this.props.showFormSuccess?Object(Oe.jsx)(We.a,{show:this.props.showFormSuccess,title:this.props.contentMsg,type:this.props.tipeSWAL,handleClose:this.props.closeSwal}):"",Object(Oe.jsx)(Be.a,{show:this.props.showFormDelete,size:"sm",form:d,handleClose:this.handleClose,backdrop:"static",keyboard:!1,title:"Delete News",titleButton:"Delete News",themeButton:"danger",isLoading:this.props.isAddLoading,formSubmit:this.handleDelete.bind(this)})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),cs=Object(c.b)((function(e){return{data:e.news.data||[],isLoading:e.news.isLoading,isAddLoading:e.news.isAddLoading,error:e.news.error||null,errorPriority:e.news.errorPriority||null,totalData:e.news.totalData||0,showFormAdd:e.news.showFormAdd,contentMsg:e.news.contentMsg,showFormSuccess:e.news.showFormSuccess,showFormDelete:e.news.showFormDelete,tipeSWAL:e.news.tipeSWAL,user:e.auth.currentUser}}),(function(e){return{onLoad:function(t){e(ss(t))},onAdd:function(t){e(function(e){var t=Object.keys(e).reduce((function(t,a){return t.append(a,e[a]),t}),new FormData);return function(){var e=Object(ue.a)(be.a.mark((function e(a){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(ts(!0)),e.next=3,u.a.post(Qa+"/simpan_news",t).then((function(e){if("00"===e.data.err_code){a(ns(!1));var t={showFormSuccess:!0,tipeSWAL:"success"};t.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil disimpan</div>'}}),a(as(t))}})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t))},onDelete:function(t){var a;e((a=t,function(){var e=Object(ue.a)(be.a.mark((function e(t){var s;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ts(!0)),s={},e.next=4,u.a.post(Qa+"/del_news",a).then((function(e){t(rs(!1)),"00"===e.data.err_code?(s.showFormSuccess=!0,s.tipeSWAL="success",s.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}}),t(as(s))):(s.showFormSuccess=!0,s.tipeSWAL="error",s.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Failed</strong>, Something wrong</div>'}}),t(as(s)),t(ts(!1)))})).catch((function(e){console.log(e),t(rs(!1)),s.showFormSuccess=!0,s.tipeSWAL="error",s.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Failed</strong>, Something wrong</div>'}}),t(as(s)),t(ts(!1))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},showForm:function(t){e(ns(t))},showConfirmDel:function(t){e(rs(t))},closeSwal:function(){var t={showFormSuccess:!1,contentMsg:null};e(as(t));e(ss({sort_order:"ASC",sort_column:"title",per_page:10,is_cms:1}))},clearErrProps:function(){var t;e({type:A,payload:t})}}}))(is),os=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=function(){s.setState({loadTbl:!0});var e=s.state.queryString;e.id_operator=s.props.user.id_operator,ya.postData(e,"GET_DATA").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:e.data.data,totalData:e.data.total_data})),"04"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:[],totalData:0})),s.setState({loadTbl:!1})}),400)})).catch((function(e){console.log(e)}))},s.tableChangeHandler=function(e){var t=s.state.queryString;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),s.getData()},s.rowClickedHandler=function(){var e=Object(ue.a)(be.a.mark((function e(t,a,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("idTransCNI",a.id_transaksi);case 2:s.props.history.push("/trans_detail");case 3:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),s.state={dtRes:[],totalData:0,show:!1,isLoading:!1,loadTbl:!0,queryString:{page_number:1,per_page:10,sort_order:"DESC",sort_column:"id_transaksi",keyword:"",status:3}},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("idTransCNI"),this.getData()}},{key:"render",value:function(){var e=this,t=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(e.state.queryString.page_number-1)*e.state.queryString.per_page+a+1+"."})},row:0},{key:"created_at",text:"Date",align:"center",width:130,sortable:!0,cell:function(e){return Bt()(new Date(e.created_at)).format("DD-MM-YYYY HH:mm")}},{key:"id_transaksi",text:"Order ID",align:"center",width:130,sortable:!0},{key:"nama_member",text:"Nama",align:"center",sortable:!0},{key:"email",text:"Email",align:"center",sortable:!0},{key:"phone_member",text:"Phone",align:"center",width:130,sortable:!0},{key:"ttl_price",text:"Total",align:"center",width:100,sortable:!0,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)(It.a,{value:e.ttl_price,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}}];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Transaksi"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsx)("div",{className:"card-header",children:Object(Oe.jsx)("h1",{className:"card-title card-title-custom",children:"On Process"})}),Object(Oe.jsx)("div",{className:"card-body",children:this.state.dtRes?Object(Oe.jsx)(Re.a,{className:"table table-striped table-hover table-bordered",config:{key_column:"id_transaksi",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:this.state.dtRes,columns:t,dynamic:!0,onChange:this.tableChangeHandler,total_record:this.state.totalData,loading:this.state.loadTbl,onRowClicked:this.rowClickedHandler}):Object(Oe.jsx)("p",{children:"No Data..."})})]})})})})})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),ls=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")(os),ds=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=function(){s.setState({loadTbl:!0});var e=s.state.queryString;e.id_operator=s.props.user.id_operator,ya.postData(e,"GET_DATA").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:e.data.data,totalData:e.data.total_data})),"04"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:[],totalData:0})),s.setState({loadTbl:!1})}),400)})).catch((function(e){console.log(e)}))},s.tableChangeHandler=function(e){var t=s.state.queryString;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),s.getData()},s.rowClickedHandler=function(){var e=Object(ue.a)(be.a.mark((function e(t,a,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("idTransCNI",a.id_transaksi);case 2:s.props.history.push("/trans_detail");case 3:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),s.state={dtRes:[],totalData:0,show:!1,isLoading:!1,loadTbl:!0,queryString:{page_number:1,per_page:10,sort_order:"DESC",sort_column:"id_transaksi",keyword:"",status:4}},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("idTransCNI"),this.getData()}},{key:"render",value:function(){var e=this,t=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(e.state.queryString.page_number-1)*e.state.queryString.per_page+a+1+"."})},row:0},{key:"created_at",text:"Date",align:"center",width:130,sortable:!0,cell:function(e){return Bt()(new Date(e.created_at)).format("DD-MM-YYYY HH:mm")}},{key:"id_transaksi",text:"Order ID",align:"center",width:130,sortable:!0},{key:"nama_member",text:"Nama",align:"center",sortable:!0},{key:"email",text:"Email",align:"center",sortable:!0},{key:"phone_member",text:"Phone",align:"center",width:130,sortable:!0},{key:"ttl_price",text:"Total",align:"center",width:100,sortable:!0,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)(It.a,{value:e.ttl_price,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}}];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Transaksi"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsx)("div",{className:"card-header",children:Object(Oe.jsx)("h1",{className:"card-title card-title-custom",children:"Dikirim"})}),Object(Oe.jsx)("div",{className:"card-body",children:this.state.dtRes?Object(Oe.jsx)(Re.a,{className:"table table-striped table-hover table-bordered",config:{key_column:"id_transaksi",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:this.state.dtRes,columns:t,dynamic:!0,onChange:this.tableChangeHandler,total_record:this.state.totalData,loading:this.state.loadTbl,onRowClicked:this.rowClickedHandler}):Object(Oe.jsx)("p",{children:"No Data..."})})]})})})})})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),hs=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")(ds),js=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=function(){s.setState({loadTbl:!0});var e=s.state.queryString;e.id_operator=s.props.user.id_operator,ya.postData(e,"GET_DATA").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:e.data.data,totalData:e.data.total_data})),"04"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:[],totalData:0})),s.setState({loadTbl:!1})}),400)})).catch((function(e){console.log(e)}))},s.tableChangeHandler=function(e){var t=s.state.queryString;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),s.getData()},s.rowClickedHandler=function(){var e=Object(ue.a)(be.a.mark((function e(t,a,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("idTransCNI",a.id_transaksi);case 2:s.props.history.push("/trans_detail");case 3:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),s.state={dtRes:[],totalData:0,show:!1,isLoading:!1,loadTbl:!0,queryString:{page_number:1,per_page:10,sort_order:"DESC",sort_column:"id_transaksi",keyword:"",status:2}},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("idTransCNI"),this.getData()}},{key:"render",value:function(){var e=this,t=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(e.state.queryString.page_number-1)*e.state.queryString.per_page+a+1+"."})},row:0},{key:"created_at",text:"Date",align:"center",width:130,sortable:!0,cell:function(e){return Bt()(new Date(e.created_at)).format("DD-MM-YYYY HH:mm")}},{key:"id_transaksi",text:"Order ID",align:"center",width:130,sortable:!0},{key:"nama_member",text:"Nama",align:"center",sortable:!0},{key:"email",text:"Email",align:"center",sortable:!0},{key:"phone_member",text:"Phone",align:"center",width:130,sortable:!0},{key:"ttl_price",text:"Total",align:"center",width:100,sortable:!0,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)(It.a,{value:e.ttl_price,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}}];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Transaksi"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsx)("div",{className:"card-header",children:Object(Oe.jsx)("h1",{className:"card-title card-title-custom",children:"Expired"})}),Object(Oe.jsx)("div",{className:"card-body",children:this.state.dtRes?Object(Oe.jsx)(Re.a,{className:"table table-striped table-hover table-bordered",config:{key_column:"id_transaksi",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:this.state.dtRes,columns:t,dynamic:!0,onChange:this.tableChangeHandler,total_record:this.state.totalData,loading:this.state.loadTbl,onRowClicked:this.rowClickedHandler}):Object(Oe.jsx)("p",{children:"No Data..."})})]})})})})})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),bs=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")(js),us=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=function(){s.setState({loadTbl:!0});var e=s.state.queryString;e.id_operator=s.props.user.id_operator,ya.postData(e,"GET_DATA").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:e.data.data,totalData:e.data.total_data})),"04"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:[],totalData:0})),s.setState({loadTbl:!1})}),400)})).catch((function(e){console.log(e)}))},s.tableChangeHandler=function(e){var t=s.state.queryString;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),s.getData()},s.rowClickedHandler=function(){var e=Object(ue.a)(be.a.mark((function e(t,a,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("idTransCNI",a.id_transaksi);case 2:s.props.history.push("/trans_detail");case 3:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),s.state={dtRes:[],totalData:0,show:!1,isLoading:!1,loadTbl:!0,queryString:{page_number:1,per_page:10,sort_order:"DESC",sort_column:"id_transaksi",keyword:"",status:95678}},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("idTransCNI"),this.getData()}},{key:"render",value:function(){var e=this,t=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(e.state.queryString.page_number-1)*e.state.queryString.per_page+a+1+"."})},row:0},{key:"created_at",text:"Date",align:"center",width:130,sortable:!0,cell:function(e){return Bt()(new Date(e.created_at)).format("DD-MM-YYYY HH:mm")}},{key:"id_transaksi",text:"Order ID",align:"center",width:130,sortable:!0},{key:"nama_member",text:"Nama",align:"center",sortable:!0},{key:"email",text:"Email",align:"center",sortable:!0},{key:"phone_member",text:"Phone",align:"center",width:130,sortable:!0},{key:"ttl_price",text:"Total",align:"center",width:100,sortable:!0,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)(It.a,{value:e.ttl_price,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}}];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Transaksi"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsx)("div",{className:"card-header",children:Object(Oe.jsx)("h1",{className:"card-title card-title-custom",children:"Hold"})}),Object(Oe.jsx)("div",{className:"card-body",children:this.state.dtRes?Object(Oe.jsx)(Re.a,{className:"table table-striped table-hover table-bordered",config:{key_column:"id_transaksi",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:this.state.dtRes,columns:t,dynamic:!0,onChange:this.tableChangeHandler,total_record:this.state.totalData,loading:this.state.loadTbl,onRowClicked:this.rowClickedHandler}):Object(Oe.jsx)("p",{children:"No Data..."})})]})})})})})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),ps=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")(us),ms=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).editRecord=function(e){s.setState({loadingForm:!1,errMsg:s.initSelected,selected:Object(d.a)({},e)}),s.props.showForm(!0)},s.HakAkses=function(){var e=Object(ue.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("idLevelCNI",t.id_level);case 2:s.props.history.push("/permission");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.deleteRecord=function(e){s.setState({selected:Object(d.a)(Object(d.a)({},e),{},{id_operator:s.props.user.id_operator})}),s.props.showConfirmDel(!0)},s.handleClose=function(){s.setState({errMsg:{},selected:s.initSelected,loadingForm:!1}),s.props.showForm(!1),s.props.showConfirmDel(!1)},s.tableChangeHandler=function(e){var t=s.state;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),s.props.onLoad(s.state)},s.discardChanges=function(){s.setState({errMsg:{},selected:s.initSelected,loadingForm:!1}),s.state.selected.id_operator||s.setState({selected:Object(d.a)(Object(d.a)({},s.state.selected),{},{id_operator:s.props.user.id_operator})}),s.props.showForm(!0)},s.initSelected={id_level:"",level_name:"",id_operator:""},s.state={sort_order:"ASC",sort_column:"level_name",keyword:"",page_number:1,is_cms:1,per_page:10,selected:s.initSelected,errMsg:s.initSelected,loadingForm:!1},s.handleChange=s.handleChange.bind(Object(zt.a)(s)),s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.props.onLoad(this.state)}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.props.clearErrProps(),this.setState({loadingForm:!1,selected:Object(d.a)(Object(d.a)({},this.state.selected),{},Object(Q.a)({},a,s)),errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},Object(Q.a)({},a,""))}),this.state.selected.id_operator||this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})})}},{key:"handleSubmit",value:function(){var e=this.state.errMsg;this.setState(Object(d.a)(Object(d.a)({},this.state),{},{loadingForm:!0})),e.level_name=this.state.selected.level_name?"":"Level name required",this.state.selected.id_operator||this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})}),this.setState({errors:e}),this.validateForm(this.state.errMsg)?this.props.onAdd(this.state.selected):console.error("Invalid Form")}},{key:"validateForm",value:function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t}},{key:"handleDelete",value:function(){this.props.onDelete(this.state.selected)}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.user,r=this.state,i=r.selected,c=r.errMsg;console.log(this.props);var o=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(e.state.page_number-1)*e.state.per_page+a+1+"."})},row:0},{key:"level_name",text:"Level Name",align:"center",sortable:!1},{key:"action",text:"Action",width:230,align:"center",sortable:!1,cell:function(t){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsxs)("button",{className:"btn btn-xs btn-info",onClick:function(a){return e.HakAkses(t)},style:{marginRight:"5px"},children:[Object(Oe.jsx)(ve.r,{})," Hak Akses"]}),n.level_edit?Object(Oe.jsxs)("button",{className:"btn btn-xs btn-success",onClick:function(a){return e.editRecord(t)},style:{marginRight:"5px"},children:[Object(Oe.jsx)("i",{className:"fa fa-edit"})," Edit"]}):Object(Oe.jsxs)("button",{className:"btn btn-xs btn-success",disabled:!0,style:{marginRight:"5px"},children:[Object(Oe.jsx)("i",{className:"fa fa-edit"})," Edit"]}),n.level_del&&1!==t.id_level?Object(Oe.jsxs)("button",{className:"btn btn-danger btn-xs",onClick:function(){return e.deleteRecord(t)},children:[Object(Oe.jsx)("i",{className:"fa fa-trash"})," Delete"]}):Object(Oe.jsxs)("button",{className:"btn btn-danger btn-xs",disabled:!0,children:[Object(Oe.jsx)("i",{className:"fa fa-trash"})," Delete"]})]})})}}],l=Object(Oe.jsx)(ze.a,{id:"myForm",children:Object(Oe.jsxs)(ze.a.Group,{controlId:"priority_number",children:[Object(Oe.jsx)(ze.a.Label,{children:"Level Name"}),c.level_name?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:c.level_name}):"",Object(Oe.jsx)(ze.a.Control,{size:"sm",autoComplete:"off",name:"level_name",type:"text",onInput:this.handleChange.bind(this),value:i.level_name,onChange:this.handleChange.bind(this),placeholder:"Level Name"})]})}),d=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>akan menghapus data ini ?</div>'}});return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Level"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card card-success shadow-lg",style:{minHeight:"470px"},children:[Object(Oe.jsx)("div",{className:"card-header",children:n.level_add?Object(Oe.jsxs)(Ge.a,{variant:"success",onClick:this.discardChanges,children:[Object(Oe.jsx)("i",{className:"fa fa-plus"})," Add"]}):Object(Oe.jsxs)(Ge.a,{variant:"success",disabled:!0,children:[Object(Oe.jsx)("i",{className:"fa fa-plus"})," Add"]})}),Object(Oe.jsx)("div",{className:"card-body",children:a?Object(Oe.jsx)(Re.a,{config:{key_column:"id_level",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:a,columns:o,dynamic:!0,onChange:this.tableChangeHandler,loading:this.props.isLoading,total_record:this.props.totalData}):Object(Oe.jsx)("p",{children:"No Data ..."})})]})})})})}),Object(Oe.jsx)(Be.a,{show:this.props.showFormAdd,size:"sm",form:l,backdrop:"static",keyboard:!1,title:"Add/Edit Level",titleButton:"Save change",themeButton:"success",handleClose:this.handleClose,isLoading:this.props.isAddLoading?this.props.isAddLoading:this.state.loadingForm,formSubmit:this.handleSubmit.bind(this)}),this.props.showFormSuccess?Object(Oe.jsx)(We.a,{show:this.props.showFormSuccess,title:this.props.contentMsg,type:this.props.tipeSWAL,handleClose:this.props.closeSwal}):"",Object(Oe.jsx)(Be.a,{show:this.props.showFormDelete,size:"sm",form:d,handleClose:this.handleClose,backdrop:"static",keyboard:!1,title:"Delete Level",titleButton:"Delete Level",themeButton:"danger",isLoading:this.props.isAddLoading,formSubmit:this.handleDelete.bind(this)})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),gs=Object(c.b)((function(e){return{data:e.level.data||[],isLoading:e.level.isLoading,isAddLoading:e.level.isAddLoading,error:e.level.error||null,errorPriority:e.level.errorPriority||null,totalData:e.level.totalData||0,showFormAdd:e.level.showFormAdd,contentMsg:e.level.contentMsg,showFormSuccess:e.level.showFormSuccess,showFormDelete:e.level.showFormDelete,tipeSWAL:e.level.tipeSWAL,user:e.auth.currentUser}}),(function(e){return{onLoad:function(t){e(Qe(t))},onAdd:function(t){e(tt(t))},onDelete:function(t){var a;e((a=t,function(){var e=Object(ue.a)(be.a.mark((function e(t){var s;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Xe(!0)),s={},e.next=4,u.a.post(qe+"/del_level",a).then((function(e){t(et(!1)),"00"===e.data.err_code?(s.showFormSuccess=!0,s.tipeSWAL="success",s.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}}),t(Je(s))):(s.showFormSuccess=!0,s.tipeSWAL="error",s.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Failed</strong>, Something wrong</div>'}}),t(Je(s)),t(Xe(!1)))})).catch((function(e){console.log(e),t(et(!1)),s.showFormSuccess=!0,s.tipeSWAL="error",s.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Failed</strong>, Something wrong</div>'}}),t(Je(s)),t(Xe(!1))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},showForm:function(t){e(Ze(t))},showConfirmDel:function(t){e(et(t))},closeSwal:function(){var t={showFormSuccess:!1,contentMsg:null};e(Je(t));e(Qe({sort_order:"ASC",sort_column:"level_name",per_page:10,is_cms:1}))},clearErrProps:function(){var t;e({type:A,payload:t})}}}))(ms),Os=a(760),xs=a(109),_s=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=Object(ue.a)(be.a.mark((function e(){var t,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=sessionStorage.getItem("idLevelCNI"),s.setState(Object(d.a)(Object(d.a)({},s.state),{},{appsLoading:!0,id_level:t,selected:Object(d.a)(Object(d.a)({},s.state.selected),{},{id_level:t})})),(a={}).id_level=t,at(a,"VIEW_HAK_AKSES").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{selected:e.data.data})),s.setState(Object(d.a)(Object(d.a)({},s.state),{},{appsLoading:!1,loadTbl:!1}))}),200)})).catch((function(e){console.log(e),s.setState(Object(d.a)(Object(d.a)({},s.state),{},{appsLoading:!1,loadTbl:!1}))}));case 5:case"end":return e.stop()}}),e)}))),s.state={selected:{},errMsg:{},konsumen_all:"",appsLoading:!1},s.handleChange=s.handleChange.bind(Object(zt.a)(s)),s.handleChangeAll=s.handleChangeAll.bind(Object(zt.a)(s)),s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"handleChangeAll",value:function(){var e=Object(ue.a)(be.a.mark((function e(t){var a,s;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.name,s=this.state[a]>0?0:1,e.next=4,this.setState(Object(d.a)(Object(d.a)({},this.state),{},Object(Q.a)({},a,s)));case 4:if("konsumen_all"!==a){e.next=7;break}return e.next=7,this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{konsumen_view:s,members_view:s})});case 7:if("category_all"!==a){e.next=10;break}return e.next=10,this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{category_view:s,category_add:s,category_edit:s,category_del:s})});case 10:if(this.state.selected.id_operator){e.next=13;break}return e.next=13,this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})});case 13:this.props.onAdd(this.state.selected);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(ue.a)(be.a.mark((function e(t){var a,s,n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.target.name,n=this.state.selected[s]>0?0:1,e.next=4,this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},(a={},Object(Q.a)(a,s,n),Object(Q.a)(a,"showFormSuccess",!0),a))});case 4:if(this.state.selected.id_operator){e.next=7;break}return e.next=7,this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})});case 7:this.props.onAdd(this.state.selected);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.selected;return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsxs)("h1",{className:"m-0",children:["Hak Akses ",e.level_name]})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"col-12",children:this.state.appsLoading?Object(Oe.jsx)(qt,{}):Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsxs)(xs.a,{children:[Object(Oe.jsx)(Os.a,{className:"mb-2",children:Object(Oe.jsxs)(Os.a.Body,{children:[Object(Oe.jsx)(Os.a.Title,{children:Object(Oe.jsx)("h5",{className:"widget-user-desc",children:"Data Pelanggan"})}),Object(Oe.jsx)(ze.a.Group,{controlId:"konsumen_all",className:"hide float-right",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChangeAll,checked:e.konsumen_view&&e.members_view?"checked":"",name:"konsumen_all",custom:!0})}),Object(Oe.jsxs)("div",{className:"row card-text",children:[Object(Oe.jsx)("div",{className:"col-sm-6 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"konsumen_view",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.konsumen_view>0?"checked":"",label:"Konsumen",name:"konsumen_view",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)(ze.a.Group,{controlId:"members_view",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.members_view>0?"checked":"",label:"Member",name:"members_view",custom:!0})})})})]})]})}),Object(Oe.jsx)(Os.a,{className:"mb-2",children:Object(Oe.jsxs)(Os.a.Body,{children:[Object(Oe.jsx)(Os.a.Title,{children:Object(Oe.jsx)("h5",{className:"widget-user-desc",children:"Category"})}),Object(Oe.jsx)(ze.a.Group,{controlId:"category_all",className:"hide float-right",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChangeAll,checked:e.category_view&&e.category_add&&e.category_edit&&e.category_del?"checked":"",name:"category_all",custom:!0})}),Object(Oe.jsxs)("div",{className:"row card-text",children:[Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"category_view",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.category_view>0?"checked":"",label:"View",name:"category_view",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"category_add",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.category_add>0?"checked":"",label:"Add",name:"category_add",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"category_edit",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.category_edit>0?"checked":"",label:"Edit",name:"category_edit",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3",children:Object(Oe.jsx)(ze.a.Group,{controlId:"category_del",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.category_del>0?"checked":"",label:"Delete",name:"category_del",custom:!0})})})})]})]})}),Object(Oe.jsx)(Os.a,{className:"mb-2",children:Object(Oe.jsxs)(Os.a.Body,{children:[Object(Oe.jsx)(Os.a.Title,{children:Object(Oe.jsx)("h5",{className:"widget-user-desc",children:"Products"})}),Object(Oe.jsxs)("div",{className:"row card-text",children:[Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"product_view",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.product_view>0?"checked":"",label:"View",name:"product_view",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"product_add",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.product_add>0?"checked":"",label:"Add",name:"product_add",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"product_edit",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.product_edit>0?"checked":"",label:"Edit",name:"product_edit",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3",children:Object(Oe.jsx)(ze.a.Group,{controlId:"product_del",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.product_del>0?"checked":"",label:"Delete",name:"product_del",custom:!0})})})})]})]})})]}),Object(Oe.jsxs)(xs.a,{children:[Object(Oe.jsx)(Os.a,{className:"mb-2",children:Object(Oe.jsxs)(Os.a.Body,{children:[Object(Oe.jsx)(Os.a.Title,{children:Object(Oe.jsx)("h5",{className:"widget-user-desc",children:"Pricelist"})}),Object(Oe.jsxs)("div",{className:"row card-text",children:[Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"pricelist_view",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.pricelist_view>0?"checked":"",label:"View",name:"pricelist_view",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"pricelist_add",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.pricelist_add>0?"checked":"",label:"Add",name:"pricelist_add",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"pricelist_edit",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.pricelist_edit>0?"checked":"",label:"Edit",name:"pricelist_edit",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3",children:Object(Oe.jsx)(ze.a.Group,{controlId:"pricelist_del",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.pricelist_del>0?"checked":"",label:"Delete",name:"pricelist_del",custom:!0})})})})]})]})}),Object(Oe.jsx)(Os.a,{className:"mb-2",children:Object(Oe.jsxs)(Os.a.Body,{children:[Object(Oe.jsx)(Os.a.Title,{children:Object(Oe.jsx)("h5",{className:"widget-user-desc",children:"Transaksi"})}),Object(Oe.jsxs)("div",{className:"row card-text",children:[Object(Oe.jsx)("div",{className:"col-sm-4 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"transaksi_view",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.transaksi_view>0?"checked":"",label:"View",name:"transaksi_view",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-4 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"transaksi_setkirimpaket",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.transaksi_setkirimpaket>0?"checked":"",label:"Kirim Paket",name:"transaksi_setkirimpaket",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-4",children:Object(Oe.jsx)(ze.a.Group,{controlId:"transaksi_setprocess",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.transaksi_setprocess>0?"checked":"",label:"Set Onprocess",name:"transaksi_setprocess",custom:!0})})})})]})]})}),Object(Oe.jsx)(Os.a,{className:"mb-2",children:Object(Oe.jsxs)(Os.a.Body,{children:[Object(Oe.jsx)(Os.a.Title,{children:Object(Oe.jsx)("h5",{className:"widget-user-desc",children:"News"})}),Object(Oe.jsxs)("div",{className:"row card-text",children:[Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"news_view",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.news_view>0?"checked":"",label:"View",name:"news_view",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"news_add",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.news_add>0?"checked":"",label:"Add",name:"news_add",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"news_edit",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.news_edit>0?"checked":"",label:"Edit",name:"news_edit",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3",children:Object(Oe.jsx)(ze.a.Group,{controlId:"news_del",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.news_del>0?"checked":"",label:"Delete",name:"news_del",custom:!0})})})})]})]})})]}),Object(Oe.jsxs)(xs.a,{children:[Object(Oe.jsx)(Os.a,{className:"mb-2",children:Object(Oe.jsxs)(Os.a.Body,{children:[Object(Oe.jsx)(Os.a.Title,{children:Object(Oe.jsx)("h5",{className:"widget-user-desc",children:"Voucher"})}),Object(Oe.jsxs)("div",{className:"row card-text",children:[Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"vouchers_view",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.vouchers_view>0?"checked":"",label:"View",name:"vouchers_view",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"vouchers_add",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.vouchers_add>0?"checked":"",label:"Add",name:"vouchers_add",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"vouchers_edit",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.vouchers_edit>0?"checked":"",label:"Edit",name:"vouchers_edit",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3",children:Object(Oe.jsx)(ze.a.Group,{controlId:"vouchers_del",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.vouchers_del>0?"checked":"",label:"Delete",name:"vouchers_del",custom:!0})})})})]})]})}),Object(Oe.jsx)(Os.a,{className:"mb-2",children:Object(Oe.jsxs)(Os.a.Body,{children:[Object(Oe.jsx)(Os.a.Title,{children:Object(Oe.jsx)("h5",{className:"widget-user-desc",children:"Banners"})}),Object(Oe.jsxs)("div",{className:"row card-text",children:[Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"banners_view",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.banners_view>0?"checked":"",label:"View",name:"banners_view",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"banners_add",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.banners_add>0?"checked":"",label:"Add",name:"banners_add",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"banners_edit",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.banners_edit>0?"checked":"",label:"Edit",name:"banners_edit",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3",children:Object(Oe.jsx)(ze.a.Group,{controlId:"banners_del",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.banners_del>0?"checked":"",label:"Delete",name:"banners_del",custom:!0})})})})]})]})}),Object(Oe.jsx)(Os.a,{className:"mb-2",children:Object(Oe.jsxs)(Os.a.Body,{children:[Object(Oe.jsx)(Os.a.Title,{children:Object(Oe.jsx)("h5",{className:"widget-user-desc",children:"Provinsi"})}),Object(Oe.jsxs)("div",{className:"row card-text",children:[Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"provinsi_view",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.provinsi_view>0?"checked":"",label:"View",name:"provinsi_view",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"provinsi_add",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.provinsi_add>0?"checked":"",label:"Add",name:"provinsi_add",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"provinsi_edit",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.provinsi_edit>0?"checked":"",label:"Edit",name:"provinsi_edit",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3",children:Object(Oe.jsx)(ze.a.Group,{controlId:"provinsi_del",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.provinsi_del>0?"checked":"",label:"Delete",name:"provinsi_del",custom:!0})})})})]})]})})]}),Object(Oe.jsxs)(xs.a,{children:[Object(Oe.jsx)(Os.a,{className:"mb-2",children:Object(Oe.jsxs)(Os.a.Body,{children:[Object(Oe.jsx)(Os.a.Title,{children:Object(Oe.jsx)("h5",{className:"widget-user-desc",children:"City"})}),Object(Oe.jsxs)("div",{className:"row card-text",children:[Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"city_view",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.city_view>0?"checked":"",label:"View",name:"city_view",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"city_add",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.city_add>0?"checked":"",label:"Add",name:"city_add",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"city_edit",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.city_edit>0?"checked":"",label:"Edit",name:"city_edit",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3",children:Object(Oe.jsx)(ze.a.Group,{controlId:"city_del",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.city_del>0?"checked":"",label:"Delete",name:"city_del",custom:!0})})})})]})]})}),Object(Oe.jsx)(Os.a,{className:"mb-2",children:Object(Oe.jsxs)(Os.a.Body,{children:[Object(Oe.jsx)(Os.a.Title,{children:Object(Oe.jsx)("h5",{className:"widget-user-desc",children:"Kecamatan"})}),Object(Oe.jsxs)("div",{className:"row card-text",children:[Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"kec_view",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.kec_view>0?"checked":"",label:"View",name:"kec_view",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"kec_add",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.kec_add>0?"checked":"",label:"Add",name:"kec_add",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"kec_edit",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.kec_edit>0?"checked":"",label:"Edit",name:"kec_edit",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3",children:Object(Oe.jsx)(ze.a.Group,{controlId:"kec_del",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.kec_del>0?"checked":"",label:"Delete",name:"kec_del",custom:!0})})})})]})]})}),Object(Oe.jsx)(Os.a,{className:"mb-2",children:Object(Oe.jsxs)(Os.a.Body,{children:[Object(Oe.jsx)(Os.a.Title,{children:Object(Oe.jsx)("h5",{className:"widget-user-desc",children:"Warehouse"})}),Object(Oe.jsxs)("div",{className:"row card-text",children:[Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"warehouse_view",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.warehouse_view>0?"checked":"",label:"View",name:"warehouse_view",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"warehouse_add",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.warehouse_add>0?"checked":"",label:"Add",name:"warehouse_add",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"warehouse_edit",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.warehouse_edit>0?"checked":"",label:"Edit",name:"warehouse_edit",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3",children:Object(Oe.jsx)(ze.a.Group,{controlId:"warehouse_del",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.warehouse_del>0?"checked":"",label:"Delete",name:"warehouse_del",custom:!0})})})})]})]})})]}),Object(Oe.jsxs)(xs.a,{children:[Object(Oe.jsx)(Os.a,{className:"mb-2",children:Object(Oe.jsxs)(Os.a.Body,{children:[Object(Oe.jsx)(Os.a.Title,{children:Object(Oe.jsx)("h5",{className:"widget-user-desc",children:"Coverage Area"})}),Object(Oe.jsxs)("div",{className:"row card-text",children:[Object(Oe.jsx)("div",{className:"col-sm-4 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"coverage_area_view",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.coverage_area_view>0?"checked":"",label:"View",name:"coverage_area_view",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-4 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"coverage_area_add",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.coverage_area_add>0?"checked":"",label:"Add",name:"coverage_area_add",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-4",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"coverage_area_del",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.coverage_area_del>0?"checked":"",label:"Delete",name:"coverage_area_del",custom:!0})})})})]})]})}),Object(Oe.jsx)(Os.a,{className:"mb-2",children:Object(Oe.jsxs)(Os.a.Body,{children:[Object(Oe.jsx)(Os.a.Title,{children:Object(Oe.jsx)("h5",{className:"widget-user-desc",children:"Level"})}),Object(Oe.jsxs)("div",{className:"row card-text",children:[Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"level_view",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.level_view>0?"checked":"",label:"View",name:"level_view",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"level_add",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.level_add>0?"checked":"",label:"Add",name:"level_add",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"level_edit",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.level_edit>0?"checked":"",label:"Edit",name:"level_edit",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3",children:Object(Oe.jsx)(ze.a.Group,{controlId:"level_del",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.level_del>0?"checked":"",label:"Delete",name:"level_del",custom:!0})})})})]})]})}),Object(Oe.jsx)(Os.a,{className:"mb-2",children:Object(Oe.jsxs)(Os.a.Body,{children:[Object(Oe.jsx)(Os.a.Title,{children:Object(Oe.jsx)("h5",{className:"widget-user-desc",children:"Users"})}),Object(Oe.jsxs)("div",{className:"row card-text",children:[Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"users_view",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.users_view>0?"checked":"",label:"View",name:"users_view",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"users_add",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.users_add>0?"checked":"",label:"Add",name:"users_add",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"users_edit",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.users_edit>0?"checked":"",label:"Edit",name:"users_edit",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-3",children:Object(Oe.jsx)(ze.a.Group,{controlId:"users_del",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.users_del>0?"checked":"",label:"Delete",name:"users_del",custom:!0})})})})]})]})})]}),Object(Oe.jsxs)(xs.a,{children:[Object(Oe.jsx)(Os.a,{className:"mb-2",children:Object(Oe.jsxs)(Os.a.Body,{children:[Object(Oe.jsx)(Os.a.Title,{children:Object(Oe.jsx)("h5",{className:"widget-user-desc",children:"Ulasan"})}),Object(Oe.jsxs)("div",{className:"row card-text",children:[Object(Oe.jsx)("div",{className:"col-sm-6 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"ulasan_view",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.ulasan_view>0?"checked":"",label:"View",name:"ulasan_view",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"ulasan_upd_status",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.ulasan_upd_status>0?"checked":"",label:"Approve/Reject",name:"ulasan_upd_status",custom:!0})})})})]})]})}),Object(Oe.jsx)(Os.a,{className:"mb-2",children:Object(Oe.jsxs)(Os.a.Body,{children:[Object(Oe.jsx)(Os.a.Title,{children:Object(Oe.jsx)("h5",{className:"widget-user-desc",children:"Setting"})}),Object(Oe.jsxs)("div",{className:"row card-text",children:[Object(Oe.jsx)("div",{className:"col-sm-6 border-right",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"setting_view",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.setting_view>0?"checked":"",label:"View",name:"setting_view",custom:!0})})})}),Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("div",{className:"description-block",children:Object(Oe.jsx)(ze.a.Group,{controlId:"setting_update",children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:e.setting_update>0?"checked":"",label:"Edit",name:"setting_update",custom:!0})})})})]})]})})]})]})})})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),fs=Object(c.b)((function(e){return{user:e.auth.currentUser}}),(function(e){return{onLoad:function(t){e(Qe(t))},onAdd:function(t){e(tt(t))}}}))(_s),vs=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Home"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsx)("div",{className:"card shadow-lg",style:{height:"450px",textAlign:"center"},children:Object(Oe.jsxs)("div",{className:"card-body my-card-body",children:[Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("h1",{children:"Selamat Datang"}),Object(Oe.jsxs)("h3",{children:["Di Halaman Admin ",Object(Oe.jsx)("strong",{children:"CNI"})]})]})})})})})})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),ys=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"No Access"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsxs)("div",{className:"forbidden",children:[Object(Oe.jsx)("br",{}),Object(Oe.jsxs)("div",{id:"spam",children:[Object(Oe.jsxs)("h1",{children:[Object(Oe.jsx)("span",{className:"spaam",children:"X"})," Access Denied(403)"]}),Object(Oe.jsxs)("p",{children:["Secure content is being accessed",Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("small",{children:"---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"})]})]}),Object(Oe.jsx)("div",{id:"gears",children:Object(Oe.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"120px",height:"120px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",className:"uil-gears",children:[Object(Oe.jsx)("rect",{x:0,y:0,width:100,height:100,fill:"none",className:"bk"}),Object(Oe.jsx)("g",{transform:"translate(-20,-20)",children:Object(Oe.jsx)("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"#8f7f59",transform:"rotate(32.43 50 50)",children:Object(Oe.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"90 50 50",to:"0 50 50",dur:"1s",repeatCount:"indefinite"})})}),Object(Oe.jsx)("g",{transform:"translate(20,20) rotate(15 50 50)",children:Object(Oe.jsx)("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"#9f9fab",transform:"rotate(57.57 50 50)",children:Object(Oe.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"90 50 50",dur:"1s",repeatCount:"indefinite"})})})]})}),Object(Oe.jsx)("br",{})]})})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),ws="http://202.158.64.238/api_cni/index.php",ks=function(e){return{type:H,payload:e}},Ss=function(e){return{type:L,payload:e}},Fs=function(e){return{type:C,payload:e}},Cs=function(e){return{type:N,payload:e}},Ns=function(e){var t=!0;return function(){var a=Object(ue.a)(be.a.mark((function a(s){return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(Ss(t)),a.next=3,u.a.post(ws+"/voucher",e).then((function(e){var a={};a.data=e.data.data,a.total_data=e.data.total_data,s(ks(a)),s(Ss(t=!1))})).catch((function(e){var a={};a.message="Something wrong",a.status=e.response?e.response.status:404,s({type:M,payload:a}),s(Ss(t=!1))}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Ds=function(e){var t={errorPriority:null};return t.showFormAdd=e,t.isAddLoading=!1,{type:S,payload:t}},As=function(e){var t={errorPriority:null};return t.showFormDelete=e,t.isAddLoading=!1,{type:F,payload:t}},Ls=function(e){var t={errorPriority:null};return t.showFormPublish=e,t.isAddLoading=!1,{type:z,payload:t}},Ms=function(e){var t=Object.keys(e).reduce((function(t,a){return t.append(a,e[a]),t}),new FormData);return function(){var e=Object(ue.a)(be.a.mark((function e(a){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Fs(true)),e.next=3,u.a.post(ws+"/simpan_voucher",t).then((function(e){if("00"===e.data.err_code){a(Ds(!1));var t={showFormSuccess:!0,tipeSWAL:"success"};t.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil disimpan</div>'}}),a(Cs(t))}})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Is=function(e,t){switch(t){case"VIEW_DETAIL":return u.a.post(ws+"/voucher_detail",e);case"GET_LIST_PRODUK":return u.a.post(ws+"/list_produk",e);case"SAVE_PRODUK":return u.a.post(ws+"/assign_produk",e);case"REMOVE_PRODUK":return u.a.post(ws+"/remove_produk",e);case"GET_LIST_MEMBER":return u.a.post(ws+"/list_member",e);case"SAVE_MEMBER":return u.a.post(ws+"/assign_member",e);case"REMOVE_MEMBER":return u.a.post(ws+"/remove_member",e);default:return u.a.post(ws+"/voucher",e)}},Ts=Bt()().subtract(1,"day"),Rs=function(e){return e.isAfter(Ts)},Ps=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=Object(ue.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({appsLoading:!0,isLoading:!0}),t=sessionStorage.getItem("idVoucherCNI"),Is({id_voucher:t},"VIEW_DETAIL").then((function(e){if("00"===e.data.err_code){var t=e.data.data;Object.keys(t).map((function(e){return s.setState(Object(Q.a)({},e,t[e])),s.setState({imgUpload:t.img}),s.setState({isLoading:!1,appsLoading:!1}),1}))}"04"===e.data.err_code&&s.setState({isLoading:!1})})).catch((function(e){console.log(e),s.setState({isLoading:!1})}));case 4:case"end":return e.stop()}}),e)}))),s.initSelected={title:"",img:""},s.state={validSd:Rs,validEd:Rs,appsLoading:!1,img:"",kode_voucher:"",tipe:1,imgUpload:jt,errMsg:s.initSelected,isLoading:!1},s.handleChangeStartDate=s.handleChangeStartDate.bind(Object(zt.a)(s)),s.handleChangeEndDate=s.handleChangeEndDate.bind(Object(zt.a)(s)),s.handleChangeDesk=s.handleChangeDesk.bind(Object(zt.a)(s)),s.handleChange=s.handleChange.bind(Object(zt.a)(s)),s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.getItem("idVoucherCNI")>0&&this.getData(),this.setState({id_operator:this.props.user.id_operator})}},{key:"handleSubmit",value:function(){var e=this.state.errMsg;e.title=this.state.title?"":"Title required",e.img=this.state.img?"":"Image required",e.img=!this.state.img&&this.state.img.size>2099200?"File size over 2MB":e.img,e.potongan=this.state.potongan?"":"Potongan Required",e.short_description=this.state.short_description?"":"Short Description Required",e.deskripsi=this.state.deskripsi?"":"Description Required",e.kuota=this.state.is_limited&&!this.state.kuota?"Kuota required":"",e.start_date=!this.state.start_date&&"Start date required",e.end_date=!this.state.end_date&&"End date required",this.setState(Object(d.a)(Object(d.a)({},this.state),{},{id_operator:this.props.user.id_operator,isLoading:!0,tipe:1})),this.setState({errors:e}),this.validateForm(this.state.errMsg)?this.props.onAdd(this.state):console.error("Invalid Form")}},{key:"validateForm",value:function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t}},{key:"handleClose",value:function(){this.props.closeSwal(),this.props.history.push("/vouchers")}},{key:"handleChange",value:function(e){var t,a=this,s=e.target.name,n=e.target.value;if(this.setState({isLoading:!1}),"img"===e.target.name){if(n=e.target.files[0],this.setState({img:""}),!n)return;if(!n.name.match(/\.(jpg|jpeg|png)$/))return this.setState({errMsg:{img:"Extension Invalid"}}),void this.setState({isLoading:!0});if(n.size>2099200)return this.setState({errMsg:{img:"File size over 2MB"}}),void this.setState({isLoading:!0});var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.setState({img:n,imgUpload:r.result})}}"user_tertentu"!==s&&"is_limited"!==s&&"website"!==s&&"mobile"!==s&&"member"!==s&&"konsumen"!==s&&"is_show"!==s||(n=e.target.checked?1:0),this.setState(Object(d.a)(Object(d.a)({},this.state),{},(t={isLoading:!1},Object(Q.a)(t,s,n),Object(Q.a)(t,"errMsg",Object(d.a)(Object(d.a)({},this.state.errMsg),{},Object(Q.a)({},s,""))),t))),this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChangeDesk",value:function(e){this.setState(Object(d.a)(Object(d.a)({},this.state),{},{deskripsi:e,errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},{deskripsi:""})})),this.state.id_operator||this.setState(Object(d.a)(Object(d.a)({},this.state),{},{id_operator:this.props.user.id_operator}))}},{key:"handleChangeStartDate",value:function(e){if(this.setState(Object(d.a)(Object(d.a)({},this.state),{},{errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},{start_date:""})})),e){var t=new Date(e),a=Bt()(t).format("YYYY-MM-DD");this.setState({start_date:a})}else this.setState({start_date:""});this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChangeEndDate",value:function(e){if(this.setState(Object(d.a)(Object(d.a)({},this.state),{},{errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},{end_date:""})})),e){var t=new Date(e),a=Bt()(t).format("YYYY-MM-DD");this.setState({end_date:a})}else this.setState({end_date:""});this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"renderView",value:function(e,t,a){var s=this;return"time"===e?t():Object(Oe.jsxs)("div",{className:"wrapper",children:[t(),Object(Oe.jsx)("div",{className:"controls",children:Object(Oe.jsx)(Ge.a,{variant:"warning",type:"button",onClick:function(){return s.clear(a)},children:"Clear"})})]})}},{key:"clear",value:function(e){"end_date"===e&&this.handleChangeEndDate(),"start_date"===e&&this.handleChangeStartDate()}},{key:"render",value:function(){var e=this,t=this.state.errMsg;return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:this.state.isEdit?"Edit Voucher Free Ongkir":"Add Voucher Free Ongkir"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:this.state.appsLoading?Object(Oe.jsx)(qt,{}):Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsx)(ze.a,{id:"myForm",children:Object(Oe.jsxs)("div",{className:"card-body my-card-body",children:[Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:6,controlId:"title",children:[Object(Oe.jsx)(ze.a.Label,{children:"Title"}),Object(Oe.jsx)(ze.a.Control,{value:this.state.title?this.state.title:"",onChange:this.handleChange,size:"sm",name:"title",type:"text",autoComplete:"off",placeholder:"Title"}),t.title&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.title})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"start_date",children:[Object(Oe.jsx)(ze.a.Label,{children:"Start Date"}),Object(Oe.jsx)(Ut.a,{closeOnSelect:!0,timeFormat:!1,setViewDate:this.state.start_date?new Date(this.state.start_date):new Date,value:this.state.start_date?new Date(this.state.start_date):"",onChange:this.handleChangeStartDate,inputProps:{readOnly:!0,autoComplete:"off",placeholder:"Start Date",name:"start_date",className:"form-control form-control-sm"},renderView:function(t,a,s){return e.renderView(t,a,"start_date")},locale:"id",isValidDate:this.state.validSd}),t.start_date&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.start_date})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"is_limited",children:[Object(Oe.jsx)(ze.a.Label,{children:"Limited"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.is_limited>0?"checked":"",label:this.state.is_limited>0?"Yes":"No",type:"switch",name:"is_limited",custom:!0})})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"user_tertentu",children:[Object(Oe.jsx)(ze.a.Label,{children:"User Tertentu"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.user_tertentu>0?"checked":"",label:this.state.user_tertentu>0?"Yes":"No",type:"switch",name:"user_tertentu",custom:!0})})})]})]}),Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"kode_voucher",children:[Object(Oe.jsx)(ze.a.Label,{children:"Kode Voucher"}),Object(Oe.jsx)(ze.a.Control,{value:this.state.kode_voucher,autoComplete:"off",onChange:this.handleChange,size:"sm",name:"kode_voucher",type:"text",placeholder:"Kode Voucher"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"min_pembelian",children:[Object(Oe.jsx)(ze.a.Label,{children:"Min. Pembelian(IDR)"}),Object(Oe.jsx)(It.a,{name:"min_pembelian",onChange:this.handleChange,className:"form-control form-control-sm",value:this.state.min_pembelian,thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"Min. Pembelian(IDR)"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"potongan",children:[Object(Oe.jsx)(ze.a.Label,{children:"Potongan(IDR)"}),Object(Oe.jsx)(It.a,{name:"potongan",onChange:this.handleChange,className:"form-control form-control-sm",value:this.state.potongan,thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"Potongan(IDR)"}),t.potongan&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.potongan})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"end_date",children:[Object(Oe.jsx)(ze.a.Label,{children:"End Date"}),Object(Oe.jsx)(Ut.a,{closeOnSelect:!0,timeFormat:!1,setViewDate:this.state.end_date?new Date(this.state.end_date):new Date,value:this.state.end_date?new Date(this.state.end_date):"",onChange:this.handleChangeEndDate,inputProps:{readOnly:!0,placeholder:"End Date",autoComplete:"off",name:"end_date",className:"form-control form-control-sm"},renderView:function(t,a){return e.renderView(t,a,"end_date")},locale:"id",isValidDate:this.state.validEd}),t.end_date&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.end_date})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"kuota",children:[Object(Oe.jsx)(ze.a.Label,{children:"Kuota"}),Object(Oe.jsx)(It.a,{disabled:!this.state.is_limited,onChange:this.handleChange,name:"kuota",className:"form-control form-control-sm",value:this.state.kuota?this.state.kuota:"",thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"Kuota"}),t.kuota&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.kuota})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"mobile",children:[Object(Oe.jsx)(ze.a.Label,{children:"Mobile"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.mobile>0?"checked":"",label:this.state.mobile>0?"Yes":"No",type:"switch",name:"mobile",custom:!0})})})]})]}),Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"short_description",children:[Object(Oe.jsx)(ze.a.Label,{children:"Short Description"}),Object(Oe.jsx)(ze.a.Control,{value:this.state.short_description?this.state.short_description:"",onChange:this.handleChange,size:"sm",name:"short_description",type:"text",autoComplete:"off",placeholder:"Short Description"}),t.short_description&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.short_description})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"is_show",children:[Object(Oe.jsx)(ze.a.Label,{children:"Is Show"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.is_show>0?"checked":"",label:this.state.is_show>0?"Yes":"No",type:"switch",name:"is_show",custom:!0})})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"website",children:[Object(Oe.jsx)(ze.a.Label,{children:"Website"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.website>0?"checked":"",label:this.state.website>0?"Yes":"No",type:"switch",name:"website",custom:!0})})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"member",children:[Object(Oe.jsx)(ze.a.Label,{children:"Member"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.member>0?"checked":"",label:this.state.member>0?"Yes":"No",type:"switch",name:"member",custom:!0})})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"konsumen",children:[Object(Oe.jsx)(ze.a.Label,{children:"Konsumen"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.konsumen>0?"checked":"",label:this.state.konsumen>0?"Yes":"No",type:"switch",name:"konsumen",custom:!0})})})]})]}),Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"deskripsi",children:[Object(Oe.jsx)(ze.a.Label,{children:"Description"}),t.deskripsi&&Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:t.deskripsi}),Object(Oe.jsx)($t.a,{defaultValue:this.state.deskripsi,setContents:this.state.deskripsi,onChange:this.handleChangeDesk,setOptions:{placeholder:"Description ...",maxHeight:200,height:200,buttonList:[["fontSize","formatBlock","bold","underline","italic","align","horizontalRule","list","lineHeight","link","strike","subscript","superscript","codeView","undo","redo","fontColor","hiliteColor","textStyle","paragraphStyle","blockquote","removeFormat"]]}})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"img",children:[Object(Oe.jsx)(ze.a.Label,{children:"Image"}),t.img?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:t.img}):"",Object(Oe.jsx)(ze.a.File,{setfieldvalue:this.state.img,onChange:this.handleChange,size:"sm",name:"img",style:{color:"rgba(0, 0, 0, 0)"}}),Object(Oe.jsx)(ze.a.Text,{className:"text-muted",children:Object(Oe.jsxs)("em",{children:["- Images *.jpg, *.jpeg, *.png ",Object(Oe.jsx)("br",{}),"- Maks. Size 2MB"]})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"imagePreview",children:[Object(Oe.jsx)(ze.a.Label,{style:{color:"rgba(0, 0, 0, 0)"},children:"-----"}),Object(Oe.jsx)(ht.a,{children:Object(Oe.jsx)(ht.a.Image,{thumbnail:!0,width:130,height:100,alt:"",src:this.state.imgUpload})})]})]})]})}),Object(Oe.jsxs)("div",{className:"card-footer",children:[Object(Oe.jsxs)(ge.b,{to:"/vouchers",children:[Object(Oe.jsx)(Ge.a,{variant:"danger",children:"Cancel"})," "]}),Object(Oe.jsx)(Wt.a,{type:"button",isLoading:this.state.isLoading,onClick:this.handleSubmit.bind(this),theme:"success",children:"Simpan"})]})]})})})})}),this.props.showFormSuccess?Object(Oe.jsx)(We.a,{show:this.props.showFormSuccess,title:this.props.contentMsg,type:this.props.tipeSWAL,handleClose:this.handleClose.bind(this)}):""]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),Es=Object(c.b)((function(e){return{user:e.auth.currentUser,contentMsg:e.voucher.contentMsg,showFormSuccess:e.voucher.showFormSuccess,tipeSWAL:e.voucher.tipeSWAL}}),(function(e){return{onAdd:function(t){e(Ms(t))},closeSwal:function(){var t={showFormSuccess:!1,contentMsg:null};e(Cs(t))}}}))(Ps),Hs=a(756),zs=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).deleteRecord=function(e){s.setState({selected:Object(d.a)(Object(d.a)({},e),{},{id_operator:s.props.user.id_operator})}),s.props.showConfirmDel(!0)},s.publishRecord=function(e){s.setState({selected:Object(d.a)(Object(d.a)({},e),{},{id_operator:s.props.user.id_operator})}),s.props.showConfirmPublish(!0)},s.handleClose=function(){s.setState({errMsg:{},loadingForm:!1}),s.props.showConfirmDel(!1),s.props.showConfirmPublish(!1)},s.tableChangeHandler=function(e){var t=s.state;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),s.props.onLoad(s.state)},s.discardChanges=function(){s.setState({errMsg:{},selected:s.initSelected,loadingForm:!1}),s.state.selected.id_operator||s.setState({selected:Object(d.a)(Object(d.a)({},s.state.selected),{},{id_operator:s.props.user.id_operator})}),s.props.showForm(!0)},s.redirect_voucher=function(){var e=Object(ue.a)(be.a.mark((function e(t,a){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",!a){e.next=4;break}return e.next=4,sessionStorage.setItem("idVoucherCNI",a.id_voucher);case 4:1===t&&(n="free_ongkir"),2===t&&(n="diskon_harga"),3===t&&(n="bonus_produk"),4===t&&(n="detail_fo"),console.log(n),s.props.history.push("/"+n);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s.initSelected={id_news:"",title:"",filename:"",path_file:"",id_operator:"",img:"",imgUpload:""},s.state={sort_order:"ASC",sort_column:"title",keyword:"",page_number:1,is_cms:1,per_page:10,errMsg:s.initSelected,loadingForm:!1},s.handleChange=s.handleChange.bind(Object(zt.a)(s)),s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("idVoucherCNI"),this.props.onLoad(this.state)}},{key:"handleChange",value:function(e){var t=this,a=e.target,s=a.name,n=a.value;if(this.props.clearErrProps(),"path_file"===e.target.name){n=e.target.files[0];var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){t.setState({loadingForm:!1,selected:Object(d.a)(Object(d.a)({},t.state.selected),{},{path_file:n})})}}if("img"===e.target.name){if(n=e.target.files[0],this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{imgUpload:"",img:""})}),!n)return;if(!n.name.match(/\.(jpg|jpeg|png)$/))return void this.setState({loadingForm:!0,errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},{img:"Please select valid image(.jpg .jpeg .png)"})});if(n.size>2099200)return void this.setState({loadingForm:!0,errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},{img:"File size over 2MB"})});var i=new FileReader;i.readAsDataURL(n),i.onloadend=function(){t.setState({loadingForm:!1,selected:Object(d.a)(Object(d.a)({},t.state.selected),{},{imgUpload:i.result,img:n})})}}this.setState({loadingForm:!1,selected:Object(d.a)(Object(d.a)({},this.state.selected),{},Object(Q.a)({},s,n)),errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},Object(Q.a)({},s,""))}),this.state.selected.id_operator||this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})})}},{key:"handleSubmit",value:function(){var e=this.state.errMsg;this.setState(Object(d.a)(Object(d.a)({},this.state),{},{loadingForm:!0})),e.title=this.state.selected.title?"":"Title required",e.path_file=this.state.selected.path_file?"":"File required",e.img=this.state.selected.img.size>2099200?"File size over 2MB":"",this.state.selected.id_operator||this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})}),this.setState({errors:e}),this.validateForm(this.state.errMsg)?this.props.onAdd(this.state.selected):console.error("Invalid Form")}},{key:"validateForm",value:function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t}},{key:"handleDelete",value:function(){this.props.onDelete(this.state.selected)}},{key:"handlePublish",value:function(){this.props.onPublish(this.state.selected)}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.user,r=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(e.state.page_number-1)*e.state.per_page+a+1+"."})},row:0},{key:"title",text:"Title",align:"center",sortable:!0,cell:function(e){return Object(Oe.jsxs)(s.Fragment,{children:[e.title,Object(Oe.jsx)("br",{}),3!==e.tipe?"Minimal Pembelian :":"",3!==e.tipe?Object(Oe.jsx)(It.a,{value:e.min_pembelian,thousandSeparator:!0,decimalScale:2,displayType:"text"}):"",3===e.tipe?"Produk Utama : ":"",3===e.tipe?e.produk_utama_name:""]})}},{key:"start_date",text:"Periode",align:"center",sortable:!1,width:120,cell:function(e){return Object(Oe.jsxs)(s.Fragment,{children:[Bt()(new Date(e.start_date)).format("DD-MM-YYYY")," -",Object(Oe.jsx)("br",{})," ",Bt()(new Date(e.end_date)).format("DD-MM-YYYY")]})}},{key:"potongan",text:"Info Voucher",align:"center",sortable:!0,width:130,cell:function(e){return Object(Oe.jsxs)(s.Fragment,{children:[1===e.tipe||2===e.tipe?Object(Oe.jsx)(It.a,{value:e.potongan,thousandSeparator:!0,decimalScale:2,displayType:"text"}):"",2===e.satuan_potongan?"%":"",2===e.tipe&&e.max_potongan>0?" - ":"",2===e.tipe&&e.max_potongan>0?Object(Oe.jsx)(It.a,{value:e.max_potongan,thousandSeparator:!0,decimalScale:2,displayType:"text"}):"",3===e.tipe?e.produk_bonus_name:"",Object(Oe.jsx)("br",{}),1===e.tipe&&Object(Oe.jsx)(rt.a,{variant:"success",children:"Free Ongkir"}),2===e.tipe&&Object(Oe.jsx)(rt.a,{variant:"info",children:"Potongan/Diskon"}),3===e.tipe&&Object(Oe.jsx)(rt.a,{variant:"warning",children:"Bonus Produk"})]})}},{key:"kuota",text:"Kuota",align:"center",sortable:!0,width:90,cell:function(e){return Object(Oe.jsx)(s.Fragment,{children:e.is_limited>0?Object(Oe.jsx)(It.a,{value:e.kuota,thousandSeparator:!0,decimalScale:2,displayType:"text"}):"~"})}},{key:"img",text:"Image",align:"center",width:180,sortable:!1,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:Object(Oe.jsxs)(ht.a,{children:[Object(Oe.jsx)(ht.a.Image,{thumbnail:!0,width:150,height:120,alt:e.title,src:e.img}),Object(Oe.jsx)(ht.a.Caption,{children:e.kode_voucher})]})})}},{key:"action",text:"Action",width:90,align:"center",sortable:!1,cell:function(t){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:t.is_publish?Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsxs)("button",{className:"btn btn-xs btn-primary",onClick:function(){return e.redirect_voucher(4,t)},style:{marginBottom:"3px",width:80},children:["Published ",Bt()(new Date(t.publish_date)).format("DD-MM-YYYY")," ",Object(Oe.jsx)("br",{})," ",Bt()(new Date(t.publish_date)).format("HH:mm")]}),Object(Oe.jsx)("br",{}),e.props.user.vouchers_del?Object(Oe.jsxs)("button",{style:{width:80},className:"btn btn-danger btn-xs",onClick:function(){return e.deleteRecord(t)},children:[Object(Oe.jsx)("i",{className:"fa fa-trash"})," Delete"]}):Object(Oe.jsxs)("button",{style:{width:80},className:"btn btn-danger btn-xs",disabled:!0,children:[Object(Oe.jsx)("i",{className:"fa fa-trash"})," Delete"]})]}):Object(Oe.jsxs)(s.Fragment,{children:[t.produk_tertentu||t.user_tertentu?Object(Oe.jsxs)("button",{className:"btn btn-xs btn-primary",onClick:function(){return e.redirect_voucher(4,t)},style:{marginBottom:"3px",width:80},children:[Object(Oe.jsx)(ye.c,{})," Assign"]}):"",Object(Oe.jsxs)("button",{className:"btn btn-xs btn-info",onClick:function(){return e.publishRecord(t)},style:{marginBottom:"3px",width:80},children:[Object(Oe.jsx)(ve.b,{})," Publish"]}),e.props.user.vouchers_edit?Object(Oe.jsxs)("button",{className:"btn btn-xs btn-success",onClick:function(){return e.redirect_voucher(t.tipe,t)},style:{marginBottom:"3px",width:80},children:[Object(Oe.jsx)("i",{className:"fa fa-edit"})," Edit"]}):Object(Oe.jsxs)("button",{className:"btn btn-xs btn-success",disabled:!0,style:{marginBottom:"3px",width:80},children:[Object(Oe.jsx)("i",{className:"fa fa-edit"})," Edit"]}),Object(Oe.jsx)("br",{}),e.props.user.vouchers_del?Object(Oe.jsxs)("button",{style:{width:80},className:"btn btn-danger btn-xs",onClick:function(){return e.deleteRecord(t)},children:[Object(Oe.jsx)("i",{className:"fa fa-trash"})," Delete"]}):Object(Oe.jsxs)("button",{style:{width:80},className:"btn btn-danger btn-xs",disabled:!0,children:[Object(Oe.jsx)("i",{className:"fa fa-trash"})," Delete"]})]})})}}],i=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>akan menghapus data ini ?</div>'}}),c=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda akan <br/>mempublish voucher ini ?</div>'}});return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Vouchers"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card card-success shadow-lg",style:{minHeight:"470px"},children:[Object(Oe.jsx)("div",{className:"card-header",children:Object(Oe.jsxs)(Hs.a,{children:[n.vouchers_add?Object(Oe.jsx)(Hs.a.Toggle,{variant:"success",id:"dropdown-basic",children:"Add Voucher"}):Object(Oe.jsx)(Hs.a.Toggle,{variant:"success",id:"dropdown-basic",disabled:!0,children:"Add Voucher"}),Object(Oe.jsxs)(Hs.a.Menu,{className:"my-dropdown-menu",children:[Object(Oe.jsx)(Hs.a.Item,{as:"button",onClick:function(){return e.redirect_voucher(1,null)},children:"Free Ongkir"}),Object(Oe.jsx)(Hs.a.Item,{as:"button",onClick:function(){return e.redirect_voucher(2,null)},children:"Potongan/Diskon Harga"}),Object(Oe.jsx)(Hs.a.Item,{as:"button",onClick:function(){return e.redirect_voucher(3,null)},children:"Bonus Produk"})]})]})}),Object(Oe.jsx)("div",{className:"card-body",children:a?Object(Oe.jsx)(Re.a,{config:{key_column:"id_voucher",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:a,columns:r,dynamic:!0,onChange:this.tableChangeHandler,loading:this.props.isLoading,total_record:this.props.totalData}):Object(Oe.jsx)("p",{children:"No Data ..."})})]})})})})}),this.props.showFormSuccess?Object(Oe.jsx)(We.a,{show:this.props.showFormSuccess,title:this.props.contentMsg,type:this.props.tipeSWAL,handleClose:this.props.closeSwal}):"",Object(Oe.jsx)(Be.a,{show:this.props.showFormDelete,size:"sm",form:i,handleClose:this.handleClose,backdrop:"static",keyboard:!1,title:"Delete Voucher",titleButton:"Delete Voucher",themeButton:"danger",isLoading:this.props.isAddLoading,formSubmit:this.handleDelete.bind(this)}),Object(Oe.jsx)(Be.a,{show:this.props.showFormPublish,size:"sm",form:c,handleClose:this.handleClose,backdrop:"static",keyboard:!1,title:"Publish Voucher",titleButton:"Publish",themeButton:"success",isLoading:this.props.isAddLoading,formSubmit:this.handlePublish.bind(this)})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),Vs=Object(c.b)((function(e){return{data:e.voucher.data||[],isLoading:e.voucher.isLoading,error:e.voucher.error||null,totalData:e.voucher.totalData||0,contentMsg:e.voucher.contentMsg,showFormSuccess:e.voucher.showFormSuccess,showFormDelete:e.voucher.showFormDelete,showFormPublish:e.voucher.showFormPublish,tipeSWAL:e.voucher.tipeSWAL,user:e.auth.currentUser}}),(function(e){return{onLoad:function(t){e(Ns(t))},onDelete:function(t){var a;e((a=t,function(){var e=Object(ue.a)(be.a.mark((function e(t){var s;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Fs(!0)),s={},e.next=4,u.a.post(ws+"/del_voucher",a).then((function(e){t(As(!1)),"00"===e.data.err_code?(s.showFormSuccess=!0,s.tipeSWAL="success",s.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}}),t(Cs(s))):(s.showFormSuccess=!0,s.tipeSWAL="error",s.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Failed</strong>, Something wrong</div>'}}),t(Cs(s)),t(Fs(!1)))})).catch((function(e){console.log(e),t(As(!1)),s.showFormSuccess=!0,s.tipeSWAL="error",s.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Failed</strong>, Something wrong</div>'}}),t(Cs(s)),t(Fs(!1))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},onPublish:function(t){var a;e((a=t,function(){var e=Object(ue.a)(be.a.mark((function e(t){var s;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Fs(!0)),s={},e.next=4,u.a.post(ws+"/publish_voucher",a).then((function(e){t(Ls(!1)),"00"===e.data.err_code?(s.showFormSuccess=!0,s.tipeSWAL="success",s.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Voucher berhasil dipublish</div>'}}),t(Cs(s))):(s.showFormSuccess=!0,s.tipeSWAL="error",s.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Failed</strong>, Something wrong</div>'}}),t(Cs(s)),t(Fs(!1)))})).catch((function(e){console.log(e),t(Ls(!1)),s.showFormSuccess=!0,s.tipeSWAL="error",s.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Failed</strong>, Something wrong</div>'}}),t(Cs(s)),t(Fs(!1))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},showConfirmDel:function(t){e(As(t))},showConfirmPublish:function(t){e(Ls(t))},closeSwal:function(){var t={showFormSuccess:!1,contentMsg:null};e(Cs(t));e(Ns({sort_order:"ASC",sort_column:"title",per_page:10,is_cms:1}))}}}))(zs),Gs=Bt()().subtract(1,"day"),Bs=function(e){return e.isAfter(Gs)},Ys=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=Object(ue.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({appsLoading:!0,isLoading:!0}),t=sessionStorage.getItem("idVoucherCNI"),Is({id_voucher:t},"VIEW_DETAIL").then((function(e){if("00"===e.data.err_code){var t=e.data.data;Object.keys(t).map((function(e){return s.setState(Object(Q.a)({},e,t[e])),s.setState({imgUpload:t.img}),s.setState({isLoading:!1,appsLoading:!1}),1}))}"04"===e.data.err_code&&s.setState({isLoading:!1})})).catch((function(e){console.log(e),s.setState({isLoading:!1})}));case 4:case"end":return e.stop()}}),e)}))),s.initSelected={title:"",img:""},s.state={validSd:Bs,validEd:Bs,appsLoading:!1,img:"",kode_voucher:"",tipe:2,imgUpload:jt,errMsg:s.initSelected,isLoading:!1},s.handleChangeStartDate=s.handleChangeStartDate.bind(Object(zt.a)(s)),s.handleChangeEndDate=s.handleChangeEndDate.bind(Object(zt.a)(s)),s.handleChangeDesk=s.handleChangeDesk.bind(Object(zt.a)(s)),s.handleChange=s.handleChange.bind(Object(zt.a)(s)),s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.getItem("idVoucherCNI")>0&&this.getData(),this.setState({id_operator:this.props.user.id_operator})}},{key:"handleSubmit",value:function(){var e=this.state.errMsg;e.title=this.state.title?"":"Title required",e.satuan_potongan=this.state.satuan_potongan?"":"Satuan diskon required",e.img=this.state.img?"":"Image required",e.img=!this.state.img&&this.state.img.size>2099200?"File size over 2MB":e.img,e.potongan=this.state.potongan?"":"Potongan Required",e.short_description=this.state.short_description?"":"Short Description Required",e.deskripsi=this.state.deskripsi?"":"Description Required",e.kuota=this.state.is_limited&&!this.state.kuota?"Kuota required":"",e.start_date=!this.state.start_date&&"Start date required",e.end_date=!this.state.end_date&&"End date required",this.setState(Object(d.a)(Object(d.a)({},this.state),{},{id_operator:this.props.user.id_operator,isLoading:!0,tipe:1})),this.setState({errors:e}),this.validateForm(this.state.errMsg)?this.props.onAdd(this.state):console.error("Invalid Form")}},{key:"validateForm",value:function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t}},{key:"handleClose",value:function(){this.props.closeSwal(),this.props.history.push("/vouchers")}},{key:"handleChange",value:function(e){var t,a=this,s=e.target.name,n=e.target.value;if(this.setState({isLoading:!1}),"img"===e.target.name){if(n=e.target.files[0],this.setState({img:""}),!n)return;if(!n.name.match(/\.(jpg|jpeg|png)$/))return this.setState({errMsg:{img:"Extension Invalid"}}),void this.setState({isLoading:!0});if(n.size>2099200)return this.setState({errMsg:{img:"File size over 2MB"}}),void this.setState({isLoading:!0});var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.setState({img:n,imgUpload:r.result})}}"user_tertentu"!==s&&"is_limited"!==s&&"website"!==s&&"mobile"!==s&&"member"!==s&&"konsumen"!==s&&"produk_tertentu"!==s&&"is_show"!==s||(n=e.target.checked?1:0),this.setState(Object(d.a)(Object(d.a)({},this.state),{},(t={isLoading:!1},Object(Q.a)(t,s,n),Object(Q.a)(t,"errMsg",Object(d.a)(Object(d.a)({},this.state.errMsg),{},Object(Q.a)({},s,""))),t))),this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChangeDesk",value:function(e){this.setState(Object(d.a)(Object(d.a)({},this.state),{},{deskripsi:e,errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},{deskripsi:""})})),this.state.id_operator||this.setState(Object(d.a)(Object(d.a)({},this.state),{},{id_operator:this.props.user.id_operator}))}},{key:"handleChangeStartDate",value:function(e){if(this.setState(Object(d.a)(Object(d.a)({},this.state),{},{errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},{start_date:""})})),e){var t=new Date(e),a=Bt()(t).format("YYYY-MM-DD");this.setState({start_date:a})}else this.setState({start_date:""});this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChangeEndDate",value:function(e){if(this.setState(Object(d.a)(Object(d.a)({},this.state),{},{errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},{end_date:""})})),e){var t=new Date(e),a=Bt()(t).format("YYYY-MM-DD");this.setState({end_date:a})}else this.setState({end_date:""});this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"renderView",value:function(e,t,a){var s=this;return"time"===e?t():Object(Oe.jsxs)("div",{className:"wrapper",children:[t(),Object(Oe.jsx)("div",{className:"controls",children:Object(Oe.jsx)(Ge.a,{variant:"warning",type:"button",onClick:function(){return s.clear(a)},children:"Clear"})})]})}},{key:"clear",value:function(e){"end_date"===e&&this.handleChangeEndDate(),"start_date"===e&&this.handleChangeStartDate()}},{key:"render",value:function(){var e=this,t=this.state.errMsg;return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:this.state.isEdit?"Edit Voucher Diskon/Potongan Harga":"Add Voucher Diskon/Potongan Harga"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:this.state.appsLoading?Object(Oe.jsx)(qt,{}):Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsx)(ze.a,{id:"myForm",children:Object(Oe.jsxs)("div",{className:"card-body my-card-body",children:[Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:6,controlId:"title",children:[Object(Oe.jsx)(ze.a.Label,{children:"Title"}),Object(Oe.jsx)(ze.a.Control,{value:this.state.title?this.state.title:"",onChange:this.handleChange,size:"sm",name:"title",type:"text",autoComplete:"off",placeholder:"Title"}),t.title&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.title})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"start_date",children:[Object(Oe.jsx)(ze.a.Label,{children:"Start Date"}),Object(Oe.jsx)(Ut.a,{closeOnSelect:!0,timeFormat:!1,setViewDate:this.state.start_date?new Date(this.state.start_date):new Date,value:this.state.start_date?new Date(this.state.start_date):"",onChange:this.handleChangeStartDate,inputProps:{readOnly:!0,autoComplete:"off",placeholder:"Start Date",name:"start_date",className:"form-control form-control-sm"},renderView:function(t,a,s){return e.renderView(t,a,"start_date")},locale:"id",isValidDate:this.state.validSd}),t.start_date&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.start_date})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"is_limited",children:[Object(Oe.jsx)(ze.a.Label,{children:"Limited"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.is_limited>0?"checked":"",label:this.state.is_limited>0?"Yes":"No",type:"switch",name:"is_limited",custom:!0})})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"user_tertentu",children:[Object(Oe.jsx)(ze.a.Label,{children:"User Tertentu"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.user_tertentu>0?"checked":"",label:this.state.user_tertentu>0?"Yes":"No",type:"switch",name:"user_tertentu",custom:!0})})})]})]}),Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"kode_voucher",children:[Object(Oe.jsx)(ze.a.Label,{children:"Kode Voucher"}),Object(Oe.jsx)(ze.a.Control,{value:this.state.kode_voucher,autoComplete:"off",onChange:this.handleChange,size:"sm",name:"kode_voucher",type:"text",placeholder:"Kode Voucher"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"min_pembelian",children:[Object(Oe.jsx)(ze.a.Label,{children:"Min. Pembelian(IDR)"}),Object(Oe.jsx)(It.a,{name:"min_pembelian",onChange:this.handleChange,className:"form-control form-control-sm",value:this.state.min_pembelian,thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"Min. Pembelian(IDR)"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"satuan_potongan",children:[Object(Oe.jsx)(ze.a.Label,{children:"Satuan Diskon"}),Object(Oe.jsxs)(ze.a.Control,{value:this.state.satuan_potongan,onChange:this.handleChange,size:"sm",as:"select",name:"satuan_potongan",children:[Object(Oe.jsx)("option",{children:"Satuan ..."}),Object(Oe.jsx)("option",{value:"1",children:"IDR"}),Object(Oe.jsx)("option",{value:"2",children:"Persentase"})]}),t.satuan_potongan&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.satuan_potongan})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"end_date",children:[Object(Oe.jsx)(ze.a.Label,{children:"End Date"}),Object(Oe.jsx)(Ut.a,{closeOnSelect:!0,timeFormat:!1,setViewDate:this.state.end_date?new Date(this.state.end_date):new Date,value:this.state.end_date?new Date(this.state.end_date):"",onChange:this.handleChangeEndDate,inputProps:{readOnly:!0,placeholder:"End Date",autoComplete:"off",name:"end_date",className:"form-control form-control-sm"},renderView:function(t,a){return e.renderView(t,a,"end_date")},locale:"id",isValidDate:this.state.validEd}),t.end_date&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.end_date})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"kuota",children:[Object(Oe.jsx)(ze.a.Label,{children:"Kuota"}),Object(Oe.jsx)(It.a,{disabled:!this.state.is_limited,onChange:this.handleChange,name:"kuota",className:"form-control form-control-sm",value:this.state.kuota?this.state.kuota:"",thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"Kuota"}),t.kuota&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.kuota})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"produk_tertentu",children:[Object(Oe.jsx)(ze.a.Label,{children:"Produk Tertentu"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.produk_tertentu>0?"checked":"",label:this.state.produk_tertentu>0?"Yes":"No",type:"switch",name:"produk_tertentu",custom:!0})})})]})]}),Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"potongan",children:[Object(Oe.jsx)(ze.a.Label,{children:"Potongan"}),Object(Oe.jsx)(It.a,{name:"potongan",onChange:this.handleChange,className:"form-control form-control-sm",value:this.state.potongan,thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"Potongan"}),t.potongan&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.potongan})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"max_potongan",children:[Object(Oe.jsx)(ze.a.Label,{children:"Maks. Diskon(IDR)"}),Object(Oe.jsx)(It.a,{disabled:"2"!==this.state.satuan_potongan&&2!==this.state.satuan_potongan,name:"max_potongan",onChange:this.handleChange,className:"form-control form-control-sm",value:this.state.max_potongan,thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"Maks. Diskon(IDR)"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"mobile",children:[Object(Oe.jsx)(ze.a.Label,{style:{marginLeft:10},children:"Mobile"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.mobile>0?"checked":"",label:this.state.mobile>0?"Yes":"No",type:"switch",name:"mobile",custom:!0})})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"website",children:[Object(Oe.jsx)(ze.a.Label,{children:"Website"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.website>0?"checked":"",label:this.state.website>0?"Yes":"No",type:"switch",name:"website",custom:!0})})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"member",children:[Object(Oe.jsx)(ze.a.Label,{children:"Member"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.member>0?"checked":"",label:this.state.member>0?"Yes":"No",type:"switch",name:"member",custom:!0})})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"konsumen",children:[Object(Oe.jsx)(ze.a.Label,{children:"Konsumen"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.konsumen>0?"checked":"",label:this.state.konsumen>0?"Yes":"No",type:"switch",name:"konsumen",custom:!0})})})]})]}),Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"short_description",children:[Object(Oe.jsx)(ze.a.Label,{children:"Short Description"}),Object(Oe.jsx)(ze.a.Control,{value:this.state.short_description?this.state.short_description:"",onChange:this.handleChange,size:"sm",name:"short_description",type:"text",autoComplete:"off",placeholder:"Short Description"}),t.short_description&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.short_description})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"is_show",children:[Object(Oe.jsx)(ze.a.Label,{children:"Is Show"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.is_show>0?"checked":"",label:this.state.is_show>0?"Yes":"No",type:"switch",name:"is_show",custom:!0})})})]})]}),Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"deskripsi",children:[Object(Oe.jsx)(ze.a.Label,{children:"Description"}),t.deskripsi&&Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:t.deskripsi}),Object(Oe.jsx)($t.a,{defaultValue:this.state.deskripsi,setContents:this.state.deskripsi,onChange:this.handleChangeDesk,setOptions:{placeholder:"Description ...",maxHeight:200,height:200,buttonList:[["fontSize","formatBlock","bold","underline","italic","align","horizontalRule","list","lineHeight","link","strike","subscript","superscript","codeView","undo","redo","fontColor","hiliteColor","textStyle","paragraphStyle","blockquote","removeFormat"]]}})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"img",children:[Object(Oe.jsx)(ze.a.Label,{children:"Image"}),t.img?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:t.img}):"",Object(Oe.jsx)(ze.a.File,{setfieldvalue:this.state.img,onChange:this.handleChange,size:"sm",name:"img",style:{color:"rgba(0, 0, 0, 0)"}}),Object(Oe.jsx)(ze.a.Text,{className:"text-muted",children:Object(Oe.jsxs)("em",{children:["- Images *.jpg, *.jpeg, *.png ",Object(Oe.jsx)("br",{}),"- Maks. Size 2MB"]})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"imagePreview",children:[Object(Oe.jsx)(ze.a.Label,{style:{color:"rgba(0, 0, 0, 0)"},children:"-----"}),Object(Oe.jsx)(ht.a,{children:Object(Oe.jsx)(ht.a.Image,{thumbnail:!0,width:130,height:100,alt:"",src:this.state.imgUpload})})]})]})]})}),Object(Oe.jsxs)("div",{className:"card-footer",children:[Object(Oe.jsxs)(ge.b,{to:"/vouchers",children:[Object(Oe.jsx)(Ge.a,{variant:"danger",children:"Cancel"})," "]}),Object(Oe.jsx)(Wt.a,{type:"button",isLoading:this.state.isLoading,onClick:this.handleSubmit.bind(this),theme:"success",children:"Simpan"})]})]})})})})}),this.props.showFormSuccess?Object(Oe.jsx)(We.a,{show:this.props.showFormSuccess,title:this.props.contentMsg,type:this.props.tipeSWAL,handleClose:this.handleClose.bind(this)}):""]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),Us=Object(c.b)((function(e){return{user:e.auth.currentUser,contentMsg:e.voucher.contentMsg,showFormSuccess:e.voucher.showFormSuccess,tipeSWAL:e.voucher.tipeSWAL}}),(function(e){return{onAdd:function(t){e(Ms(t))},closeSwal:function(){var t={showFormSuccess:!1,contentMsg:null};e(Cs(t))}}}))(Ys),Ws=Bt()().subtract(1,"day"),qs=function(e){return e.isAfter(Ws)},Ks=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=Object(ue.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({appsLoading:!0,isLoading:!0}),t=sessionStorage.getItem("idVoucherCNI"),Is({id_voucher:t},"VIEW_DETAIL").then((function(e){if("00"===e.data.err_code){var t=e.data.data;Object.keys(t).map((function(e){return s.setState(Object(Q.a)({},e,t[e])),s.setState({imgUpload:t.img}),s.setState({isLoading:!1,appsLoading:!1}),1}))}"04"===e.data.err_code&&s.setState({isLoading:!1})})).catch((function(e){console.log(e),s.setState({isLoading:!1})}));case 4:case"end":return e.stop()}}),e)}))),s.onchangeSelect=function(e,t){var a;s.setState(Object(d.a)(Object(d.a)({},s.state),{},(a={},Object(Q.a)(a,e,t.value),Object(Q.a)(a,e+"_name",t.label),Object(Q.a)(a,"errMsg",Object(d.a)(Object(d.a)({},s.state.errMsg),{},{produk_utama:""})),a)))},s.initSelected={title:"",img:""},s.state={validSd:qs,validEd:qs,appsLoading:!1,img:"",kode_voucher:"",tipe:3,imgUpload:jt,errMsg:s.initSelected,isLoading:!1},s.handleChangeStartDate=s.handleChangeStartDate.bind(Object(zt.a)(s)),s.handleChangeEndDate=s.handleChangeEndDate.bind(Object(zt.a)(s)),s.handleChangeDesk=s.handleChangeDesk.bind(Object(zt.a)(s)),s.handleChange=s.handleChange.bind(Object(zt.a)(s)),s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.getItem("idVoucherCNI")>0&&this.getData(),this.setState({id_operator:this.props.user.id_operator})}},{key:"handleSubmit",value:function(){var e=this.state.errMsg;e.title=this.state.title?"":"Title required",e.img=this.state.img?"":"Image required",e.img=!this.state.img&&this.state.img.size>2099200?"File size over 2MB":e.img,e.produk_utama=this.state.produk_utama?"":"Produk utama Required",e.produk_bonus=this.state.produk_bonus?"":"Produk bonus Required",e.short_description=this.state.short_description?"":"Short Description Required",e.deskripsi=this.state.deskripsi?"":"Description Required",e.kuota=this.state.is_limited&&!this.state.kuota?"Kuota required":"",e.start_date=!this.state.start_date&&"Start date required",e.end_date=!this.state.end_date&&"End date required",this.setState(Object(d.a)(Object(d.a)({},this.state),{},{id_operator:this.props.user.id_operator,isLoading:!0,tipe:1})),this.setState({errors:e}),this.validateForm(this.state.errMsg)?this.props.onAdd(this.state):console.error("Invalid Form")}},{key:"validateForm",value:function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t}},{key:"handleClose",value:function(){this.props.closeSwal(),this.props.history.push("/vouchers")}},{key:"handleChange",value:function(e){var t,a=this,s=e.target.name,n=e.target.value;if(this.setState({isLoading:!1}),"img"===e.target.name){if(n=e.target.files[0],this.setState({img:""}),!n)return;if(!n.name.match(/\.(jpg|jpeg|png)$/))return this.setState({errMsg:{img:"Extension Invalid"}}),void this.setState({isLoading:!0});if(n.size>2099200)return this.setState({errMsg:{img:"File size over 2MB"}}),void this.setState({isLoading:!0});var r=new FileReader;r.readAsDataURL(n),r.onloadend=function(){a.setState({img:n,imgUpload:r.result})}}"user_tertentu"!==s&&"is_limited"!==s&&"website"!==s&&"mobile"!==s&&"member"!==s&&"konsumen"!==s&&"is_show"!==s||(n=e.target.checked?1:0),this.setState(Object(d.a)(Object(d.a)({},this.state),{},(t={isLoading:!1},Object(Q.a)(t,s,n),Object(Q.a)(t,"errMsg",Object(d.a)(Object(d.a)({},this.state.errMsg),{},Object(Q.a)({},s,""))),t))),this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChangeDesk",value:function(e){this.setState(Object(d.a)(Object(d.a)({},this.state),{},{deskripsi:e,errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},{deskripsi:""})})),this.state.id_operator||this.setState(Object(d.a)(Object(d.a)({},this.state),{},{id_operator:this.props.user.id_operator}))}},{key:"handleChangeStartDate",value:function(e){if(this.setState(Object(d.a)(Object(d.a)({},this.state),{},{errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},{start_date:""})})),e){var t=new Date(e),a=Bt()(t).format("YYYY-MM-DD");this.setState({start_date:a})}else this.setState({start_date:""});this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChangeEndDate",value:function(e){if(this.setState(Object(d.a)(Object(d.a)({},this.state),{},{errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},{end_date:""})})),e){var t=new Date(e),a=Bt()(t).format("YYYY-MM-DD");this.setState({end_date:a})}else this.setState({end_date:""});this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"renderView",value:function(e,t,a){var s=this;return"time"===e?t():Object(Oe.jsxs)("div",{className:"wrapper",children:[t(),Object(Oe.jsx)("div",{className:"controls",children:Object(Oe.jsx)(Ge.a,{variant:"warning",type:"button",onClick:function(){return s.clear(a)},children:"Clear"})})]})}},{key:"clear",value:function(e){"end_date"===e&&this.handleChangeEndDate(),"start_date"===e&&this.handleChangeStartDate()}},{key:"render",value:function(){var e=this,t=this.state.errMsg;return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:this.state.isEdit?"Edit Voucher Bonus Produk":"Add Voucher Bonus Produk"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:this.state.appsLoading?Object(Oe.jsx)(qt,{}):Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsx)(ze.a,{id:"myForm",children:Object(Oe.jsxs)("div",{className:"card-body my-card-body",children:[Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:3,controlId:"title",children:[Object(Oe.jsx)(ze.a.Label,{children:"Title"}),Object(Oe.jsx)(ze.a.Control,{value:this.state.title?this.state.title:"",onChange:this.handleChange,size:"sm",name:"title",type:"text",autoComplete:"off",placeholder:"Title"}),t.title&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.title})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:3,controlId:"kode_voucher",children:[Object(Oe.jsx)(ze.a.Label,{children:"Kode Voucher"}),Object(Oe.jsx)(ze.a.Control,{value:this.state.kode_voucher,autoComplete:"off",onChange:this.handleChange,size:"sm",name:"kode_voucher",type:"text",placeholder:"Kode Voucher"})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"start_date",children:[Object(Oe.jsx)(ze.a.Label,{children:"Start Date"}),Object(Oe.jsx)(Ut.a,{closeOnSelect:!0,timeFormat:!1,setViewDate:this.state.start_date?new Date(this.state.start_date):new Date,value:this.state.start_date?new Date(this.state.start_date):"",onChange:this.handleChangeStartDate,inputProps:{readOnly:!0,autoComplete:"off",placeholder:"Start Date",name:"start_date",className:"form-control form-control-sm"},renderView:function(t,a,s){return e.renderView(t,a,"start_date")},locale:"id",isValidDate:this.state.validSd}),t.start_date&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.start_date})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"is_limited",children:[Object(Oe.jsx)(ze.a.Label,{children:"Limited"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.is_limited>0?"checked":"",label:this.state.is_limited>0?"Yes":"No",type:"switch",name:"is_limited",custom:!0})})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"user_tertentu",children:[Object(Oe.jsx)(ze.a.Label,{children:"User Tertentu"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.user_tertentu>0?"checked":"",label:this.state.user_tertentu>0?"Yes":"No",type:"switch",name:"user_tertentu",custom:!0})})})]})]}),Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:3,controlId:"produk_utama",children:[Object(Oe.jsx)(ze.a.Label,{children:"Produk Utama"}),Object(Oe.jsx)(kt,{name:"produk_utama",myVal:this.state.produk_utama?{value:this.state.produk_utama,label:this.state.produk_utama_name}:"",onChange:this.onchangeSelect.bind(this,"produk_utama")}),t.produk_utama&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.produk_utama})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:3,controlId:"produk_bonus",children:[Object(Oe.jsx)(ze.a.Label,{children:"Produk Bonus"}),Object(Oe.jsx)(kt,{name:"produk_bonus",myVal:this.state.produk_bonus?{value:this.state.produk_bonus,label:this.state.produk_bonus_name}:"",onChange:this.onchangeSelect.bind(this,"produk_bonus")}),t.produk_bonus&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.produk_bonus})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"end_date",children:[Object(Oe.jsx)(ze.a.Label,{children:"End Date"}),Object(Oe.jsx)(Ut.a,{closeOnSelect:!0,timeFormat:!1,setViewDate:this.state.end_date?new Date(this.state.end_date):new Date,value:this.state.end_date?new Date(this.state.end_date):"",onChange:this.handleChangeEndDate,inputProps:{readOnly:!0,placeholder:"End Date",autoComplete:"off",name:"end_date",className:"form-control form-control-sm"},renderView:function(t,a){return e.renderView(t,a,"end_date")},locale:"id",isValidDate:this.state.validEd}),t.end_date&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.end_date})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"kuota",children:[Object(Oe.jsx)(ze.a.Label,{children:"Kuota"}),Object(Oe.jsx)(It.a,{disabled:!this.state.is_limited,onChange:this.handleChange,name:"kuota",className:"form-control form-control-sm",value:this.state.kuota?this.state.kuota:"",thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"Kuota"}),t.kuota&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.kuota})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"mobile",children:[Object(Oe.jsx)(ze.a.Label,{children:"Mobile"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.mobile>0?"checked":"",label:this.state.mobile>0?"Yes":"No",type:"switch",name:"mobile",custom:!0})})})]})]}),Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"short_description",children:[Object(Oe.jsx)(ze.a.Label,{children:"Short Description"}),Object(Oe.jsx)(ze.a.Control,{value:this.state.short_description?this.state.short_description:"",onChange:this.handleChange,size:"sm",name:"short_description",type:"text",autoComplete:"off",placeholder:"Short Description"}),t.short_description&&Object(Oe.jsx)("span",{className:"text-error badge badge-danger",children:t.short_description})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"is_show",children:[Object(Oe.jsx)(ze.a.Label,{children:"Is Show"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.is_show>0?"checked":"",label:this.state.is_show>0?"Yes":"No",type:"switch",name:"is_show",custom:!0})})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"website",children:[Object(Oe.jsx)(ze.a.Label,{children:"Website"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.website>0?"checked":"",label:this.state.website>0?"Yes":"No",type:"switch",name:"website",custom:!0})})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"member",children:[Object(Oe.jsx)(ze.a.Label,{children:"Member"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.member>0?"checked":"",label:this.state.member>0?"Yes":"No",type:"switch",name:"member",custom:!0})})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"konsumen",children:[Object(Oe.jsx)(ze.a.Label,{children:"Konsumen"}),Object(Oe.jsx)(Vt.a,{children:Object(Oe.jsx)(Ve.a,{xs:{span:1,offset:2},children:Object(Oe.jsx)(ze.a.Check,{onChange:this.handleChange,checked:this.state.konsumen>0?"checked":"",label:this.state.konsumen>0?"Yes":"No",type:"switch",name:"konsumen",custom:!0})})})]})]}),Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"deskripsi",children:[Object(Oe.jsx)(ze.a.Label,{children:"Description"}),t.deskripsi&&Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:t.deskripsi}),Object(Oe.jsx)($t.a,{defaultValue:this.state.deskripsi,setContents:this.state.deskripsi,onChange:this.handleChangeDesk,setOptions:{placeholder:"Description ...",maxHeight:200,height:200,buttonList:[["fontSize","formatBlock","bold","underline","italic","align","horizontalRule","list","lineHeight","link","strike","subscript","superscript","codeView","undo","redo","fontColor","hiliteColor","textStyle","paragraphStyle","blockquote","removeFormat"]]}})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"img",children:[Object(Oe.jsx)(ze.a.Label,{children:"Image"}),t.img?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:t.img}):"",Object(Oe.jsx)(ze.a.File,{setfieldvalue:this.state.img,onChange:this.handleChange,size:"sm",name:"img",style:{color:"rgba(0, 0, 0, 0)"}}),Object(Oe.jsx)(ze.a.Text,{className:"text-muted",children:Object(Oe.jsxs)("em",{children:["- Images *.jpg, *.jpeg, *.png ",Object(Oe.jsx)("br",{}),"- Maks. Size 2MB"]})})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"imagePreview",children:[Object(Oe.jsx)(ze.a.Label,{style:{color:"rgba(0, 0, 0, 0)"},children:"-----"}),Object(Oe.jsx)(ht.a,{children:Object(Oe.jsx)(ht.a.Image,{thumbnail:!0,width:130,height:100,alt:"",src:this.state.imgUpload})})]})]})]})}),Object(Oe.jsxs)("div",{className:"card-footer",children:[Object(Oe.jsxs)(ge.b,{to:"/vouchers",children:[Object(Oe.jsx)(Ge.a,{variant:"danger",children:"Cancel"})," "]}),Object(Oe.jsx)(Wt.a,{type:"button",isLoading:this.state.isLoading,onClick:this.handleSubmit.bind(this),theme:"success",children:"Simpan"})]})]})})})})}),this.props.showFormSuccess?Object(Oe.jsx)(We.a,{show:this.props.showFormSuccess,title:this.props.contentMsg,type:this.props.tipeSWAL,handleClose:this.handleClose.bind(this)}):""]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),$s=Object(c.b)((function(e){return{user:e.auth.currentUser,contentMsg:e.voucher.contentMsg,showFormSuccess:e.voucher.showFormSuccess,tipeSWAL:e.voucher.tipeSWAL}}),(function(e){return{onAdd:function(t){e(Ms(t))},closeSwal:function(){var t={showFormSuccess:!1,contentMsg:null};e(Cs(t))}}}))(Ks),Xs=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=Object(ue.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({appsLoading:!0,isLoading:!0}),t=sessionStorage.getItem("idVoucherCNI"),Is({id_voucher:t},"VIEW_DETAIL").then((function(e){if("00"===e.data.err_code){var t=e.data.data,a=t.produk_tertentu,n=t.user_tertentu,r=t.konsumen,i=t.member,c=t.is_publish;Object.keys(t).map((function(e){return s.setState(Object(Q.a)({},e,t[e])),s.setState({isLoading:!1,appsLoading:!1}),1})),a>0&&(s.getDataProduk(),c||s.getOptionProduk()),n>0&&(s.getDataMember(),c||s.getOptionMember(i,r))}"04"===e.data.err_code&&s.setState({isLoading:!1})})).catch((function(e){console.log(e),s.setState({isLoading:!1})}));case 4:case"end":return e.stop()}}),e)}))),s.getDataProduk=Object(ue.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState(Object(d.a)(Object(d.a)({},s.state),{},{loadDataProduk:!0,product:[],removeProduk:null})),t=sessionStorage.getItem("idVoucherCNI"),Is({id_voucher:t},"GET_LIST_PRODUK").then((function(e){if("00"===e.data.err_code){var t=e.data.data;s.setState(Object(d.a)(Object(d.a)({},s.state),{},{product:t,ttlProduct:e.data.total_data,loadDataProduk:!1}))}"04"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{loadDataProduk:!1,product:[],ttlProduct:0}))})).catch((function(e){console.log(e),s.setState({isLoading:!1,ttlProduct:0})}));case 4:case"end":return e.stop()}}),e)}))),s.getDataMember=Object(ue.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState(Object(d.a)(Object(d.a)({},s.state),{},{loadDataMember:!0,members:[],removeMember:null})),t=sessionStorage.getItem("idVoucherCNI"),Is({id_voucher:t},"GET_LIST_MEMBER").then((function(e){if("00"===e.data.err_code){var t=e.data.data;s.setState(Object(d.a)(Object(d.a)({},s.state),{},{loadDataMember:!1,members:t,ttlMembers:e.data.total_data,removeMember:null}))}"04"===e.data.err_code&&s.setState({loadDataMember:!1,ttlMembers:0})})).catch((function(e){console.log(e),s.setState({isLoading:!1,ttlMembers:0})}));case 4:case"end":return e.stop()}}),e)}))),s.state={appsLoading:!1,isLoadingSelectedProduk:!1,isLoadingSelectedMember:!1,selectOptionsProduk:"",selectOptionsMember:"",ttlProduct:0,ttlMembers:0,isLoading:!1,loadDataProduk:!1,loadDataMember:!1,multiValueProduk:[],multiValueMember:[]},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.getItem("idVoucherCNI")>0&&this.getData(),this.setState({id_operator:this.props.user.id_operator})}},{key:"removeProduk",value:function(){var e=Object(ue.a)(be.a.mark((function e(t,a){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({removeProduk:t.id_product});case 2:this.handleSaveProduk("REMOVE_PRODUK");case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"removeMember",value:function(){var e=Object(ue.a)(be.a.mark((function e(t,a){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({removeMember:t.id_member});case 2:this.handleSaveMember("REMOVE_MEMBER");case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getOptionProduk",value:function(){var e=Object(ue.a)(be.a.mark((function e(){var t,a,s,n,r,i=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoadingSelectedProduk:!0}),this.state.id_operator||this.setState({id_operator:this.props.user.id_operator}),t=sessionStorage.getItem("idVoucherCNI"),a={id_voucher:t},"http://202.158.64.238/api_cni/index.php/list_produk_available",e.next=7,u.a.post("http://202.158.64.238/api_cni/index.php/list_produk_available",a);case 7:s=e.sent,"00"===s.data.err_code?(n=s.data.data,r=n.map((function(e){return{value:e.id_product,label:e.product_name}})),setTimeout((function(){i.setState(Object(d.a)(Object(d.a)({},i.state),{},{selectOptionsProduk:r,isLoadingSelectedProduk:!1}))}),400)):setTimeout((function(){i.setState(Object(d.a)(Object(d.a)({},i.state),{},{selectOptionsProduk:null,isLoadingSelectedProduk:!0}))}),400);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getOptionMember",value:function(){var e=Object(ue.a)(be.a.mark((function e(t,a){var s,n,r,i,c,o=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoadingSelectedProduk:!0}),this.state.id_operator||this.setState({id_operator:this.props.user.id_operator}),s=sessionStorage.getItem("idVoucherCNI"),n={id_voucher:s,member:t,konsumen:a},"http://202.158.64.238/api_cni/index.php/list_member_available",e.next=7,u.a.post("http://202.158.64.238/api_cni/index.php/list_member_available",n);case 7:r=e.sent,"00"===r.data.err_code?(i=r.data.data,c=i.map((function(e){return{value:e.id_member,label:e.nama}})),setTimeout((function(){o.setState(Object(d.a)(Object(d.a)({},o.state),{},{selectOptionsMember:c,isLoadingSelectedMember:!1}))}),400)):setTimeout((function(){o.setState(Object(d.a)(Object(d.a)({},o.state),{},{selectOptionsMember:null,isLoadingSelectedMember:!0}))}),400);case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleMultiChange",value:function(e){this.setState((function(t){return{multiValueProduk:e}}))}},{key:"handleMultiChangeMember",value:function(e){this.setState((function(t){return{multiValueMember:e}}))}},{key:"handleSaveProduk",value:function(){var e=Object(ue.a)(be.a.mark((function e(t){var a,s,n=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState(Object(d.a)(Object(d.a)({},this.state),{},{loadDataProduk:!0})),a=[],Object.values(this.state.multiValueProduk).forEach((function(e){return a.push(e.value)})),s={id_operator:this.state.id_operator,id_voucher:this.state.id_voucher,id_prod:this.state.removeProduk?this.state.removeProduk:a},Is(s,t).then((function(e){"00"===e.data.err_code&&(n.getDataProduk(),n.getOptionProduk(),n.setState({multiValueProduk:[],loadDataProduk:!1}))})).catch((function(e){console.log(e),n.setState({loadDataProduk:!1})}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSaveMember",value:function(){var e=Object(ue.a)(be.a.mark((function e(t){var a,s,n=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState(Object(d.a)(Object(d.a)({},this.state),{},{loadDataMember:!0})),a=[],Object.values(this.state.multiValueMember).forEach((function(e){return a.push(e.value)})),s={id_operator:this.state.id_operator,id_voucher:this.state.id_voucher,id_member:this.state.removeMember?this.state.removeMember:a},Is(s,t).then((function(e){"00"===e.data.err_code&&(n.getDataMember(),n.getOptionMember(n.state.member,n.state.konsumen),n.setState({multiValueMember:[],loadDataMember:!1}))})).catch((function(e){console.log(e),n.setState({loadDataMember:!1})}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.product,n=t.members;return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Voucher Detail"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsxs)("div",{className:"row",children:[Object(Oe.jsx)("div",{className:"col-md-3",children:this.state.appsLoading?Object(Oe.jsx)(qt,{}):Object(Oe.jsx)("div",{className:"card shadow-lg",children:Object(Oe.jsxs)("div",{className:"card-body box-profile",children:[Object(Oe.jsx)("div",{className:"text-center",children:Object(Oe.jsx)(sa.a,{className:"img-fluid",src:this.state.img,alt:"Voucher picture"})}),Object(Oe.jsx)("h3",{className:"profile-username text-center",children:this.state.title}),Object(Oe.jsx)("p",{className:"text-muted text-center",children:this.state.kode_voucher}),Object(Oe.jsxs)("ul",{className:"list-group list-group-unbordered mb-3",children:[Object(Oe.jsxs)("li",{className:"list-group-item",children:[Object(Oe.jsx)("b",{children:"Min.Pembelian"})," ",Object(Oe.jsx)("div",{className:"float-right",children:Object(Oe.jsx)(It.a,{value:this.state.min_pembelian,thousandSeparator:!0,decimalScale:2,displayType:"text"})})]}),Object(Oe.jsxs)("li",{className:"list-group-item",children:[Object(Oe.jsx)("b",{children:"Potongan"})," ",Object(Oe.jsxs)("div",{className:"float-right",children:[this.state.potongan>0?Object(Oe.jsx)(It.a,{value:this.state.potongan,thousandSeparator:!0,decimalScale:2,displayType:"text"}):0,2===this.state.satuan_potongan?"%":""]})]}),Object(Oe.jsxs)("li",{className:"list-group-item",children:[Object(Oe.jsx)("b",{children:"Maks. Potongan"})," ",Object(Oe.jsx)("div",{className:"float-right",children:Object(Oe.jsx)(It.a,{value:this.state.max_potongan,thousandSeparator:!0,decimalScale:2,displayType:"text"})})]}),Object(Oe.jsxs)("li",{className:"list-group-item",children:[Object(Oe.jsx)("b",{children:"Kuota"})," ",Object(Oe.jsx)("div",{className:"float-right",children:this.state.is_limited>0?Object(Oe.jsx)(It.a,{value:this.state.kuota,thousandSeparator:!0,decimalScale:2,displayType:"text"}):"~"})]}),Object(Oe.jsxs)("li",{className:"list-group-item",children:[Object(Oe.jsx)("b",{children:"User Tertentu"})," ",Object(Oe.jsx)("div",{className:"float-right",children:this.state.user_tertentu?Object(Oe.jsx)(Se.a,{style:{color:"#2E997B",fontSize:20}}):Object(Oe.jsx)(Se.e,{style:{color:"red",fontSize:20}})})]}),Object(Oe.jsxs)("li",{className:"list-group-item",children:[Object(Oe.jsx)("b",{children:"Produk Tertentu"})," ",Object(Oe.jsx)("div",{className:"float-right",children:this.state.produk_tertentu?Object(Oe.jsx)(Se.a,{style:{color:"#2E997B",fontSize:20}}):Object(Oe.jsx)(Se.e,{style:{color:"red",fontSize:20}})})]}),Object(Oe.jsxs)("li",{className:"list-group-item",children:[Object(Oe.jsx)("b",{children:"Member"})," ",Object(Oe.jsx)("div",{className:"float-right",children:this.state.member?Object(Oe.jsx)(Se.a,{style:{color:"#2E997B",fontSize:20}}):Object(Oe.jsx)(Se.e,{style:{color:"red",fontSize:20}})})]}),Object(Oe.jsxs)("li",{className:"list-group-item",children:[Object(Oe.jsx)("b",{children:"Konsumen"})," ",Object(Oe.jsx)("div",{className:"float-right",children:this.state.konsumen?Object(Oe.jsx)(Se.a,{style:{color:"#2E997B",fontSize:20}}):Object(Oe.jsx)(Se.e,{style:{color:"red",fontSize:20}})})]}),Object(Oe.jsxs)("li",{className:"list-group-item",children:[Object(Oe.jsx)("b",{children:"Mobile"})," ",Object(Oe.jsx)("div",{className:"float-right",children:this.state.mobile?Object(Oe.jsx)(Se.a,{style:{color:"#2E997B",fontSize:20}}):Object(Oe.jsx)(Se.e,{style:{color:"red",fontSize:20}})})]}),Object(Oe.jsxs)("li",{className:"list-group-item",children:[Object(Oe.jsx)("b",{children:"Website"})," ",Object(Oe.jsx)("div",{className:"float-right",children:this.state.website?Object(Oe.jsx)(Se.a,{style:{color:"#2E997B",fontSize:20}}):Object(Oe.jsx)(Se.e,{style:{color:"red",fontSize:20}})})]}),Object(Oe.jsxs)("li",{className:"list-group-item",children:[Object(Oe.jsx)("b",{children:"Is Show"})," ",Object(Oe.jsx)("div",{className:"float-right",children:this.state.is_show?Object(Oe.jsx)(Se.a,{style:{color:"#2E997B",fontSize:20}}):Object(Oe.jsx)(Se.e,{style:{color:"red",fontSize:20}})})]})]})]})})}),Object(Oe.jsx)("div",{className:"col-md-9",children:this.state.appsLoading?Object(Oe.jsx)(qt,{}):Object(Oe.jsxs)("div",{className:"card shadow-lg",style:{minHeight:820,maxHeight:820},children:[Object(Oe.jsx)("div",{className:"card-header p-2",children:Object(Oe.jsxs)("ul",{className:"nav nav-pills",children:[Object(Oe.jsx)("li",{className:"nav-item",children:Object(Oe.jsx)("a",{className:"nav-link active",href:"#activity","data-toggle":"tab",children:"Main"})}),this.state.produk_tertentu?Object(Oe.jsx)("li",{className:"nav-item",children:Object(Oe.jsxs)("a",{className:"nav-link",href:"#produk","data-toggle":"tab",children:[Object(Oe.jsx)(rt.a,{variant:"primary",style:{marginRight:5,fontSize:"90%"},children:Object(Oe.jsx)(It.a,{value:this.state.ttlProduct,thousandSeparator:!0,decimalScale:0,displayType:"text"})}),"Produk"]})}):"",this.state.user_tertentu?Object(Oe.jsx)("li",{className:"nav-item",children:Object(Oe.jsxs)("a",{className:"nav-link",href:"#member","data-toggle":"tab",children:[Object(Oe.jsx)(rt.a,{variant:"primary",style:{marginRight:5,fontSize:"90%"},children:Object(Oe.jsx)(It.a,{value:this.state.ttlMembers,thousandSeparator:!0,decimalScale:0,displayType:"text"})}),"Members"]})}):""]})}),Object(Oe.jsx)("div",{className:"card-body tab_voucher",children:Object(Oe.jsxs)("div",{className:"tab-content",children:[Object(Oe.jsx)("div",{className:"tab-pane active",id:"activity",children:Object(Oe.jsxs)("dl",{children:[3===this.state.tipe?Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsx)("dt",{children:"Produk Utama"}),Object(Oe.jsx)("dd",{children:this.state.produk_utama_name}),Object(Oe.jsx)("hr",{}),Object(Oe.jsx)("dt",{children:"Produk Bonus"}),Object(Oe.jsx)("dd",{children:this.state.produk_bonus_name}),Object(Oe.jsx)("hr",{})]}):"",Object(Oe.jsx)("dt",{children:"Short Deskripsi"}),Object(Oe.jsx)("dd",{children:Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:this.state.short_description}})}),Object(Oe.jsx)("hr",{}),Object(Oe.jsx)("dt",{children:"Deskripsi"}),Object(Oe.jsx)("dd",{children:Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:this.state.deskripsi}})})]})}),Object(Oe.jsxs)("div",{className:"tab-pane",id:"produk",children:[this.state.is_publish?"":Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsx)(ze.a.Label,{children:"Produk Available"}),Object(Oe.jsx)(Ct,{myVal:this.state.multiValueProduk,getData:this.state.selectOptionsProduk,isLoading:this.state.isLoadingSelectedProduk,onChange:this.handleMultiChange.bind(this)}),Object(Oe.jsx)(Wt.a,{style:{marginTop:"3px",marginBottom:"15px"},className:"float-right btn-sm",onClick:this.handleSaveProduk.bind(this,"SAVE_PRODUK"),theme:"warning",disabled:!(this.state.multiValueProduk.length>0),isLoading:this.state.loadDataProduk,children:"Assign Product"}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{})]}),this.state.loadDataProduk?Object(Oe.jsxs)("div",{className:"loadings text-center",children:[Object(Oe.jsx)(Oa.a,{animation:"border",variant:"secondary"}),Object(Oe.jsx)("br",{}),"Loading ..."]}):Object(Oe.jsx)("ul",{className:"products-list product-list-in-card pl-2 pr-2 todo-list ui-sortable","data-widget":"todo-list",children:a?a.map((function(t,a){return Object(Oe.jsxs)("li",{className:"item",style:{borderLeft:"none"},children:[Object(Oe.jsx)("div",{className:"product-img",children:Object(Oe.jsx)(sa.a,{src:t.img?t.img:jt,alt:"Product Image",className:"img-size-50"})}),Object(Oe.jsxs)("div",{className:"product-info",children:[Object(Oe.jsx)("span",{className:"text",style:{marginLeft:0},children:t.product_name}),e.state.is_publish?"":Object(Oe.jsx)("div",{className:"tools float-right",children:Object(Oe.jsx)(Tt.a,{placement:"top",overlay:Object(Oe.jsx)(Rt.a,{id:"tooltip-top",children:"Remove Produk"}),children:Object(Oe.jsx)("i",{className:"fas",children:Object(Oe.jsx)(ve.p,{onClick:e.removeProduk.bind(e,t)})})})}),Object(Oe.jsx)("span",{className:"product-description",children:t.short_description})]})]},a)})):""})]}),Object(Oe.jsxs)("div",{className:"tab-pane",id:"member",children:[this.state.is_publish?"":Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsx)(ze.a.Label,{children:"Member Available"}),Object(Oe.jsx)(Ct,{myVal:this.state.multiValueMember,getData:this.state.selectOptionsMember,isLoading:this.state.isLoadingSelectedMember,onChange:this.handleMultiChangeMember.bind(this)}),Object(Oe.jsx)(Wt.a,{style:{marginTop:"3px",marginBottom:"15px"},className:"float-right btn-sm",onClick:this.handleSaveMember.bind(this,"SAVE_MEMBER"),theme:"warning",disabled:!(this.state.multiValueMember.length>0),isLoading:this.state.loadDataMember,children:"Assign Member"}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{})]}),this.state.loadDataMember?Object(Oe.jsxs)("div",{className:"loadings text-center",children:[Object(Oe.jsx)(Oa.a,{animation:"border",variant:"secondary"}),Object(Oe.jsx)("br",{}),"Loading ..."]}):Object(Oe.jsx)("ul",{className:"products-list product-list-in-card pl-2 pr-2 todo-list ui-sortable","data-widget":"todo-list",children:n?n.map((function(t,a){return Object(Oe.jsxs)("li",{className:"item",style:{borderLeft:"none"},children:[Object(Oe.jsx)("div",{className:"product-img",children:Object(Oe.jsx)(sa.a,{src:t.img?t.img:jt,alt:"Product Image",className:"img-size-50"})}),Object(Oe.jsxs)("div",{className:"product-info",children:[Object(Oe.jsx)("span",{className:"text",style:{marginLeft:0},children:t.nama}),e.state.is_publish?"":Object(Oe.jsx)("div",{className:"tools float-right",children:Object(Oe.jsx)(Tt.a,{placement:"top",overlay:Object(Oe.jsx)(Rt.a,{id:"tooltip-top",children:"Remove Member"}),children:Object(Oe.jsx)("i",{className:"fas",children:Object(Oe.jsx)(ve.p,{onClick:e.removeMember.bind(e,t)})})})}),Object(Oe.jsx)("span",{className:"product-description",children:t.cni_id?"CNI ID : "+t.cni_id:Object(Oe.jsx)(rt.a,{style:{marginLeft:0},variant:"warning",children:"Konsumen"})})]})]},a)})):""})]})]})})]})})]})})}),this.props.showFormSuccess?Object(Oe.jsx)(We.a,{show:this.props.showFormSuccess,title:this.props.contentMsg,type:this.props.tipeSWAL,handleClose:this.handleClose.bind(this)}):""]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),Js=Object(c.b)((function(e){return{user:e.auth.currentUser,contentMsg:e.voucher.contentMsg,showFormSuccess:e.voucher.showFormSuccess,tipeSWAL:e.voucher.tipeSWAL}}),(function(e){return{onAdd:function(t){e(Ms(t))},closeSwal:function(){var t={showFormSuccess:!1,contentMsg:null};e(Cs(t))}}}))(Xs),Qs="http://202.158.64.238/api_cni/index.php",Zs=new(function(){function e(){Object(h.a)(this,e)}return Object(j.a)(e,[{key:"postData",value:function(e,t){switch(t){case"GET_DATA":return u.a.post(Qs+"/list_ulasan",e);case"VIEW_DETAIL":return u.a.post(Qs+"/transaksi_detail",e);case"UPD_STATUS":return u.a.post(Qs+"/set_onprocess",e);case"UPD_STATUS_ULASAN":return u.a.post(Qs+"/appr_rej_ulasan",e);default:return u.a.post(Qs+"/simpan_admin",e)}}}]),e}()),en=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=function(){s.setState({loadTbl:!0,id_operator:s.props.user.id_operator}),Zs.postData(s.state.queryString,"GET_DATA").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:e.data.data,totalData:e.data.total_data})),"04"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:[],totalData:0})),s.setState({loadTbl:!1})}),400)})).catch((function(e){console.log(e)}))},s.tableChangeHandler=function(e){var t=s.state.queryString;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),s.getData()},s.redirect_ulasan=function(){var e=Object(ue.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,sessionStorage.setItem("idTransCNIUlasan",t.id_trans);case 3:s.props.history.push("/detail_ulasan");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.showFormApprove=function(){var e=Object(ue.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState(Object(d.a)(Object(d.a)({},s.state),{},{show:!0,showReject:!1,isLoading:!1,id_transaksi:t.id_trans,id_product:t.id_product,status:2,id_operator:s.props.user.id_operator}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.showFormReject=function(){var e=Object(ue.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState(Object(d.a)(Object(d.a)({},s.state),{},{show:!1,showReject:!0,isLoading:!1,id_transaksi:t.id_trans,id_product:t.id_product,status:3,id_operator:s.props.user.id_operator}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleClose=function(){s.setState({show:!1,showReject:!1,isLoading:!1,errMsg:"",showSwalSuccess:!1})},s.closeSwal=function(){s.setState({show:!1,showReject:!1,isLoading:!1,errMsg:"",showSwalSuccess:!1}),s.getData()},s.state={dtRes:[],totalData:0,show:!1,isLoading:!1,showReject:!1,loadTbl:!0,id_transaksi:0,id_product:0,id_operator:0,status:1,errMsg:"",showSwalSuccess:!1,queryString:{page_number:1,per_page:10,sort_order:"DESC",sort_column:"tgl_ulasan",keyword:"",status:1}},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("idTransCNIUlasan"),this.getData()}},{key:"handleProses",value:function(){var e=this;this.setState(Object(d.a)(Object(d.a)({},this.state),{},{isLoading:!0}));var t={id_transaksi:this.state.id_transaksi,id_product:this.state.id_product,status:this.state.status,id_operator:this.state.id_operator};Zs.postData(t,"UPD_STATUS_ULASAN").then((function(t){"00"===t.data.err_code&&e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1,showReject:!1,isLoading:!1,errMsg:Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil diupdate</div>'}}),showSwalSuccess:!0}))})).catch((function(t){console.log(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{isLoading:!1,showConfirm:!1}))}))}},{key:"render",value:function(){var e=this,t=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>memproses ulasan ini ?</div>'}}),a=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(e.state.queryString.page_number-1)*e.state.queryString.per_page+a+1+"."})},row:0},{key:"tgl_ulasan",text:"Tgl. Ulasan",align:"center",width:100,sortable:!0,cell:function(e){return Bt()(new Date(e.tgl_ulasan)).format("DD-MM-YYYY HH:mm")}},{key:"id_trans",text:"Order ID",align:"center",width:100,sortable:!0,cell:function(t){return Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)(Tt.a,{placement:"right",overlay:Object(Oe.jsx)(Rt.a,{id:"tooltip-right",children:"Detail Ulasan"}),children:Object(Oe.jsx)(ge.b,{to:"/waiting_approve",onClick:function(){return e.redirect_ulasan(t)},children:t.id_trans})})})}},{key:"ulasan",text:"Ulasan",align:"center",width:200,sortable:!1},{key:"rating",text:"Rating",align:"center",width:60,sortable:!0,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:e.rating})}},{key:"product_name",text:"Photo",align:"center",sortable:!0,width:155,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:Object(Oe.jsxs)(ht.a,{children:[Object(Oe.jsx)(ht.a.Image,{thumbnail:!0,width:150,height:120,alt:e.product_name,src:e.img_ulasan?e.img_ulasan:jt}),Object(Oe.jsx)(ht.a.Caption,{children:e.product_name})]})})}},{key:"action",text:"Action",align:"center",width:70,sortable:!1,cell:function(t){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:e.props.user.ulasan_upd_status?Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsxs)("button",{onClick:function(a){return e.showFormApprove(t)},className:"btn btn-xs btn-success",style:{marginBottom:"3px"},children:[Object(Oe.jsx)("i",{className:"fa fa-check"})," Approve"]}),Object(Oe.jsxs)("button",{onClick:function(){return e.showFormReject(t)},style:{marginBottom:"3px",width:70},className:"btn btn-danger btn-xs",children:[Object(Oe.jsx)(fe.d,{})," Reject"]})]}):Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsxs)("button",{disabled:!0,className:"btn btn-xs btn-success",style:{marginBottom:"3px"},children:[Object(Oe.jsx)("i",{className:"fa fa-check"})," Approve"]}),Object(Oe.jsxs)("button",{disabled:!0,style:{marginBottom:"3px",width:70},className:"btn btn-danger btn-xs",children:[Object(Oe.jsx)(fe.d,{})," Reject"]})]})})}}];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Ulasan"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsx)("div",{className:"card-header",children:Object(Oe.jsx)("h1",{className:"card-title card-title-custom",children:"Waiting Approval"})}),Object(Oe.jsx)("div",{className:"card-body",children:this.state.dtRes?Object(Oe.jsx)(Re.a,{className:"table table-striped table-bordered",config:{key_column:"unique_key",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:this.state.dtRes,columns:a,dynamic:!0,onChange:this.tableChangeHandler,total_record:this.state.totalData,loading:this.state.loadTbl}):Object(Oe.jsx)("p",{children:"No Data..."})})]})})})})})]}),Object(Oe.jsxs)("div",{children:[this.state.showSwalSuccess?Object(Oe.jsx)(We.a,{show:this.state.showSwalSuccess,title:this.state.errMsg,type:"success",handleClose:this.closeSwal.bind(this)}):"",Object(Oe.jsx)(Be.a,{show:this.state.show,size:"sm",form:t,handleClose:this.handleClose.bind(this),backdrop:"static",keyboard:!1,title:"Confirm Approve",titleButton:"Approve",themeButton:"success",isLoading:this.state.isLoading,formSubmit:this.handleProses.bind(this)}),Object(Oe.jsx)(Be.a,{show:this.state.showReject,size:"sm",form:t,handleClose:this.handleClose.bind(this),backdrop:"static",keyboard:!1,title:"Confirm Reject",titleButton:"Reject",themeButton:"danger",isLoading:this.state.isLoading,formSubmit:this.handleProses.bind(this)})]})]})}}]),a}(s.Component),tn=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")(en),an=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=function(){s.setState({loadTbl:!0}),Zs.postData(s.state.queryString,"GET_DATA").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:e.data.data,totalData:e.data.total_data})),"04"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:[],totalData:0})),s.setState({loadTbl:!1})}),400)})).catch((function(e){console.log(e)}))},s.tableChangeHandler=function(e){var t=s.state.queryString;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),s.getData()},s.redirect_ulasan=function(){var e=Object(ue.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,sessionStorage.setItem("idTransCNIUlasan",t.id_trans);case 3:s.props.history.push("/detail_ulasan");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.state={dtRes:[],totalData:0,show:!1,isLoading:!1,loadTbl:!0,queryString:{page_number:1,per_page:10,sort_order:"DESC",sort_column:"tgl_ulasan",keyword:"",status:2}},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("idTransCNIUlasan"),this.getData()}},{key:"render",value:function(){var e=this,t=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(e.state.queryString.page_number-1)*e.state.queryString.per_page+a+1+"."})},row:0},{key:"tgl_ulasan",text:"Tgl. Ulasan",align:"center",width:100,sortable:!0,cell:function(e){return Bt()(new Date(e.tgl_ulasan)).format("DD-MM-YYYY HH:mm")}},{key:"id_trans",text:"Order ID",align:"center",width:100,sortable:!0},{key:"ulasan",text:"Ulasan",align:"center",width:200,sortable:!1},{key:"rating",text:"Rating",align:"center",width:60,sortable:!0,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:e.rating})}},{key:"product_name",text:"Photo",align:"center",sortable:!0,width:155,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:Object(Oe.jsxs)(ht.a,{children:[Object(Oe.jsx)(ht.a.Image,{thumbnail:!0,width:150,height:120,alt:e.product_name,src:e.img_ulasan?e.img_ulasan:jt}),Object(Oe.jsx)(ht.a.Caption,{children:e.product_name})]})})}},{key:"action",text:"Action",align:"center",width:70,sortable:!1,cell:function(t){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:Object(Oe.jsxs)("button",{className:"btn btn-xs btn-success",onClick:function(){return e.redirect_ulasan(t)},style:{marginBottom:"3px",width:80},children:["Approved ",Bt()(new Date(t.tgl_status_ulasan)).format("DD-MM-YYYY")," ",Object(Oe.jsx)("br",{})," ",Bt()(new Date(t.tgl_status_ulasan)).format("HH:mm")]})})}}];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Ulasan"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsx)("div",{className:"card-header",children:Object(Oe.jsx)("h1",{className:"card-title card-title-custom",children:"Approved"})}),Object(Oe.jsx)("div",{className:"card-body",children:this.state.dtRes?Object(Oe.jsx)(Re.a,{className:"table table-striped table-bordered",config:{key_column:"unique_key",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:this.state.dtRes,columns:t,dynamic:!0,onChange:this.tableChangeHandler,total_record:this.state.totalData,loading:this.state.loadTbl}):Object(Oe.jsx)("p",{children:"No Data..."})})]})})})})})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),sn=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")(an),nn=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).deleteRecord=function(e){console.log(e)},s.getData=function(){s.setState({loadTbl:!0}),Zs.postData(s.state.queryString,"GET_DATA").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:e.data.data,totalData:e.data.total_data})),"04"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:[],totalData:0})),s.setState({loadTbl:!1})}),400)})).catch((function(e){console.log(e)}))},s.tableChangeHandler=function(e){var t=s.state.queryString;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),s.getData()},s.redirect_ulasan=function(){var e=Object(ue.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,sessionStorage.setItem("idTransCNIUlasan",t.id_trans);case 3:s.props.history.push("/detail_ulasan");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.state={dtRes:[],totalData:0,show:!1,isLoading:!1,loadTbl:!0,queryString:{page_number:1,per_page:10,sort_order:"DESC",sort_column:"tgl_ulasan",keyword:"",status:3}},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("idTransCNIUlasan"),this.getData()}},{key:"render",value:function(){var e=this,t=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(e.state.queryString.page_number-1)*e.state.queryString.per_page+a+1+"."})},row:0},{key:"tgl_ulasan",text:"Tgl. Ulasan",align:"center",width:100,sortable:!0,cell:function(e){return Bt()(new Date(e.tgl_ulasan)).format("DD-MM-YYYY HH:mm")}},{key:"id_trans",text:"Order ID",align:"center",width:100,sortable:!0},{key:"ulasan",text:"Ulasan",align:"center",width:200,sortable:!1},{key:"rating",text:"Rating",align:"center",width:60,sortable:!0,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:e.rating})}},{key:"product_name",text:"Photo",align:"center",sortable:!0,width:155,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:Object(Oe.jsxs)(ht.a,{children:[Object(Oe.jsx)(ht.a.Image,{thumbnail:!0,width:150,height:120,alt:e.product_name,src:e.img_ulasan?e.img_ulasan:jt}),Object(Oe.jsx)(ht.a.Caption,{children:e.product_name})]})})}},{key:"action",text:"Action",align:"center",width:70,sortable:!1,cell:function(t){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:Object(Oe.jsxs)("button",{className:"btn btn-xs btn-danger",onClick:function(){return e.redirect_ulasan(t)},style:{marginBottom:"3px",width:80},children:["Rejected ",Object(Oe.jsx)("br",{})," ",Bt()(new Date(t.tgl_status_ulasan)).format("DD-MM-YYYY")," ",Object(Oe.jsx)("br",{})," ",Bt()(new Date(t.tgl_status_ulasan)).format("HH:mm")]})})}}];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Ulasan"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsx)("div",{className:"card-header",children:Object(Oe.jsx)("h1",{className:"card-title card-title-custom",children:"Rejected"})}),Object(Oe.jsx)("div",{className:"card-body",children:this.state.dtRes?Object(Oe.jsx)(Re.a,{className:"table table-striped table-bordered",config:{key_column:"unique_key",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:this.state.dtRes,columns:t,dynamic:!0,onChange:this.tableChangeHandler,total_record:this.state.totalData,loading:this.state.loadTbl}):Object(Oe.jsx)("p",{children:"No Data..."})})]})})})})})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),rn=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")(nn),cn=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).handleSave=function(){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{isLoading:!0}));var e={id_transaksi:s.state.id_transaksi,id_operator:s.props.user.id_operator};Zs.postData(e,"UPD_STATUS").then((function(e){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{isLoading:!1,showConfirm:!1,errMsg:Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil diupdate</div>'}}),showSwalSuccess:!0,dtRes:Object(d.a)(Object(d.a)({},s.state.dtRes),{},{status:3})}))})).catch((function(e){console.log(e),s.setState(Object(d.a)(Object(d.a)({},s.state),{},{isLoading:!1,showConfirm:!1}))}))},s.getData=function(){s.setState({appsLoading:!0});var e={id_transaksi:sessionStorage.getItem("idTransCNIUlasan")};Zs.postData(e,"VIEW_DETAIL").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:e.data.data})),"04"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:{}})),s.setState({appsLoading:!1})}),400)})).catch((function(e){console.log(e),s.setState({appsLoading:!1})}))},s.showFormApprove=function(){var e=Object(ue.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState(Object(d.a)(Object(d.a)({},s.state),{},{show:!0,showReject:!1,isLoading:!1,id_transaksi:t.id_trans,id_product:t.id_product,status:2,id_operator:s.props.user.id_operator}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.showFormReject=function(){var e=Object(ue.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState(Object(d.a)(Object(d.a)({},s.state),{},{show:!1,showReject:!0,isLoading:!1,id_transaksi:t.id_trans,id_product:t.id_product,status:3,id_operator:s.props.user.id_operator}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleClose=function(){s.setState({show:!1,showReject:!1,isLoading:!1,errMsg:"",showSwalSuccess:!1})},s.closeSwal=function(){s.setState({show:!1,showReject:!1,isLoading:!1,errMsg:"",showSwalSuccess:!1}),s.getData()},s.state={appsLoading:!0,showConfirm:!1,isLoading:!1,showSwalSuccess:!1,id_product:0,id_operator:0,status:1,dtRes:{},errMsg:null,id_transaksi:sessionStorage.getItem("idTransCNI")},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"handleProses",value:function(){var e=this;this.setState(Object(d.a)(Object(d.a)({},this.state),{},{isLoading:!0}));var t={id_transaksi:this.state.id_transaksi,id_product:this.state.id_product,status:this.state.status,id_operator:this.state.id_operator};Zs.postData(t,"UPD_STATUS_ULASAN").then((function(t){"00"===t.data.err_code&&e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1,showReject:!1,isLoading:!1,errMsg:Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil diupdate</div>'}}),showSwalSuccess:!0}))})).catch((function(t){console.log(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{isLoading:!1,showConfirm:!1}))}))}},{key:"render",value:function(){var e=this,t=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>memproses ulasan ini ?</div>'}});return Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Transaksi Detail"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:this.state.appsLoading?Object(Oe.jsx)(qt,{}):Object(Oe.jsxs)("div",{className:"card shadow-lg",children:[Object(Oe.jsxs)("div",{className:"card-body",children:[Object(Oe.jsx)("table",{className:"table table-condensed",children:Object(Oe.jsxs)("tbody",{children:[Object(Oe.jsx)("tr",{children:Object(Oe.jsx)("td",{style:{backgroundColor:"rgba(0,0,0,.1)",fontWeight:"bold",fontSize:"16px"},colSpan:"9",align:"center",children:"Information "})}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{width:"8%",children:Object(Oe.jsx)("strong",{children:"Order ID"})}),Object(Oe.jsx)("td",{width:"1%",children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsxs)("td",{width:"23%",children:[this.state.dtRes.id_transaksi," ",this.state.dtRes.is_dropship?Object(Oe.jsx)("span",{className:"badge bg-warning",children:"Dropship"}):""]}),Object(Oe.jsx)("td",{width:"8%",children:Object(Oe.jsx)("strong",{children:"Name"})}),Object(Oe.jsx)("td",{width:"1%",children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{width:"28%",children:this.state.dtRes.nama_member}),Object(Oe.jsx)("td",{width:"12%",children:Object(Oe.jsx)("strong",{children:"Payment Date"})}),Object(Oe.jsx)("td",{width:"1%",children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{width:"17%",children:this.state.dtRes.payment_date?Bt()(new Date(this.state.dtRes.payment_date)).format("DD MMMM YYYY HH:mm"):"-"})]}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Order Date"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{children:Bt()(new Date(this.state.dtRes.created_at)).format("DD MMMM YYYY HH:mm")}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Email"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{children:this.state.dtRes.email}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Payment"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{children:this.state.dtRes.payment_name})]}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Status"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsxs)(s.Fragment,{children:[0===this.state.dtRes.status&&Object(Oe.jsx)("span",{className:"badge bg-warning",children:"Waiting Payment"}),1===this.state.dtRes.status&&Object(Oe.jsx)("span",{className:"badge bg-info",children:"Payment Complete"}),2===this.state.dtRes.status&&Object(Oe.jsx)("span",{className:"badge bg-danger",children:"Expired Payment"}),3===this.state.dtRes.status&&Object(Oe.jsx)("span",{className:"badge bg-warning",children:"On Process"}),4===this.state.dtRes.status&&Object(Oe.jsx)("span",{className:"badge bg-info",children:"Dikirim"}),5===this.state.dtRes.status&&Object(Oe.jsx)("span",{className:"badge bg-success",children:"Completed"})]})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Phone"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{children:this.state.dtRes.phone_member}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"No.VA"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{children:2===this.state.dtRes.payment?this.state.dtRes.key_payment:"-"})]}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Pengiriman"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsxs)("td",{children:[1===this.state.dtRes.tipe_pengiriman?"Ambil dari DC terdekat":"",2===this.state.dtRes.tipe_pengiriman?"Kirim dari DC terdekat":"",3===this.state.dtRes.tipe_pengiriman?"Dikirim dari sales counter CNI":""]}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"CNOTE"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{children:this.state.dtRes.cnote_no&&1!==this.state.dtRes.tipe_pengiriman?this.state.dtRes.cnote_no:"-"}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Layanan"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),1!==this.state.dtRes.tipe_pengiriman?Object(Oe.jsx)("td",{children:this.state.dtRes.logistic_name+" - "+this.state.dtRes.service_code}):Object(Oe.jsx)("td",{children:"-"})]}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:1!==this.state.dtRes.tipe_pengiriman?"Origin":"DC Name"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),1!==this.state.dtRes.tipe_pengiriman?Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsx)("td",{children:this.state.dtRes.wh_name+"     "+this.state.dtRes.prov_origin+"("+this.state.dtRes.kode_origin+")"}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Alamat Pengiriman"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsxs)("td",{colSpan:"4",children:[this.state.dtRes.nama_penerima+", "+this.state.dtRes.alamat+", "+this.state.dtRes.kec_name+", "+this.state.dtRes.city_name+", "+this.state.dtRes.provinsi_name+", "+this.state.dtRes.kode_pos+", "+this.state.dtRes.phone_penerima,this.state.dtRes.is_dropship?Object(Oe.jsx)("span",{className:"badge bg-warning",children:"Dropship"}):""]})]}):Object(Oe.jsx)("td",{colSpan:"7",children:this.state.dtRes.wh_name+"     "+this.state.dtRes.prov_origin})]}),Object(Oe.jsx)("tr",{children:Object(Oe.jsx)("td",{style:{backgroundColor:"rgba(0,0,0,.08)",fontWeight:"bold",fontSize:"16px"},colSpan:"9",align:"center",children:"List Item"})})]})}),Object(Oe.jsxs)("table",{className:"table table-bordered",style:{borderBottom:"none",borderLeft:"none"},children:[Object(Oe.jsx)("thead",{children:Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("th",{style:{width:40,textAlign:"center"},children:"No."}),Object(Oe.jsx)("th",{style:{width:200,textAlign:"center"},children:"Product Name"}),Object(Oe.jsx)("th",{style:{width:250,textAlign:"center"},children:"Ulasan"}),Object(Oe.jsx)("th",{style:{width:80,textAlign:"center"},children:"Rating"}),Object(Oe.jsx)("th",{style:{width:155,textAlign:"center"},children:"Photo"}),Object(Oe.jsx)("th",{style:{textAlign:"center",width:70},children:"Action"})]})}),Object(Oe.jsx)("tbody",{children:this.state.dtRes.list_item.map((function(t,a){return Object(Oe.jsxs)("tr",{children:[Object(Oe.jsxs)("td",{align:"center",children:[a+1,"."]}),Object(Oe.jsx)("td",{children:t.product_name}),Object(Oe.jsx)("td",{children:t.ulasan}),Object(Oe.jsx)("td",{align:"center",children:Object(Oe.jsx)(It.a,{value:t.rating,thousandSeparator:!0,decimalScale:2,displayType:"text"})}),Object(Oe.jsx)("td",{align:"center",children:Object(Oe.jsx)(ht.a,{children:Object(Oe.jsx)(ht.a.Image,{thumbnail:!0,width:150,height:120,alt:t.product_name,src:t.img_ulasan?t.img_ulasan:jt})})}),Object(Oe.jsxs)("td",{align:"center",children:[1===t.status_ulasan?Object(Oe.jsxs)(s.Fragment,{children:[Object(Oe.jsxs)("button",{onClick:function(a){return e.showFormApprove(t)},className:"btn btn-xs btn-success",style:{marginBottom:"3px"},children:[Object(Oe.jsx)("i",{className:"fa fa-check"})," Approve"]}),Object(Oe.jsxs)("button",{onClick:function(a){return e.showFormReject(t)},style:{marginBottom:"3px",width:70},className:"btn btn-danger btn-xs",children:[Object(Oe.jsx)(fe.d,{})," Reject"]})]}):"",2===t.status_ulasan?Object(Oe.jsxs)("button",{className:"btn btn-xs btn-success",style:{marginBottom:"3px",width:80},children:["Approved ",Bt()(new Date(t.tgl_status_ulasan)).format("DD-MM-YYYY")," ",Object(Oe.jsx)("br",{})," ",Bt()(new Date(t.tgl_status_ulasan)).format("HH:mm")]}):"",3===t.status_ulasan?Object(Oe.jsxs)("button",{className:"btn btn-xs btn-danger",style:{marginBottom:"3px",width:80},children:["Rejected ",Object(Oe.jsx)("br",{})," ",Bt()(new Date(t.tgl_status_ulasan)).format("DD-MM-YYYY")," ",Object(Oe.jsx)("br",{})," ",Bt()(new Date(t.tgl_status_ulasan)).format("HH:mm")]}):""]})]},a)}))})]})]}),Object(Oe.jsxs)("div",{className:"card-footer clearfix",children:[Object(Oe.jsx)("button",{type:"button",onClick:function(){return e.props.history.goBack()},className:"btn bnt-flat btn-danger",children:"Back"}),1===this.state.dtRes.status&&Object(Oe.jsx)("button",{type:"button",onClick:this.confirmProcess,style:{marginLeft:3},className:"btn bnt-flat btn-warning",children:"Process"})]})]})})})})}),this.state.showSwalSuccess?Object(Oe.jsx)(We.a,{show:this.state.showSwalSuccess,title:this.state.errMsg,type:"success",handleClose:this.closeSwal.bind(this)}):"",Object(Oe.jsx)(Be.a,{show:this.state.show,size:"sm",form:t,handleClose:this.handleClose.bind(this),backdrop:"static",keyboard:!1,title:"Confirm Approve",titleButton:"Approve",themeButton:"success",isLoading:this.state.isLoading,formSubmit:this.handleProses.bind(this)}),Object(Oe.jsx)(Be.a,{show:this.state.showReject,size:"sm",form:t,handleClose:this.handleClose.bind(this),backdrop:"static",keyboard:!1,title:"Confirm Reject",titleButton:"Reject",themeButton:"danger",isLoading:this.state.isLoading,formSubmit:this.handleProses.bind(this)})]}),Object(Oe.jsx)("div",{})]})})}}]),a}(s.Component),on=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")(cn),ln="http://202.158.64.238/api_cni/index.php",dn=function(e){return{type:V,payload:e}},hn=function(e){return{type:L,payload:e}},jn=function(e){return{type:N,payload:e}},bn=function(e){var t={errorPriority:null};return t.showFormAdd=e,t.isAddLoading=!1,{type:S,payload:t}},un=function(e,t){switch(t){case"VIEW_DETAIL":return u.a.post(ln+"/blast_detail",e);default:return u.a.post(ln+"/blast_notif",e)}},pn=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).tableChangeHandler=function(e){var t=s.state;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),s.props.onLoad(s.state)},s.discardChanges=function(){s.setState({errMsg:{},selected:s.initSelected,loadingForm:!1}),s.state.selected.id_operator||s.setState({selected:Object(d.a)(Object(d.a)({},s.state.selected),{},{id_operator:s.props.user.id_operator})}),s.props.showForm(!0)},s.rowClickedHandler=function(){var e=Object(ue.a)(be.a.mark((function e(t,a,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("idBlastCNI",a.id_blast);case 2:s.props.history.push("/blast_detail");case 3:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),s.initSelected={id_level:"",level_name:"",id_operator:""},s.state={sort_order:"DESC",sort_column:"id_blast",keyword:"",page_number:1,is_cms:1,per_page:10,selected:s.initSelected,errMsg:s.initSelected,loadingForm:!1},s.handleChange=s.handleChange.bind(Object(zt.a)(s)),s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.props.onLoad(this.state)}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState({loadingForm:!1,selected:Object(d.a)(Object(d.a)({},this.state.selected),{},Object(Q.a)({},a,s)),errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},Object(Q.a)({},a,""))}),this.state.selected.id_operator||this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})})}},{key:"render",value:function(){var e=this,t=this.props.data,a=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(Oe.jsx)("div",{style:{textAlign:"center"},children:(e.state.page_number-1)*e.state.per_page+a+1+"."})},row:0},{key:"created_at",text:"Date",align:"center",sortable:!0,width:130,cell:function(e){return Bt()(new Date(e.created_at)).format("DD-MM-YYYY HH:mm")}},{key:"kode_produk",text:"Product",align:"center",sortable:!0,width:250,cell:function(e){return e.product_name}},{key:"content",text:"Content",align:"center",sortable:!1},{key:"tujuan",text:"Tujuan",align:"center",width:130,sortable:!0}];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Blast Notification"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsxs)("div",{className:"card card-success shadow-lg",style:{minHeight:"470px"},children:[Object(Oe.jsx)("div",{className:"card-header",children:Object(Oe.jsx)(ge.b,{to:"/add_blast",children:Object(Oe.jsxs)(Ge.a,{variant:"success",children:[Object(Oe.jsx)("i",{className:"fa fa-plus"})," Add"]})})}),Object(Oe.jsx)("div",{className:"card-body",children:t?Object(Oe.jsx)(Re.a,{className:"table table-striped table-hover table-bordered",config:{key_column:"id_blast",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:t,columns:a,dynamic:!0,onChange:this.tableChangeHandler,loading:this.props.isLoading,total_record:this.props.totalData,onRowClicked:this.rowClickedHandler}):Object(Oe.jsx)("p",{children:"No Data ..."})})]})})})})})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),mn=Object(c.b)((function(e){return{data:e.blast.data||[],totalData:e.blast.totalData,isLoading:e.blast.isLoading,user:e.auth.currentUser}}),(function(e){return{onLoad:function(t){e(function(e){var t=!0;return function(){var a=Object(ue.a)(be.a.mark((function a(s){return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(hn(t)),a.next=3,u.a.post(ln+"/blast_notif",e).then((function(e){var a={};a.data=e.data.data,a.total_data=e.data.total_data,s(dn(a)),s(hn(t=!1))})).catch((function(e){var a={message:"Something wrong"};a.status=e.response?e.response.status:404,s({type:M,payload:a}),s(hn(t=!1))}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t))}}}))(pn),gn=a(378),On=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).handleClose=function(){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{showConfirm:!1,errMsg:s.initValue,tujuan:""}))},s.fileHandler=function(e){if(e.target.files.length){var t=e.target.files[0],a=t.name,n=s.state.errMsg;n.file_import="","xlsx"===a.slice(a.lastIndexOf(".")+1)?(s.renderFile(t),s.setState({uploadedFileName:a,showConfirm:!1})):(n.file_import="Extension invalid",s.setState({uploadedFileName:""}))}},s.renderFile=function(e){var t=[];Object(gn.ExcelRenderer)(e,(function(e,a){e?console.log(e):(a.rows.map((function(e,a){return a>0&&(t[a]={value:e[0],label:e[1]}),t})),s.setState(Object(d.a)(Object(d.a)({},s.state),{},{multiValue:t})))}))},s.initValue={tujuan:"",member:"",id_product:"",content:"",file_import:""},s.state={isLoading:!1,appsLoading:!1,loadArea:!0,isLoadingSelected:!0,id_operator:null,id_product:null,product_name:null,errMsg:s.initValue,tujuan:"",multiValue:[],selectOptions:[],showConfirm:!1,uploadedFileName:null},s}return Object(j.a)(a,[{key:"onchangeSelect",value:function(e){this.setState({id_product:e.value,product_name:e.label,errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},{id_product:""})}),this.state.id_operator||this.setState(Object(d.a)(Object(d.a)({},this.state),{},{id_operator:this.props.user.id_operator}))}},{key:"handleChange",value:function(e){var t,a=e.target.name,s=e.target.value;"tujuan"===a&&"Pengguna tertentu"===s&&(this.setState({loadArea:!0,multiValue:[]}),this.getOptions()),"tujuan"===a&&"Semua pengguna"===s&&this.setState({multiValue:[],loadArea:!0,errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},{member:""})}),"tujuan"===a&&"Import pengguna"===s&&this.setState({showConfirm:!0,uploadedFileName:""}),this.setState((t={},Object(Q.a)(t,a,s),Object(Q.a)(t,"errMsg",Object(d.a)(Object(d.a)({},this.state.errMsg),{},Object(Q.a)({},a,""))),t)),this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"getOptions",value:function(){var e=Object(ue.a)(be.a.mark((function e(){var t,a,s,n,r=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoadingSelected:!0}),t={is_wh:1},"http://202.158.64.238/api_cni/index.php/members",e.next=5,u.a.post("http://202.158.64.238/api_cni/index.php/members",t);case 5:a=e.sent,"00"===a.data.err_code?(s=a.data.data,n=s.map((function(e){return{value:e.id_member,label:e.nama}})),setTimeout((function(){r.setState(Object(d.a)(Object(d.a)({},r.state),{},{selectOptions:n,isLoadingSelected:!1,loadArea:!1}))}),400)):setTimeout((function(){r.setState(Object(d.a)(Object(d.a)({},r.state),{},{selectOptions:null,isLoadingSelected:!0,loadArea:!0}))}),400);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleMultiChange",value:function(e){this.setState({errMsg:Object(d.a)(Object(d.a)({},this.state.errMsg),{},{member:""})}),this.setState((function(t){return{multiValue:e}}))}},{key:"handleSubmit",value:function(){var e=this.state.errMsg;this.setState(Object(d.a)(Object(d.a)({},this.state),{},{isLoading:!0})),e.tujuan=this.state.tujuan?"":"Tujuan required",e.id_product=this.state.id_product?"":"Produk required",e.content=this.state.content?"":"Pesan required",e.member="Pengguna tertentu"===this.state.tujuan&&0===this.state.multiValue.length?"Member required":"",this.setState({errors:e}),this.validateForm(this.state.errMsg)?this.handleSave():(this.setState(Object(d.a)(Object(d.a)({},this.state),{},{isLoading:!1})),console.error("Invalid Form")),this.state.id_operator||this.setState(Object(d.a)(Object(d.a)({},this.state),{},{id_operator:this.props.user.id_operator}))}},{key:"handleSave",value:function(){var e=[];Object.values(this.state.multiValue).forEach((function(t){return e.push(t.value)}));var t={id_operator:this.state.id_operator,id_product:this.state.id_product,tujuan:this.state.tujuan,content:this.state.content,id_member:e};this.props.onAdd(t)}},{key:"validateForm",value:function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t}},{key:"closeSwal",value:function(){this.props.closeSwall(),this.props.history.push("/blast")}},{key:"render",value:function(){var e=this.state.errMsg,t=Object(Oe.jsx)(ze.a,{id:"myForm",children:Object(Oe.jsxs)(ze.a.Group,{controlId:"import_pengguna",children:[Object(Oe.jsx)(ze.a.Label,{children:"File(.xlsx)"}),this.state.errMsg.file_import?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:this.state.errMsg.file_import}):"",Object(Oe.jsx)(ze.a.File,{setfieldvalue:this.state.uploadedFileName,onChange:this.fileHandler.bind(this),size:"sm",name:"import_pengguna",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",style:{color:"rgba(0, 0, 0, 0)"}}),Object(Oe.jsxs)("em",{children:["File : ",this.state.uploadedFileName?this.state.uploadedFileName:"-"]})]})});return Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Add Blast Notification"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:this.state.appsLoading?Object(Oe.jsx)(qt,{}):Object(Oe.jsx)("div",{className:"card shadow-lg",children:Object(Oe.jsxs)(ze.a,{children:[Object(Oe.jsxs)("div",{className:"card-body my-card-body",children:[Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"tujuan",children:[Object(Oe.jsx)(ze.a.Label,{children:"Tujuan"}),e.tujuan?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:e.tujuan}):"",Object(Oe.jsxs)(ze.a.Control,{name:"tujuan",size:"sm",as:"select",value:this.state.tujuan,onChange:this.handleChange.bind(this),children:[Object(Oe.jsx)("option",{value:"",children:"Select ..."}),Object(Oe.jsx)("option",{value:"Semua pengguna",children:"Semua pengguna"}),Object(Oe.jsx)("option",{value:"Pengguna tertentu",children:"Pengguna tertentu"}),Object(Oe.jsx)("option",{value:"Import pengguna",children:"Import Pengguna"})]})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"id_product",children:[Object(Oe.jsx)(ze.a.Label,{children:"Produk"}),e.id_product?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:e.id_product}):"",Object(Oe.jsx)(kt,{myVal:this.state.id_product?{value:this.state.id_product,label:this.state.product_name}:"",onChange:this.onchangeSelect.bind(this)})]})]}),Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"members",children:[Object(Oe.jsx)(ze.a.Label,{children:"Members"}),e.member&&"Pengguna tertentu"===this.state.tujuan?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:e.member}):"",Object(Oe.jsx)(Ct,{myVal:this.state.multiValue&&this.state.multiValue,getData:this.state.selectOptions,isLoading:this.state.loadArea,onChange:this.handleMultiChange.bind(this)})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,controlId:"content",children:[Object(Oe.jsx)(ze.a.Label,{children:"Pesan"}),e.content?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:e.content}):"",Object(Oe.jsx)(ze.a.Control,{as:"textarea",rows:5,name:"content",value:this.state.content,onChange:this.handleChange.bind(this)})]})]})]}),Object(Oe.jsxs)("div",{className:"card-footer",children:[Object(Oe.jsx)(ge.b,{to:"/blast",children:Object(Oe.jsx)(Ge.a,{style:{marginRight:5},variant:"danger",children:"Cancel"})}),Object(Oe.jsx)(Wt.a,{isLoading:this.state.isLoading,onClick:this.handleSubmit.bind(this),theme:"success",children:"Simpan"})]})]})})})})})}),Object(Oe.jsx)(Be.a,{show:this.state.showConfirm,size:"sm",form:t,handleClose:this.handleClose.bind(this),backdrop:"static",keyboard:!1,title:"Import",hideBtn:1}),this.props.showFormSuccess?Object(Oe.jsx)(We.a,{show:this.props.showFormSuccess,title:this.props.contentMsg,type:this.props.tipeSWAL,handleClose:this.closeSwal.bind(this)}):""]})})}}]),a}(s.Component),xn=Object(c.b)((function(e){return{showFormSuccess:e.blast.showFormSuccess,contentMsg:e.blast.contentMsg,tipeSWAL:e.blast.tipeSWAL,user:e.auth.currentUser}}),(function(e){return{onAdd:function(t){var a;e((a=t,function(){var e=Object(ue.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:C,payload:!0}),e.next=3,u.a.post(ln+"/simpan_blast",a).then((function(e){if("00"===e.data.err_code){t(bn(!1));var s={};s.showFormSuccess=!a.showFormSuccess,s.tipeSWAL="success",s.contentMsg=Object(Oe.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil disimpan</div>'}}),t(jn(s))}})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},closeSwall:function(){var t={showFormSuccess:!1,contentMsg:null};e(jn(t))}}}))(On),_n=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=Object(ue.a)(be.a.mark((function e(){var t,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=sessionStorage.getItem("idBlastCNI"),s.setState(Object(d.a)(Object(d.a)({},s.state),{},{appsLoading:!0,id_blast:t,selected:Object(d.a)(Object(d.a)({},s.state.selected),{},{id_blast:t})})),(a={}).id_blast=t,un(a,"VIEW_DETAIL").then((function(e){setTimeout((function(){"00"===e.data.err_code&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{dtRes:e.data.data,list_members:e.data.list_members})),s.setState(Object(d.a)(Object(d.a)({},s.state),{},{appsLoading:!1}))}),200)})).catch((function(e){console.log(e),s.setState(Object(d.a)(Object(d.a)({},s.state),{},{appsLoading:!1}))}));case 5:case"end":return e.stop()}}),e)}))),s.state={dtRes:{},errMsg:{},list_members:[],appsLoading:!1},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return console.log(this.state),Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Blast Notification Detail"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:this.state.appsLoading?Object(Oe.jsx)(qt,{}):Object(Oe.jsxs)("div",{className:"card shadow-lg",style:{height:"680px"},children:[Object(Oe.jsxs)("div",{className:"card-body my-card-body",children:[Object(Oe.jsx)("table",{className:"table table-condensed",children:Object(Oe.jsxs)("tbody",{children:[Object(Oe.jsx)("tr",{children:Object(Oe.jsx)("td",{style:{backgroundColor:"rgba(0,0,0,.1)",fontWeight:"bold",fontSize:"16px"},colSpan:"9",align:"center",children:"Information "})}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{width:"8%",children:Object(Oe.jsx)("strong",{children:"Tanggal"})}),Object(Oe.jsx)("td",{width:"1%",children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{width:"23%",children:Bt()(new Date(this.state.dtRes.created_at)).format("DD MMMM YYYY HH:mm")}),Object(Oe.jsx)("td",{width:"8%",children:Object(Oe.jsx)("strong",{children:"Produk"})}),Object(Oe.jsx)("td",{width:"1%",children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{width:"28%",children:this.state.dtRes.product_name}),Object(Oe.jsx)("td",{width:"12%",children:Object(Oe.jsx)("strong",{children:"Tujuan"})}),Object(Oe.jsx)("td",{width:"1%",children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{width:"17%",children:this.state.dtRes.tujuan})]}),Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:"Pesan"})}),Object(Oe.jsx)("td",{children:Object(Oe.jsx)("strong",{children:":"})}),Object(Oe.jsx)("td",{colSpan:"7",children:this.state.dtRes.content?this.state.dtRes.content:"-"})]}),Object(Oe.jsx)("tr",{children:Object(Oe.jsx)("td",{style:{backgroundColor:"rgba(0,0,0,.08)",fontWeight:"bold",fontSize:"16px"},colSpan:"9",align:"center",children:"List Members"})})]})}),Object(Oe.jsx)("div",{className:"row inbox_chat",style:{paddingTop:15},children:this.state.list_members.map((function(e,t){return Object(Oe.jsx)("div",{className:"col-md-4 col-sm-6 col-12",children:Object(Oe.jsx)("div",{className:"info-box",children:Object(Oe.jsxs)("div",{className:"info-box-content",children:[Object(Oe.jsxs)("span",{className:"info-box-text",children:["Nama : ",e.nama]}),Object(Oe.jsxs)("span",{className:"info-box-text",children:["Email : ",e.email]}),Object(Oe.jsxs)("span",{className:"info-box-text",children:["Phone : ",e.phone]}),Object(Oe.jsxs)("span",{className:"info-box-number",style:{marginTop:0},children:["CNI ID : ",e.cni_id?e.cni_id:"-"]})]})})},t)}))})]}),Object(Oe.jsx)("div",{className:"card-footer",children:Object(Oe.jsx)(ge.b,{to:"/blast",children:Object(Oe.jsx)(Ge.a,{style:{marginRight:5},variant:"danger",children:"Cancel"})})})]})})})})})]})})}}]),a}(s.Component),fn=Object(c.b)((function(e){return{user:e.auth.currentUser}}),"")(_n),vn="http://202.158.64.238/api_cni/index.php",yn=function(e){return{type:G,payload:e}},wn=function(e){return{type:B,payload:e}},kn=function(e){return{type:Y,payload:e}},Sn=function(e){return{type:L,payload:e}},Fn=function(e){return{type:U,payload:e}},Cn=function(e){return{type:M,payload:e}},Nn=a(130),Dn=a.n(Nn),An=Bt()(),Ln=function(e){return e.isBefore(An)},Mn=Dn.a.ExcelFile,In=Dn.a.ExcelFile.ExcelSheet,Tn=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).tableChangeHandler=function(e){var t=s.state;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),s.props.onLoad(s.state)},s.initSelected={status:"-1",end_date:"",start_date:"",id_operator:"",per_page:10},s.state={validSd:Ln,validEd:Ln,sort_order:"ASC",sort_column:"id_transaksi",keyword:"",page_number:1,is_cms:1,per_page:10,selected:s.initSelected,errMsg:s.initSelected,loadingForm:!1,status:"-1",end_date:"",start_date:""},s.handleChange=s.handleChange.bind(Object(zt.a)(s)),s.handleChangeStartDate=s.handleChangeStartDate.bind(Object(zt.a)(s)),s.handleChangeEndDate=s.handleChangeEndDate.bind(Object(zt.a)(s)),s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.props.onLoad(this.state),this.props.onDownload(this.state)}},{key:"handleChange",value:function(e){var t,a=e.target,s=a.name,n=a.value;this.setState(Object(d.a)(Object(d.a)({loadingForm:!1},this.state),{},(t={},Object(Q.a)(t,s,n),Object(Q.a)(t,"errMsg",Object(d.a)(Object(d.a)({},this.state.errMsg),{},Object(Q.a)({},s,""))),t))),this.state.selected.id_operator||this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})})}},{key:"handleChangeEndDate",value:function(e){if(this.setState({end_date:""}),e){var t=new Date(e),a=Bt()(t).format("YYYY-MM-DD");this.setState({end_date:a})}else this.setState({end_date:""});this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChangeStartDate",value:function(e){if(this.setState({start_date:""}),e){var t=new Date(e),a=Bt()(t).format("YYYY-MM-DD");this.setState({start_date:a})}else this.setState({start_date:""});this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"handleSubmit",value:function(){this.props.onLoad(this.state),this.props.onDownload(this.state)}},{key:"handleReset",value:function(){this.setState(Object(d.a)(Object(d.a)({},this.state),{},{start_date:"",end_date:"",status:"-1"})),this.handleChangeEndDate(""),this.handleChangeStartDate(""),this.props.onLoad(this.initSelected),this.props.onDownload(this.initSelected)}},{key:"renderView",value:function(e,t,a){var s=this;return"time"===e?t():Object(Oe.jsxs)("div",{className:"wrapper",children:[t(),Object(Oe.jsx)("div",{className:"controls",children:Object(Oe.jsx)(Ge.a,{variant:"warning",type:"button",onClick:function(){return s.clear(a)},children:"Clear"})})]})}},{key:"clear",value:function(e){"end_date"===e&&this.handleChangeEndDate(""),"start_date"===e&&this.handleChangeStartDate("")}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=[{columns:[{title:"",width:{wpx:20}},{title:"No-Order",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"akunid",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Tgl Transaksi",width:{wpx:90},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"No Cashbill",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"cb date",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Tipe Payment",width:{wpx:150},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Nomor N / Ref",width:{wpx:150},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Nama",width:{wpx:150},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"asf",width:{wpx:90},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"nsf",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Nama Konsumen",width:{wpx:150},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Status Payment",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Kode WH",width:{wpx:150},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Status Member",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Membership",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Ekspedisi",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"jpv",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"jrv",width:{wpx:80},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"jdp",width:{wpx:80},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"jpp",width:{wpx:80},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Total CB",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"pot promo",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"potecash",width:{wpx:80},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"potwallet",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"potevoucher",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"total ongkir",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"jpayment",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"fgsource",width:{wpx:90},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"payment_date",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"NO_VA",width:{wpx:150},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}}],ySteps:1,data:t.data_report.map((function(e){return[{value:""},{value:e.id_transaksi},{value:""},{value:e.created_at},{value:""},{value:""},{value:e.payment_name},{value:1===e.type_member?e.cni_id:e.cni_id_ref},{value:1===e.type_member?e.nama_member:""},{value:""},{value:""},{value:2===e.type_member?e.nama_member:"-"},{value:e.status_name},{value:null!==e.wh_name?e.wh_name:e.iddc},{value:1===e.type_member?"Yes":"No"},{value:"No"},{value:e.logistic_name?e.logistic_name:"-"},{value:e.ttl_pv?e.ttl_pv:"-",style:{alignment:{readingOrder:"2"},numFmt:"0.00"}},{value:e.ttl_rv?e.ttl_rv:"-",style:{alignment:{readingOrder:"2"},numFmt:"0,000.00"}},{value:e.jdp?e.jdp:"-",style:{alignment:{readingOrder:"2"},numFmt:"0,000.00"}},{value:e.ttl_jpp?e.ttl_jpp:"-",style:{alignment:{readingOrder:"2"},numFmt:"0,000.00"}},{value:e.ttl_cb?e.ttl_cb:"-",style:{alignment:{readingOrder:"2"},numFmt:"0,000.00"}},{value:"-"},{value:"-"},{value:e.ewallet?e.ewallet:"-",style:{alignment:{readingOrder:"2"},numFmt:"0,000.00"}},{value:"-"},{value:e.ongkir?e.ongkir:"-",style:{alignment:{readingOrder:"2"},numFmt:"0,000.00"}},{value:e.jpayment?e.jpayment:"-",style:{alignment:{readingOrder:"2"},numFmt:"0,000.00"}},{value:""},{value:e.payment_date?e.payment_date:""},{value:e.key_payment?e.key_payment:"-",style:{alignment:{readingOrder:"2"},numFmt:"0"}}]}))}],r=[{key:"id_transaksi",text:"No. Order",width:50,align:"center",sortable:!0},{key:"created_at",text:"Date",align:"center",width:100,sortable:!1,cell:function(e){return Bt()(new Date(e.created_at)).format("DD-MM-YYYY")}},{key:"",text:"No. Cashbill",width:120,align:"center",sortable:!1},{key:"payment_name",text:"Tipe Payment",width:130,align:"center",sortable:!1},{key:"cni_id",text:"No.Anggota/ Referensi",width:130,align:"center",sortable:!1,cell:function(e){return 1===e.type_member?e.cni_id:e.cni_id_ref}},{key:"nama_ref",text:"Nama Member",width:150,align:"center",sortable:!1,cell:function(e){return 1===e.type_member?e.nama_member:e.nama_ref}},{key:"nama_member",text:"Nama Konsumen",width:150,align:"center",sortable:!1,cell:function(e){return 2===e.type_member?e.nama_member:""}},{key:"",text:"Upline ID.",width:120,align:"center",sortable:!1},{key:"",text:"Nama Upline",width:150,align:"center",sortable:!1},{key:"wh_name",text:"Kode Pengiriman DC/WH",width:150,align:"center",sortable:!1,cell:function(e){return e.wh_name?e.wh_name:e.iddc}},{key:"type_member",text:"Status Member",width:80,align:"center",sortable:!1,cell:function(e){return 1===e.type_member?"Yes":"No"}},{key:"",text:"Free Membership",width:80,align:"center",sortable:!1,cell:function(e){return e.type_member,"No"}},{key:"ttl_pv",text:"Total PV",width:80,align:"center",sortable:!1,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)(It.a,{value:e.ttl_pv,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}},{key:"ttl_rv",text:"Total RV",width:80,align:"center",sortable:!1,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)(It.a,{value:e.ttl_rv,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}},{key:"ttl_disc",text:"Total DP",width:80,align:"center",sortable:!1,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)(It.a,{value:e.ttl_disc,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}}];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Report Header"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsx)("div",{className:"card card-success shadow-lg",style:{minHeight:"470px"},children:Object(Oe.jsxs)("div",{className:"card-body",children:[Object(Oe.jsxs)(ze.a,{children:[Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"start_date",children:[Object(Oe.jsx)(ze.a.Label,{children:"Start Date"}),Object(Oe.jsx)(Ut.a,{setViewDate:this.state.start_date?new Date(this.state.start_date):"",onChange:this.handleChangeStartDate,timeFormat:!1,closeOnSelect:!0,inputProps:{value:this.state.start_date?Bt()(new Date(this.state.start_date)).format("DD/MM/YYYY"):"",readOnly:!0,autoComplete:"off",placeholder:"Start Date",name:"start_date",className:"form-control form-control-sm"},renderView:function(t,a,s){return e.renderView(t,a,"start_date")},locale:"id",isValidDate:this.state.validSd})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"start_date",children:[Object(Oe.jsx)(ze.a.Label,{children:"End Date"}),Object(Oe.jsx)(Ut.a,{closeOnSelect:!0,setViewDate:this.state.end_date?new Date(this.state.end_date):new Date,onChange:this.handleChangeEndDate,timeFormat:!1,inputProps:{value:this.state.end_date?Bt()(new Date(this.state.end_date)).format("DD/MM/YYYY"):"",readOnly:!0,placeholder:"End Date",autoComplete:"off",name:"end_date",className:"form-control form-control-sm"},renderView:function(t,a){return e.renderView(t,a,"end_date")},locale:"id",isValidDate:this.state.validEd})]})]}),Object(Oe.jsx)(ze.a.Row,{children:Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:4,controlId:"status",children:[Object(Oe.jsx)(ze.a.Label,{children:"Status"}),Object(Oe.jsxs)(ze.a.Control,{name:"status",size:"sm",as:"select",value:this.state.status,onChange:this.handleChange,children:[Object(Oe.jsx)("option",{value:"-1",children:"All"}),Object(Oe.jsx)("option",{value:"0",children:"Waiting Payment"}),Object(Oe.jsx)("option",{value:"1",children:"Payment Complete"}),Object(Oe.jsx)("option",{value:"3",children:"On Process"}),Object(Oe.jsx)("option",{value:"4",children:"Dikirim"}),Object(Oe.jsx)("option",{value:"5",children:"Completed"}),Object(Oe.jsx)("option",{value:"2",children:"Expired Payment"})]})]})})]}),Object(Oe.jsx)(Wt.a,{onClick:this.handleSubmit.bind(this),isLoading:this.props.isLoading,type:"button",style:{marginRight:5},theme:"success",children:"Search"}),Object(Oe.jsx)(Wt.a,{onClick:this.handleReset.bind(this),isLoading:this.props.isLoading,type:"button",style:{marginRight:5},theme:"warning",children:"Reset"}),Object(Oe.jsx)(Mn,{filename:"Report Header",element:Object(Oe.jsx)(Wt.a,{isLoading:this.props.isLoading,type:"button",style:{marginRight:5},theme:"info",children:"Export"}),children:Object(Oe.jsx)(In,{dataSet:n,name:"Report Header"})}),Object(Oe.jsx)("hr",{}),Object(Oe.jsx)("br",{}),a?Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)("div",{style:{overflowX:"auto",paddingBlockEnd:10},children:Object(Oe.jsx)(Re.a,{className:"table table-bordered table-striped tbl_report",config:{key_column:"id_transaksi",page_size:10,length_menu:[10,20,50],show_filter:!1,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:a,columns:r,dynamic:!0,onChange:this.tableChangeHandler,loading:this.props.isLoading,total_record:this.props.totalData})})}):Object(Oe.jsx)("p",{children:"No Data ..."})]})})})})})})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),Rn=Object(c.b)((function(e){return{data:e.reports.data||[],data_report:e.reports.data_report||[],isLoading:e.reports.isLoading,error:e.reports.error||null,totalData:e.reports.totalData||0,user:e.auth.currentUser}}),(function(e){return{onLoad:function(t){e(function(e){var t=!0;return function(){var a=Object(ue.a)(be.a.mark((function a(s){return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(Sn(t)),a.next=3,u.a.post(vn+"/report",e).then((function(e){var a={};a.data=e.data.data,a.total_data=e.data.total_data,s(yn(a)),s(Sn(t=!1))})).catch((function(e){var a={message:"Something wrong"};a.status=e.response?e.response.status:404,s(Cn(a)),s(Sn(t=!1))}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t))},onDownload:function(t){e(function(e){var t=!0;return function(){var a=Object(ue.a)(be.a.mark((function a(s){return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(Sn(t)),a.next=3,u.a.post(vn+"/export_header",e).then((function(e){var a={};a.data_report=e.data.data,s(kn(a)),t=!1})).catch((function(e){var a={message:"Something wrong"};a.status=e.response?e.response.status:404,s(Cn(a)),s(Sn(t=!1))}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t))}}}))(Tn),Pn=Bt()(),En=function(e){return e.isBefore(Pn)},Hn=Dn.a.ExcelFile,zn=Dn.a.ExcelFile.ExcelSheet,Vn=function(e){Object(Le.a)(a,e);var t=Object(Me.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).tableChangeHandler=function(e){var t=s.state;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),s.props.onLoad(s.state)},s.initSelected={end_date:"",start_date:"",per_page:10,id_operator:""},s.state={validSd:En,validEd:En,sort_order:"ASC",sort_column:"id_transaksi",keyword:"",page_number:1,is_cms:1,per_page:10,selected:s.initSelected,errMsg:s.initSelected,loadingForm:!1,end_date:"",start_date:""},s.handleChange=s.handleChange.bind(Object(zt.a)(s)),s.handleChangeStartDate=s.handleChangeStartDate.bind(Object(zt.a)(s)),s.handleChangeEndDate=s.handleChangeEndDate.bind(Object(zt.a)(s)),s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.props.onLoad(this.state),this.props.onDownload(this.state)}},{key:"handleChange",value:function(e){var t,a=e.target,s=a.name,n=a.value;this.setState(Object(d.a)(Object(d.a)({loadingForm:!1},this.state),{},(t={},Object(Q.a)(t,s,n),Object(Q.a)(t,"errMsg",Object(d.a)(Object(d.a)({},this.state.errMsg),{},Object(Q.a)({},s,""))),t))),this.state.selected.id_operator||this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})})}},{key:"handleChangeEndDate",value:function(e){if(e){var t=new Date(e),a=Bt()(t).format("YYYY-MM-DD");this.setState({end_date:a})}else this.setState({end_date:""});this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChangeStartDate",value:function(e){if(e){var t=new Date(e),a=Bt()(t).format("YYYY-MM-DD");this.setState({start_date:a})}else this.setState({start_date:""});this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"handleSubmit",value:function(){this.props.onLoad(this.state),this.props.onDownload(this.state)}},{key:"handleReset",value:function(){this.handleChangeEndDate(""),this.handleChangeStartDate(""),this.props.onLoad(this.initSelected),this.props.onDownload(this.initSelected)}},{key:"renderView",value:function(e,t,a){var s=this;return"time"===e?t():Object(Oe.jsxs)("div",{className:"wrapper",children:[t(),Object(Oe.jsx)("div",{className:"controls",children:Object(Oe.jsx)(Ge.a,{variant:"warning",type:"button",onClick:function(){return s.clear(a)},children:"Clear"})})]})}},{key:"clear",value:function(e){"end_date"===e&&this.handleChangeEndDate(""),"start_date"===e&&this.handleChangeStartDate("")}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=[{columns:[{title:"",width:{wpx:20}},{title:"No",width:{wpx:40},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"NomorOrder",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"OrderDate",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"TipePayment",width:{wpx:120},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"NomorN",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"NamaMember",width:{wpx:150},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"NamaKons",width:{wpx:150},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"JasaExpedisi",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"NoVaBayar",width:{wpx:150},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"KodeWH",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Statuspayment",width:{wpx:120},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"fgsource",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"item_id",width:{wpx:120},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"quantity",width:{wpx:80},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Total PV",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Total RV",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Total DP",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Total Pajak",width:{wpx:100},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Total Transaksi Order",width:{wpx:150},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}},{title:"Member",width:{wpx:80},style:{border:{top:{style:"thin",color:"FFFFAA00"},bottom:{style:"thin",color:"FFFFAA00"},left:{style:"thin",color:"FFFFAA00"},right:{style:"thin",color:"FFFFAA00"}},fill:{patternType:"solid",fgColor:{rgb:"FFFFFF00"}},font:{bold:!0}}}],ySteps:2,data:t.data_report.map((function(e){return[{value:""},{value:e.no},{value:e.id_transaksi},{value:e.created_at},{value:e.payment_name},{value:1===e.type_member?e.cni_id:e.cni_id_ref},{value:1===e.type_member?e.nama_member:""},{value:2===e.type_member?e.nama_member:""},{value:e.logistic_name?e.logistic_name:"-"},{value:e.key_payment?e.key_payment:"-",style:{alignment:{readingOrder:"2"},numFmt:"0"}},{value:null!==e.wh_name?e.wh_name:e.iddc},{value:e.status_name},{value:""},{value:null!==e.kode_produk?e.kode_produk:""},{value:e.jml?e.jml:"-",style:{alignment:{readingOrder:"2"},numFmt:"0"}},{value:e.ttl_pv?e.ttl_pv:"-",style:{alignment:{readingOrder:"2"},numFmt:"0.00"}},{value:e.ttl_rv?e.ttl_rv:"-",style:{alignment:{readingOrder:"2"},numFmt:"0,000.00"}},{value:e.ttl_hrg_non_ppn?e.ttl_hrg_non_ppn:"-",style:{alignment:{readingOrder:"2"},numFmt:"0,000.00"}},{value:e.ttl_pajak?e.ttl_pajak:"-",style:{alignment:{readingOrder:"2"},numFmt:"0,000.00"}},{value:e.ttl_harga?e.ttl_harga:"-",style:{alignment:{readingOrder:"2"},numFmt:"0,000.00"}},{value:1===e.type_member?"Yes":"No"}]}))}],r=[{key:"no",text:"No. Order",width:80,align:"center",sortable:!1,cell:function(e){return e.id_transaksi}},{key:"created_at",text:"Date",align:"center",width:100,sortable:!0,cell:function(e){return Bt()(new Date(e.created_at)).format("DD-MM-YYYY")}},{key:"payment_name",text:"Tipe Payment",width:130,align:"center",sortable:!1},{key:"cni_id",text:"No.Anggota/ Referensi",width:130,align:"center",sortable:!1,cell:function(e){return 1===e.type_member?e.cni_id:e.cni_id_ref}},{key:"nama_ref",text:"Nama Member",width:150,align:"center",sortable:!1,cell:function(e){return 1===e.type_member?e.nama_member:e.nama_ref}},{key:"wh_name",text:"Kode Pengiriman DC/WH",width:150,align:"center",sortable:!1,cell:function(e){return e.wh_name?e.wh_name:e.iddc}},{key:"kode_produk",text:"Kode Produk",width:150,align:"center",sortable:!1},{key:"product_name",text:"Nama Produk",width:180,align:"center",sortable:!1},{key:"jml",text:"Quantity",width:80,align:"center",sortable:!1,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)(It.a,{value:e.jml,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}},{key:"ttl_pv",text:"Total PV",width:80,align:"center",sortable:!1,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)(It.a,{value:e.ttl_pv,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}},{key:"ttl_rv",text:"Total RV",width:80,align:"center",sortable:!1,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)(It.a,{value:e.ttl_rv,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}},{key:"ttl_hrg_non_ppn",text:"Total Harga Non PPN",width:100,align:"center",sortable:!1,cell:function(e){return Object(Oe.jsx)("div",{style:{textAlign:"right"},children:Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)(It.a,{value:e.ttl_hrg_non_ppn,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}}];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("div",{className:"content-header",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row mb-2",children:Object(Oe.jsx)("div",{className:"col-sm-6",children:Object(Oe.jsx)("h1",{className:"m-0",children:"Report Header"})})})})}),Object(Oe.jsx)("section",{className:"content",children:Object(Oe.jsx)("div",{className:"container-fluid",children:Object(Oe.jsx)("div",{className:"row",children:Object(Oe.jsx)("div",{className:"col-12",children:Object(Oe.jsx)("div",{className:"card card-success shadow-lg",style:{minHeight:"470px"},children:Object(Oe.jsxs)("div",{className:"card-body",children:[Object(Oe.jsx)(ze.a,{children:Object(Oe.jsxs)(ze.a.Row,{children:[Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"start_date",children:[Object(Oe.jsx)(ze.a.Label,{children:"Start Date"}),Object(Oe.jsx)(Ut.a,{setViewDate:this.state.start_date?new Date(this.state.start_date):"",onChange:this.handleChangeStartDate,timeFormat:!1,closeOnSelect:!0,inputProps:{value:this.state.start_date?Bt()(new Date(this.state.start_date)).format("DD/MM/YYYY"):"",readOnly:!0,autoComplete:"off",placeholder:"Start Date",name:"start_date",className:"form-control form-control-sm"},renderView:function(t,a,s){return e.renderView(t,a,"start_date")},locale:"id",isValidDate:this.state.validSd})]}),Object(Oe.jsxs)(ze.a.Group,{as:Ve.a,xs:2,controlId:"start_date",children:[Object(Oe.jsx)(ze.a.Label,{children:"End Date"}),Object(Oe.jsx)(Ut.a,{closeOnSelect:!0,setViewDate:this.state.end_date?new Date(this.state.end_date):new Date,onChange:this.handleChangeEndDate,timeFormat:!1,inputProps:{value:this.state.end_date?Bt()(new Date(this.state.end_date)).format("DD/MM/YYYY"):"",readOnly:!0,placeholder:"End Date",autoComplete:"off",name:"end_date",className:"form-control form-control-sm"},renderView:function(t,a){return e.renderView(t,a,"end_date")},locale:"id",isValidDate:this.state.validEd})]})]})}),Object(Oe.jsx)(Wt.a,{onClick:this.handleSubmit.bind(this),isLoading:this.props.isLoading,type:"button",style:{marginRight:5},theme:"success",children:"Search"}),Object(Oe.jsx)(Wt.a,{onClick:this.handleReset.bind(this),isLoading:this.props.isLoading,type:"button",style:{marginRight:5},theme:"warning",children:"Reset"}),Object(Oe.jsx)(Hn,{filename:"Report Detail",element:Object(Oe.jsx)(Wt.a,{isLoading:this.props.isLoading,type:"button",style:{marginRight:5},theme:"info",children:"Export"}),children:Object(Oe.jsx)(zn,{dataSet:n,name:"Report Detail Product"})}),Object(Oe.jsx)("hr",{}),Object(Oe.jsx)("br",{}),a?Object(Oe.jsx)(s.Fragment,{children:Object(Oe.jsx)("div",{style:{overflowX:"auto",paddingBlockEnd:10},children:Object(Oe.jsx)(Re.a,{className:"table table-bordered table-striped tbl_report",config:{key_column:"no",page_size:10,length_menu:[10,20,50],show_filter:!1,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:a,columns:r,dynamic:!0,onChange:this.tableChangeHandler,loading:this.props.isLoading,total_record:this.props.totalData})})}):Object(Oe.jsx)("p",{children:"No Data ..."})]})})})})})})]}),Object(Oe.jsx)("div",{})]})}}]),a}(s.Component),Gn=Object(c.b)((function(e){return{data:e.reports.data_detail||[],data_report:e.reports.data_report_detail||[],isLoading:e.reports.isLoading,error:e.reports.error||null,totalData:e.reports.totalData||0,user:e.auth.currentUser}}),(function(e){return{onLoad:function(t){e(function(e){var t=!0;return function(){var a=Object(ue.a)(be.a.mark((function a(s){return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(Sn(t)),a.next=3,u.a.post(vn+"/report_detail",e).then((function(e){var a={};a.data=e.data.data,a.total_data=e.data.total_data,s(wn(a)),s(Sn(t=!1))})).catch((function(e){var a={message:"Something wrong"};a.status=e.response?e.response.status:404,s(Cn(a)),s(Sn(t=!1))}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t))},onDownload:function(t){e(function(e){var t=!0;return function(){var a=Object(ue.a)(be.a.mark((function a(s){return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(Sn(t)),a.next=3,u.a.post(vn+"/export_detail",e).then((function(e){var a={};a.data_report=e.data.data,s(Fn(a)),t=!1})).catch((function(e){var a={message:"Something wrong"};a.status=e.response?e.response.status:404,s(Cn(a)),s(Sn(t=!1))}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t))}}}))(Vn),Bn=n.a.lazy((function(){return a.e(3).then(a.bind(null,762))})),Yn=n.a.lazy((function(){return a.e(4).then(a.bind(null,763))})),Un=Object(c.b)((function(e){return{user:e.auth.currentUser}}),(function(e){return{onUserLoad:function(t){return e({type:"LOAD_USER",currentUser:t})}}}))((function(e){var t=e.onUserLoad,a=e.user,r=Object(s.useState)(!1),i=Object(pe.a)(r,2),c=i[0],o=i[1],l=Object(s.useState)(!1),h=Object(pe.a)(l,2),j=h[0],b=h[1],u=Object(s.useState)({isMenuSidebarCollapsed:!1}),p=Object(pe.a)(u,2),m=p[0],g=p[1],O=function(){g({isMenuSidebarCollapsed:!m.isMenuSidebarCollapsed}),b(!j)};Object(s.useEffect)((function(){return o(!0),function(){var e=Object(ue.a)(be.a.mark((function e(){var a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae();case 3:a=e.sent,t(Object(d.a)({},a)),o(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()(),o(!1),function(){}}),[t]),document.getElementById("root").classList.remove("login-page"),document.getElementById("root").classList.remove("hold-transition"),document.getElementById("root").classList.add("bg-sidebar"),document.getElementById("root").className+=" sidebar-mini",m.isMenuSidebarCollapsed?(document.getElementById("root").classList.add("sidebar-collapse"),document.getElementById("root").classList.remove("sidebar-open"),document.getElementById("root").classList.add("active")):(document.getElementById("root").classList.remove("active"),document.getElementById("root").classList.add("sidebar-open"),document.getElementById("root").classList.remove("sidebar-collapse"));var x;return c?Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(xe,{toggleMenuSidebar:O}),Object(Oe.jsx)(Fe,{toggleMenuSidebar:O,menuCollapse:j}),Object(Oe.jsx)(Ie,{})]}):Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(n.a.Suspense,{fallback:Object(Oe.jsx)(Ie,{}),children:[Object(Oe.jsx)(xe,{toggleMenuSidebar:O}),Object(Oe.jsx)(Fe,{toggleMenuSidebar:O,menuCollapse:j}),Object(Oe.jsxs)(me.d,{basename:(x=window.location.pathname,x.substr(0,x.lastIndexOf("/"))),children:[Object(Oe.jsx)(me.b,{path:"/users",component:a.users_view?nt:ys}),Object(Oe.jsx)(me.b,{path:"/konsumen",component:a.konsumen_view?ct:ys}),Object(Oe.jsx)(me.b,{path:"/category",component:a.category_view?bt:ys}),Object(Oe.jsx)(me.b,{path:"/products",component:a.product_view?Ht:ys}),Object(Oe.jsx)(me.b,{path:"/banners",component:a.banners_view?Nt:ys}),Object(Oe.jsx)(me.b,{exact:!0,path:"/",component:vs}),Object(Oe.jsx)(me.b,{path:"/members",component:a.members_view?it:ys}),Object(Oe.jsx)(me.b,{path:"/setting",component:a.setting_view?pa:ys}),Object(Oe.jsx)(me.b,{path:"/add_product",component:a.product_add?ea:ys}),Object(Oe.jsx)(me.b,{path:"/edit_product",component:a.product_edit?ea:ys}),Object(Oe.jsx)(me.b,{path:"/list_img",component:ca}),Object(Oe.jsx)(me.b,{path:"/provinsi",component:a.provinsi_view?ga:ys}),Object(Oe.jsx)(me.b,{path:"/city",component:a.city_view?Bn:ys}),Object(Oe.jsx)(me.b,{path:"/kecamatan",component:a.kec_view?Yn:ys}),Object(Oe.jsx)(me.b,{path:"/warehouse",component:a.warehouse_view?_a:ys}),Object(Oe.jsx)(me.b,{path:"/waiting_payment",component:a.transaksi_view?ka:ys}),Object(Oe.jsx)(me.b,{path:"/payment",component:a.transaksi_view?Pa:ys}),Object(Oe.jsx)(me.b,{path:"/completed",component:a.transaksi_view?Ha:ys}),Object(Oe.jsx)(me.b,{path:"/onprocess",component:a.transaksi_view?ls:ys}),Object(Oe.jsx)(me.b,{path:"/dikirim",component:a.transaksi_view?hs:ys}),Object(Oe.jsx)(me.b,{path:"/expired",component:a.transaksi_view?bs:ys}),Object(Oe.jsx)(me.b,{path:"/hold",component:a.transaksi_view?ps:ys}),Object(Oe.jsx)(me.b,{path:"/trans_detail",component:a.transaksi_view?Ta:ys}),Object(Oe.jsx)(me.b,{path:"/pricelist",component:a.pricelist_view?Ja:ys}),Object(Oe.jsx)(me.b,{path:"/setting",component:a.setting_view?pa:ys}),Object(Oe.jsx)(me.b,{path:"/news",component:a.news_view?cs:ys}),Object(Oe.jsx)(me.b,{path:"/level",component:a.level_view?gs:ys}),Object(Oe.jsx)(me.b,{path:"/permission",component:a.level_view?fs:ys}),Object(Oe.jsx)(me.b,{path:"/vouchers",component:a.vouchers_view?Vs:ys}),Object(Oe.jsx)(me.b,{path:"/free_ongkir",component:a.news_view?Es:ys}),Object(Oe.jsx)(me.b,{path:"/diskon_harga",component:a.news_view?Us:ys}),Object(Oe.jsx)(me.b,{path:"/bonus_produk",component:a.news_view?$s:ys}),Object(Oe.jsx)(me.b,{path:"/detail_fo",component:a.news_view?Js:ys}),Object(Oe.jsx)(me.b,{path:"/waiting_approve",component:a.ulasan_view?tn:ys}),Object(Oe.jsx)(me.b,{path:"/approved",component:a.ulasan_view?sn:ys}),Object(Oe.jsx)(me.b,{path:"/rejected",component:a.ulasan_view?rn:ys}),Object(Oe.jsx)(me.b,{path:"/detail_ulasan",component:a.ulasan_view?on:ys}),Object(Oe.jsx)(me.b,{path:"/blast",component:mn}),Object(Oe.jsx)(me.b,{path:"/add_blast",component:xn}),Object(Oe.jsx)(me.b,{path:"/blast_detail",component:fn}),Object(Oe.jsx)(me.b,{path:"/report_header",component:Rn}),Object(Oe.jsx)(me.b,{path:"/report_detail",component:Gn})]})]})})})),Wn=function(){var e=Object(ue.a)(be.a.mark((function e(t,a){var s;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(t,a);case 2:return s=e.sent,localStorage.setItem("tokenCNI",s),document.getElementById("root").classList.remove("login-page"),document.getElementById("root").classList.remove("hold-transition"),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),qn=Object(c.b)(null,(function(e){return{onUserLogin:function(t){return e({type:"LOGIN_USER",token:t})}}}))((function(e){var t=e.onUserLogin,a=Object(s.useState)(!1),n=Object(pe.a)(a,2),r=n[0],i=n[1],c=Object(s.useState)(""),o=Object(pe.a)(c,2),l=o[0],h=o[1],j=Object(me.g)(),b=Object(Ye.a)({initialValues:{username:"",pass:""},validationSchema:Ue.a({username:Ue.b().required("Please enter username"),pass:Ue.b().required("Please provide a password")}),onSubmit:function(e){var a,s;a=e.username,s=e.pass,i(!0),h(null),Wn(a,s).then((function(e){e?(i(!1),t(e),j.push("/")):(h("Username dan Password tidak sesuai"),i(!1))})).catch((function(e){i(!1),h(e)}))}});return document.getElementById("root").classList="hold-transition login-page",Object(Oe.jsx)("div",{className:"login-box",children:Object(Oe.jsxs)("div",{className:"card card-outline card-primary",children:[Object(Oe.jsx)("div",{className:"card-header text-center h1",children:Object(Oe.jsx)("b",{children:"CNI"})}),Object(Oe.jsxs)("div",{className:"card-body",children:[l?Object(Oe.jsxs)("div",{className:"alert alert-danger alert-sm",children:[Object(Oe.jsx)("button",{onClick:function(){h(null)},type:"button",className:"close","data-dismiss":"alert","aria-hidden":"true",children:"\xd7"}),Object(Oe.jsxs)("span",{className:"fw-semi-bold text-error-login",children:["Error: ",l]})]}):Object(Oe.jsx)("p",{className:"login-box-msg",children:"Sign in to start your session"}),Object(Oe.jsxs)("form",{onSubmit:b.handleSubmit,children:[b.touched.username&&b.errors.username?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:b.errors.username}):null,Object(Oe.jsxs)("div",{className:"input-group mb-3",children:[Object(Oe.jsx)("input",Object(d.a)({autoComplete:"off",type:"text",className:"form-control",placeholder:"Username"},b.getFieldProps("username"))),Object(Oe.jsx)("div",{className:"input-group-append",children:Object(Oe.jsx)("div",{className:"input-group-text",children:Object(Oe.jsx)("span",{className:"fas fa-user"})})})]}),b.touched.pass&&b.errors.pass?Object(Oe.jsx)("span",{className:"float-right text-error badge badge-danger",children:b.errors.pass}):null,Object(Oe.jsxs)("div",{className:"input-group mb-3",children:[Object(Oe.jsx)("input",Object(d.a)({autoComplete:"off",type:"password",className:"form-control",placeholder:"Password"},b.getFieldProps("pass"))),Object(Oe.jsx)("div",{className:"input-group-append",children:Object(Oe.jsx)("div",{className:"input-group-text",children:Object(Oe.jsx)("span",{className:"fas fa-lock"})})})]}),Object(Oe.jsx)("div",{className:"social-auth-links text-center mt-2 mb-3",children:Object(Oe.jsx)(Wt.a,{block:!0,type:"submit",isLoading:r,icon:"sign",theme:"primary",children:"Sign in"})})]})]})]})})})),Kn=a(76),$n=Object(c.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn}}))((function(e){var t=e.children,a=e.isLoggedIn,s=Object(Kn.a)(e,["children","isLoggedIn"]);return Object(Oe.jsx)(me.b,Object(d.a)(Object(d.a)({},s),{},{render:function(e){var s=e.location;return a?t:Object(Oe.jsx)(me.a,{to:{pathname:"/login",state:{from:s}}})}}))})),Xn=Object(c.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn}}))((function(e){var t=e.children,a=e.isLoggedIn,s=Object(Kn.a)(e,["children","isLoggedIn"]),n=a||localStorage.getItem("tokenCNI");return console.log(s),Object(Oe.jsx)(me.b,Object(d.a)(Object(d.a)({},s),{},{render:function(e){var a=e.location;return n?Object(Oe.jsx)(me.a,{to:{pathname:"/",state:{from:a}}}):t}}))}));a(743);function Jn(){var e;return Object(Oe.jsx)(ge.a,{basename:(e=window.location.pathname,e.substr(0,e.lastIndexOf("/"))),children:Object(Oe.jsxs)(me.d,{children:[Object(Oe.jsx)(Xn,{exact:!0,path:"/login",children:Object(Oe.jsx)(qn,{})}),Object(Oe.jsx)($n,{path:"/",children:Object(Oe.jsx)(Un,{})}),Object(Oe.jsx)(me.a,{from:"*",to:"/"})]})})}var Qn=function(e){e&&e instanceof Function&&a.e(5).then(a.bind(null,764)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),r(e),i(e)}))};i.a.render(Object(Oe.jsx)(c.a,{store:he,children:Object(Oe.jsx)(Jn,{})}),document.getElementById("root")),Qn()},80:function(e,t,a){"use strict";var s=a(9),n=a(10),r=a(8),i=a.n(r),c="http://202.158.64.238/api_cni/index.php",o=function(){function e(){Object(s.a)(this,e)}return Object(n.a)(e,[{key:"postData",value:function(e,t){switch(t){case"GET_PROV":return i.a.post(c+"/provinsi",e);case"GET_CITY":return i.a.post(c+"/city",e);case"GET_KEC":return i.a.post(c+"/kecamatan",e);case"ADD_PROV":return i.a.post(c+"/simpan_provinsi",e);case"DEL_PROV":return i.a.post(c+"/del_provinsi",e);case"ADD_CITY":return i.a.post(c+"/simpan_city",e);case"DEL_CITY":return i.a.post(c+"/del_city",e);case"ADD_KEC":return i.a.post(c+"/simpan_kec",e);case"DEL_KEC":return i.a.post(c+"/del_kec",e);case"GET_WH":return i.a.post(c+"/get_warehouse",e);case"ADD_WH":return i.a.post(c+"/add_warehouse",e);case"DEL_WH":return i.a.post(c+"/del_warehouse",e);case"GET_AREA":return i.a.post(c+"/get_area",e);case"ADD_AREA":return console.log(e),console.log(t),i.a.post(c+"/assign_area",e);case"REMOVE_AREA":return i.a.post(c+"/remove_area",e);default:return i.a.post(c+"/provinsi",e)}}}]),e}();t.a=new o}},[[744,1,2]]]);