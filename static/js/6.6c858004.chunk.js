(this.webpackJsonpadmin_cni=this.webpackJsonpadmin_cni||[]).push([[6],{592:function(e,t,a){"use strict";var n=a(13),c=a(14),r=a(16),s=a.n(r),i="http://202.158.64.238//api_cni/index.php",o=function(){function e(){Object(n.a)(this,e)}return Object(c.a)(e,[{key:"postData",value:function(e,t){switch(t){case"GET_DATA":return s.a.post(i+"/product",e);case"ADD_DATA":return s.a.post(i+"/simpan_product",e);case"VIEW_DETAIL":return s.a.post(i+"/product_detail",e);case"GET_IMAGE":return s.a.post(i+"/product_img",e);case"UPLOAD_IMAGE":return s.a.post(i+"/upl_img_prod",e);case"DEL_IMAGE":return s.a.post(i+"/del_img_prod",e);case"DELETE_DATA":return s.a.post(i+"/del_product",e);case"GET_PRODUCT":return i+="/product/?per_page="+e.per_page+"&page_number="+e.page_number+"&keyword="+e.keyword,s.a.get(i+e);default:return s.a.post(i+"/product",e)}}}]),e}();t.a=new o},610:function(e,t,a){"use strict";a.r(t);var n=a(17),c=a.n(n),r=a(23),s=a(5),i=a(1),o=a(594),d=a(277),u=a(21),l=a(24),b=a(25),j=a(592),p=a(35),h=a.n(p),m=a(595),g=a(2),O=function(e){var t=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(g.jsx)("div",{style:{textAlign:"center"},children:(e.pageNumb-1)*e.pageSize+a+1+"."})},row:0},{key:"product_name",text:"Product",align:"center",sortable:!0},{key:"category_name",text:"Category",align:"center",sortable:!0},{key:"harga_member",text:"Hrg. Member",align:"center",sortable:!0,width:120,cell:function(e){return Object(g.jsx)("div",{style:{textAlign:"right"},children:Object(g.jsx)(i.Fragment,{children:Object(g.jsx)(m.a,{value:e.harga_member,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}},{key:"harga_konsumen",text:"Hrg. Konsumen",align:"center",sortable:!0,width:120,cell:function(e){return Object(g.jsx)("div",{style:{textAlign:"right"},children:Object(g.jsx)(i.Fragment,{children:Object(g.jsx)(m.a,{value:e.harga_konsumen,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}},{key:"qty",text:"Stok",align:"center",width:70,sortable:!0,cell:function(e){return Object(g.jsx)(m.a,{value:e.qty,thousandSeparator:!0,decimalScale:2,displayType:"text"})}},{key:"action",text:"Action",width:190,sortable:!1,align:"center",cell:function(t){return Object(g.jsx)("div",{style:{textAlign:"center"},children:Object(g.jsxs)(i.Fragment,{children:[Object(g.jsxs)("button",{className:"btn btn-info btn-xs",onClick:function(){return e.listImg(t)},style:{marginRight:"5px"},children:[Object(g.jsx)("i",{className:"fa fa-list"})," Image"]}),Object(g.jsxs)("button",{className:"btn btn-xs btn-success",onClick:function(){return e.editRecord(t)},style:{marginRight:"5px"},children:[Object(g.jsx)("i",{className:"fa fa-edit"})," Edit"]}),Object(g.jsxs)("button",{className:"btn btn-danger btn-xs",onClick:function(){return e.deleteRecord(t)},children:[Object(g.jsx)("i",{className:"fa fa-trash"})," Delete"]})]})})}}];return Object(g.jsx)(h.a,{config:{key_column:"id_product",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:e.records,columns:t,dynamic:!0,onChange:e.onChange,total_record:e.total_record,loading:e.loadTbl})},x=a(31),_=a(47);t.default=Object(u.b)((function(e){return{user:e.auth.currentUser}}),"")((function(e){var t=Object(i.useState)([]),a=Object(s.a)(t,2),n=a[0],u=a[1],p=Object(i.useState)(0),h=Object(s.a)(p,2),m=h[0],f=h[1],v=Object(i.useState)({id_product:""}),y=Object(s.a)(v,2),w=y[0],k=y[1],N=Object(i.useState)(1),S=Object(s.a)(N,2),A=S[0],D=S[1],I=Object(i.useState)(10),T=Object(s.a)(I,2),E=T[0],C=T[1],L=Object(i.useState)("ASC"),P=Object(s.a)(L,2),R=P[0],z=P[1],G=Object(i.useState)("product_name"),M=Object(s.a)(G,2),H=M[0],F=M[1],U=Object(i.useState)(""),q=Object(s.a)(U,2),B=q[0],J=q[1],K=Object(i.useState)(!1),V=Object(s.a)(K,2),W=V[0],Q=V[1],X=Object(i.useState)(!1),Y=Object(s.a)(X,2),Z=Y[0],$=Y[1],ee=Object(i.useState)(!0),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],ce=Object(i.useState)(!1),re=Object(s.a)(ce,2),se=re[0],ie=re[1],oe=Object(i.useState)(null),de=Object(s.a)(oe,2),ue=de[0],le=de[1],be=Object(l.g)(),je=new o.a,pe=function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return je.remove("selectedIdCNI"),je.remove("imageIdCNI"),ne(!0),t.is_cms=1,e.next=6,j.a.postData(t).then((function(e){setTimeout((function(){"00"===e.data.err_code&&(u(e.data.data),f(e.data.total_data)),"04"===e.data.err_code&&(u([]),f(0)),ne(!1)}),300)})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var t=Object(r.a)(c.a.mark((function t(){var a,n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="","-",Q(!0),r={id_product:w.id_product,id_operator:e.user.id_operator},n=Object(g.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}}),t.next=7,j.a.postData(r,"DELETE_DATA").then((function(e){a=e.data.err_code,Q(!1),"00"===a&&(le(n),$(!1),ie(!0))})).catch((function(e){Q(!1),console.log(e)}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){pe({sort_order:R,sort_column:H,keyword:B,page_number:A,per_page:E,type:1})}),[A,E,R,H,B]);var me=function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.set("selectedIdCNI",t.id_product);case 2:be.push("/edit_product");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.set("imageIdCNI",t.id_product);case 2:be.push("/list_img");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=Object(g.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>akan menghapus data ini ?</div>'}});return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"content-wrapper",children:[Object(g.jsx)("div",{className:"content-header",children:Object(g.jsx)("div",{className:"container-fluid",children:Object(g.jsx)("div",{className:"row mb-2",children:Object(g.jsx)("div",{className:"col-sm-6",children:Object(g.jsx)("h1",{className:"m-0",children:"Products"})})})})}),Object(g.jsx)("section",{className:"content",children:Object(g.jsx)("div",{className:"container-fluid",children:Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-12",children:Object(g.jsxs)("div",{className:"card card-success shadow-lg",children:[Object(g.jsx)("div",{className:"card-header",children:Object(g.jsx)(b.b,{to:"/add_product",children:Object(g.jsxs)(d.a,{variant:"success",children:[Object(g.jsx)("i",{className:"fa fa-plus"})," Add"]})})}),Object(g.jsx)("div",{className:"card-body",children:n?Object(g.jsx)(O,{records:n,onChange:function(e){Object.keys(e).map((function(t){return"sort_order"===t&&e[t]&&(z(e[t].order),F(e[t].column)),"page_number"===t&&D(e[t]),"page_size"===t&&C(e[t]),"filter_value"===t&&J(e[t]),!0}))},total_record:m,pageNumb:A,pageSize:E,loading:ae,editRecord:me,listImg:ge,deleteRecord:function(e){k(e),$(!0)}}):Object(g.jsx)("p",{children:"Loading..."})})]})})})})}),Object(g.jsx)(x.a,{show:Z,size:"sm",form:Oe,handleClose:function(){$(!1)},backdrop:"static",keyboard:!1,title:"Delete Product",titleButton:"Delete Product",themeButton:"danger",isLoading:W,formSubmit:he}),se?Object(g.jsx)(_.a,{show:se,title:ue,type:"success",handleClose:function(){ie(!1),pe({sort_order:R,sort_column:H,keyword:B,page_number:A,per_page:E})}}):""]}),Object(g.jsx)("div",{})]})}))}}]);