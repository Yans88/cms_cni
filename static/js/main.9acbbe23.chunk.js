(this.webpackJsonpadmin_cni=this.webpackJsonpadmin_cni||[]).push([[0],{34:function(e,t,a){"use strict";var n=a(3),s=a(62),c=(a(2),a(125)),r=a(63),i=a(1);t.a=function(e){e.children;var t=e.handleClose,a=e.title,o=e.isLoading,d=e.form,l=e.formSubmit,j=e.titleButton,b=e.themeButton,u=Object(s.a)(e,["children","handleClose","title","isLoading","form","formSubmit","titleButton","themeButton"]);return Object(i.jsxs)(c.a,Object(n.a)(Object(n.a)({},u),{},{onHide:t,children:[Object(i.jsx)(c.a.Header,{closeButton:!0,children:Object(i.jsx)(c.a.Title,{children:a})}),Object(i.jsx)(c.a.Body,{children:d}),Object(i.jsxs)(c.a.Footer,{children:[Object(i.jsx)(r.a,{theme:"info",onClick:t,children:"Close"}),Object(i.jsx)(r.a,{isLoading:o,theme:b,onClick:l,children:j||"Yes"})]})]}))}},341:function(e,t){},343:function(e,t){},355:function(e,t){},357:function(e,t){},384:function(e,t){},386:function(e,t){},387:function(e,t){},392:function(e,t){},394:function(e,t){},40:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(3),s=a(62),c=(a(2),a(197)),r=a.n(c),i=a(1),o=function(e){var t=e.show,a=(e.children,e.handleClose),c=e.title,o=e.type,d=e.textBody,l=(e.formSubmit,e.titleButton,e.themeButton,Object(s.a)(e,["show","children","handleClose","title","type","textBody","formSubmit","titleButton","themeButton"]));return Object(i.jsx)(r.a,Object(n.a)(Object(n.a)({},l),{},{show:t,type:o,title:c,text:d,onConfirm:a,onCancel:a,onEscapeKey:a,onOutsideClick:a}))}},413:function(e,t){},425:function(e,t){},428:function(e,t){},608:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),c=a(36),r=a.n(c),i=a(17),o=a(118),d=a(3),l=a(11),j=a(12),b=a(13),u=a.n(b),h="http://202.158.64.238/api_cni/index.php",m=new(function(){function e(){Object(l.a)(this,e)}return Object(j.a)(e,[{key:"postData",value:function(e,t){switch(t){case"GET_DATA":return u.a.post(h+"/members",e);case"VIEW_DETAIL":return u.a.post(h+"/profile_member",e);default:return u.a.post(h+"/members",e)}}}]),e}()),p="LOGIN_USER",O="LOGOUT_USER",g="LOAD_USER",x="GET_DATA",f="VIEW_DETAIL";var _=a(211),v="",y="",S="",w={isLoggedIn:!!localStorage.getItem("tokenCNI"),token:localStorage.getItem("tokenCNI"),currentUser:{id_operator:null,name:"",password:null}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return v=_.AES.decrypt(t.token,"CNI"),y=v.toString(_.enc.Utf8),S=y.split("\xde"),localStorage.setItem("tokenCNI",t.token),Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!0,token:t.token,currentUser:{id_operator:S[0],name:S[1],password:null}});case O:return localStorage.removeItem("tokenCNI"),Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!1,token:null,currentUser:{id_operator:null,name:"",password:null}});case g:return Object(d.a)(Object(d.a)({},e),{},{currentUser:t.currentUser});default:return Object(d.a)({},e)}},k={getMemberList:null,errorMessage:!1},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(d.a)(Object(d.a)({},e),{},{getMemberList:t.payload.data,errorMessage:t.payload.errorMessage});case f:return Object(d.a)(Object(d.a)({},e),{},{currentUser:t.currentUser});default:return Object(d.a)({},e)}},C=Object(o.b)({auth:N,members:D}),L=Object(o.c)(C),A=a(9),I=a.n(A),T=a(18),E=a(5),R=a(31),M=a(25),P=a(1),F=Object(i.b)((function(e){return{user:e.auth.currentUser}}),(function(e){return{onUserLogout:function(){return e({type:"LOGOUT_USER"})}}}))((function(e){var t=e.toggleMenuSidebar,a=e.user,n=e.onUserLogout,s=Object(R.g)();return Object(P.jsxs)("nav",{className:"main-header navbar navbar-expand navbar-dark navbar-info text-sm border-bottom-0",children:[Object(P.jsx)("ul",{className:"navbar-nav",children:Object(P.jsx)("li",{className:"nav-item",children:Object(P.jsx)(M.c,{to:"#",className:"nav-link",onClick:t,"data-widget":"pushmenu",role:"button",children:Object(P.jsx)("i",{className:"fas fa-bars"})})})}),Object(P.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(P.jsxs)("li",{className:"nav-item dropdown",children:[Object(P.jsxs)(M.c,{to:"#",type:"button",className:"nav-link dropdown-toggle","data-toggle":"dropdown",children:[Object(P.jsx)("i",{className:"far fa-user"})," ",a.name?a.name:"Logout"]}),Object(P.jsx)("div",{className:"dropdown-menu",children:Object(P.jsxs)(M.b,{to:"/",onClick:function(e){e.preventDefault(),n(),s.push("/login")},className:"dropdown-item",children:[Object(P.jsx)("i",{className:"fa fa-sign-out-alt"})," Logout"]})})]})})]})})),z=a(29),U=a(33),B=a(120),H=(a(458),a(46)),G=a(195),V=a(293),q=function(e){var t=e.menuCollapse,a=["products","add_product","edit_product","list_img"],s=["provinsi","city","kecamatan"],c=Object(R.h)().pathname.replace("/",""),r=Object(n.useState)({}),i=Object(E.a)(r,2),o=i[0],d=i[1],l=Object(n.useState)(!1),j=Object(E.a)(l,2),b=j[0],u=j[1],h=Object(n.useState)(!1),m=Object(E.a)(h,2),p=m[0],O=m[1],g=Object(n.useState)(!1),x=Object(E.a)(g,2),f=x[0],_=x[1],v=a.includes(c)?a[0]:c;v=s.includes(c)?s[0]:v;var y=["banners","users","setting","provinsi","city","kecamatan","warehouse"].includes(c)?"masterData":"";y=["members","konsumen"].includes(c)?"dataPelanggan":y,y=["waiting_payment","payment","completed","trans_detail"].includes(c)?"dataTrans":y,Object(n.useEffect)((function(){u((function(e){return"masterData"===y})),O((function(e){return"dataPelanggan"===y})),_((function(e){return"dataTrans"===y})),d(Object(z.a)({},v,!0))}),[v,y]);var S=function(e){return function(){u((function(t){return"masterData"===e?!t:t})),O((function(t){return"dataPelanggan"===e?!t:t})),_((function(t){return"dataTrans"===e?!t:t}))}};return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{id:"header",className:"main-sidebar",children:Object(P.jsxs)(U.c,{breakPoint:"xl",collapsed:t,children:[Object(P.jsx)(U.e,{children:Object(P.jsx)(M.b,{to:"/",className:"brand-link",children:Object(P.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Object(P.jsx)("strong",{children:t?"CNI":"Admin CNI"})})})}),Object(P.jsx)(U.d,{children:Object(P.jsxs)(U.a,{iconShape:"circle",children:[Object(P.jsxs)(U.b,{icon:Object(P.jsx)(G.a,{}),children:[Object(P.jsx)(M.c,{to:"/home"}),"Beranda"]}),Object(P.jsxs)(U.f,{title:"Data Pelanggan",onClick:S("dataPelanggan"),open:p,icon:Object(P.jsx)(H.g,{}),children:[Object(P.jsxs)(U.b,{active:o.members,style:{paddingLeft:"27px"},icon:Object(P.jsx)(H.h,{}),children:[Object(P.jsx)(M.c,{to:"/members"})," Members"]}),Object(P.jsxs)(U.b,{active:o.konsumen,style:{paddingLeft:"27px"},icon:Object(P.jsx)(H.i,{}),children:[Object(P.jsx)(M.c,{to:"/konsumen"}),"Konsumen"]})]}),Object(P.jsxs)(U.b,{active:o.category,icon:Object(P.jsx)(B.c,{}),children:[Object(P.jsx)(M.c,{to:"/category"}),"Category"]}),Object(P.jsxs)(U.b,{active:o.products,icon:Object(P.jsx)(H.e,{}),children:[Object(P.jsx)(M.c,{to:"/products"}),"Products"]}),Object(P.jsxs)(U.f,{title:"Transaksi",onClick:S("dataTrans"),open:f,icon:Object(P.jsx)(H.d,{}),children:[Object(P.jsxs)(U.b,{active:o.waiting_payment,style:{paddingLeft:"27px"},icon:Object(P.jsx)(H.c,{}),children:[Object(P.jsx)(M.c,{to:"/waiting_payment"})," Waiting Payment"]}),Object(P.jsxs)(U.b,{active:o.payment,style:{paddingLeft:"27px"},icon:Object(P.jsx)(H.b,{}),children:[Object(P.jsx)(M.c,{to:"/payment"}),"Payment Complete"]}),Object(P.jsxs)(U.b,{active:o.completed,style:{paddingLeft:"27px"},icon:Object(P.jsx)(H.a,{}),children:[Object(P.jsx)(M.c,{to:"/completed"}),"Completed"]})]}),Object(P.jsxs)(U.f,{title:"Master Data",onClick:S("masterData"),open:b,icon:Object(P.jsx)(B.b,{}),children:[Object(P.jsxs)(U.b,{style:{paddingLeft:"27px"},icon:Object(P.jsx)(H.f,{}),active:o.banners,children:[Object(P.jsx)(M.c,{to:"/banners"})," Banners"]}),Object(P.jsxs)(U.b,{style:{paddingLeft:"27px"},active:o.provinsi,icon:Object(P.jsx)(G.b,{}),children:[Object(P.jsx)(M.c,{to:"/provinsi"})," Area"]}),Object(P.jsxs)(U.b,{style:{paddingLeft:"27px"},active:o.warehouse,icon:Object(P.jsx)(V.a,{}),children:[Object(P.jsx)(M.c,{to:"/warehouse"})," Warehouse"]}),Object(P.jsxs)(U.b,{style:{paddingLeft:"27px"},active:o.users,icon:Object(P.jsx)(H.j,{}),children:[Object(P.jsx)(M.c,{to:"/users"}),"Users"]}),Object(P.jsxs)(U.b,{style:{paddingLeft:"27px"},active:o.setting,icon:Object(P.jsx)(H.l,{}),children:[Object(P.jsx)(M.c,{to:"/setting"}),"Setting"]})]})]})})]})})})},W="http://202.158.64.238/api_cni/index.php",Y=a(211),K=function(){var e=Object(T.a)(I.a.mark((function e(t,a){var n,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={username:t,pass:a},s="",e.next=4,u.a.post(W+"/login_admin",n).then((function(e){var t=e.data;if("00"===t.err_code){var a=t.data,n=a.id_admin+"\xde"+a.name+"\xde"+new Date;s=Y.AES.encrypt(n,"CNI").toString()}else s=""}));case 4:return e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(T.a)(I.a.mark((function e(){var t,a,n,s,c,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("tokenCNI"),a=Y.AES.decrypt(t,"CNI"),n=a.toString(Y.enc.Utf8),s=n.split("\xde"),c={id_operator:null,name:"",password:null},r={id_admin:s[0],cms:1},e.next=8,u.a.post(W+"/admin_detail",r).then((function(e){var t=e.data;if("00"===t.err_code){var a=t.data;c={id_operator:a.id_admin,name:a.name,password:null}}}));case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=a(20),$=a(21),X=function(e){Object(Q.a)(a,e);var t=Object($.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"content-wrapper",children:[Object(P.jsx)("div",{className:"content-header",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row mb-2",children:Object(P.jsx)("div",{className:"col-sm-6",children:Object(P.jsx)("h1",{className:"m-0",children:"Loading ...."})})})})}),Object(P.jsx)("section",{className:"content",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"col-12",children:Object(P.jsx)("div",{className:"card shadow-lg",style:{height:"450px"},children:Object(P.jsxs)("div",{className:"card-body my-card-body",children:[Object(P.jsx)("div",{id:"loader"}),"Loading ..."]})})})})})})]}),Object(P.jsx)("div",{})]})}}]),a}(n.Component),Z=a(32),ee=a.n(Z),te="http://202.158.64.238/api_cni/index.php",ae=new(function(){function e(){Object(l.a)(this,e)}return Object(j.a)(e,[{key:"postDataUsers",value:function(e,t){switch(t){case"GET_DATA":return u.a.post(te+"/admin",e);case"ADD_DATA":return u.a.post(te+"/simpan_admin",e);case"EDIT_DATA":return u.a.post(te+"/edit_admin",e);case"DELETE_DATA":return u.a.post(te+"/del_admin",e);default:return u.a.post(te+"/simpan_admin",e)}}}]),e}()),ne=a(619),se=a(295),ce=a(34),re=a(158),ie=a(74),oe=a(40),de=Object(i.b)((function(e){return{user:e.auth.currentUser}}),"")((function(e){var t={id_admin:"",username:"",pass:"",name:""},a=Object(n.useState)(t),s=Object(E.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)([]),o=Object(E.a)(i,2),l=o[0],j=o[1],b=Object(n.useState)(0),u=Object(E.a)(b,2),h=u[0],m=u[1],p=Object(n.useState)(1),O=Object(E.a)(p,2),g=O[0],x=O[1],f=Object(n.useState)(10),_=Object(E.a)(f,2),v=_[0],y=_[1],S=Object(n.useState)("ASC"),w=Object(E.a)(S,2),N=w[0],k=w[1],D=Object(n.useState)("name"),C=Object(E.a)(D,2),L=C[0],A=C[1],R=Object(n.useState)(""),M=Object(E.a)(R,2),F=M[0],z=M[1],U=Object(n.useState)(!0),B=Object(E.a)(U,2),H=B[0],G=B[1],V=Object(n.useState)(!1),q=Object(E.a)(V,2),W=q[0],Y=q[1],K=Object(n.useState)(!1),J=Object(E.a)(K,2),Q=J[0],$=J[1],X=Object(n.useState)(!1),Z=Object(E.a)(X,2),te=Z[0],de=Z[1],le=Object(n.useState)(""),je=Object(E.a)(le,2),be=je[0],ue=je[1],he=Object(n.useState)(null),me=Object(E.a)(he,2),pe=me[0],Oe=me[1],ge=Object(n.useState)(!1),xe=Object(E.a)(ge,2),fe=xe[0],_e=xe[1],ve=function(){Y(!1),de(!1)},ye=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(e,t){return(g-1)*v+t+1+"."},row:0},{key:"name",text:"Name",sortable:!0},{key:"username",text:"Username",sortable:!0},{key:"action",text:"Action",width:122,sortable:!1,cell:function(e){return Object(P.jsxs)(n.Fragment,{children:[Object(P.jsxs)("button",{className:"btn btn-xs btn-success",onClick:function(t){return Se(e)},style:{marginRight:"5px"},children:[Object(P.jsx)("i",{className:"fa fa-edit"})," Edit"]}),Object(P.jsxs)("button",{className:"btn btn-danger btn-xs",onClick:function(){return we(e)},children:[Object(P.jsx)("i",{className:"fa fa-trash"})," Delete"]})]})}}],Se=function(e){r(e),Y(!0),Oe("EDIT_DATA")},we=function(e){r(e),de(!0),Oe("DELETE_DATA")},Ne=function(e){G(!0),ae.postDataUsers(e,"GET_DATA").then((function(e){setTimeout((function(){"00"===e.data.err_code&&(j(e.data.data),m(e.data.total_data)),"04"===e.data.err_code&&(j([]),m(0)),G(!1)}),400)})).catch((function(e){console.log(e)}))},ke=function(){var t=Object(T.a)(I.a.mark((function t(a){var n,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="",s="-",$(!0),ue(null),"ADD_DATA"===pe&&(a.created_by=e.user.id_operator,s=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil ditambahkan</div>'}})),"EDIT_DATA"===pe&&(a.updated_by=e.user.id_operator,s=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong style="font-size:24px;">Success</strong>, Data berhasil diubah</div>'}})),"DELETE_DATA"===pe&&(a={},a={id_admin:c.id_admin,deleted_by:e.user.id_operator},s=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}})),t.next=9,ae.postDataUsers(a,pe).then((function(e){n=e.data.err_code,$(!1),"00"===n?(Y(!1),de(!1),ue(s),_e(!0)):ue(e.data.err_msg)})).catch((function(e){$(!1),ue(e)}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){Ne({sort_order:N,sort_column:L,keyword:F,page_number:g,per_page:v})}),[g,v,N,L,F]);var De=Object(re.a)({initialValues:c,enableReinitialize:!0,validationSchema:ie.a({name:ie.b().required("Please enter fullname"),username:ie.b().required("Please enter username"),pass:ie.b().required("Please provide a password")}),onSubmit:function(e,t){var a=t.setSubmitting,n=t.resetForm;ke(e),n({}),a(!1)},onReset:function(e,t){var a=t.setSubmitting;t.resetForm;a(!1)}}),Ce=Object(P.jsxs)(ne.a,{id:"myForm",children:[Object(P.jsx)(ne.a.Group,{controlId:"id_admin",children:Object(P.jsx)(ne.a.Control,Object(d.a)({type:"hidden"},De.getFieldProps("id_admin")))}),Object(P.jsxs)(ne.a.Group,{controlId:"fullname",children:[Object(P.jsx)(ne.a.Label,{children:"Fullname"}),De.touched.name&&De.errors.name?Object(P.jsx)("span",{className:"float-right text-error badge badge-danger",children:De.errors.name}):null,Object(P.jsx)(ne.a.Control,Object(d.a)({name:"name",size:"sm",value:"test val",type:"text",placeholder:"Fullname"},De.getFieldProps("name")))]}),Object(P.jsxs)(ne.a.Group,{controlId:"username",children:[Object(P.jsx)(ne.a.Label,{children:"Username"}),De.touched.username&&De.errors.username?Object(P.jsx)("span",{className:"float-right text-error badge badge-danger",children:De.errors.username}):null,Object(P.jsx)(ne.a.Control,Object(d.a)({size:"sm",type:"text",placeholder:"Username"},De.getFieldProps("username")))]}),Object(P.jsxs)(ne.a.Group,{controlId:"password",children:[Object(P.jsx)(ne.a.Label,{children:"Password"}),De.touched.pass&&De.errors.pass?Object(P.jsx)("span",{className:"float-right text-error badge badge-danger",children:De.errors.pass}):null,Object(P.jsx)(ne.a.Control,Object(d.a)({size:"sm",type:"text",placeholder:"Password"},De.getFieldProps("pass")))]})]}),Le=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>akan menghapus data ini ?</div>'}});return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"content-wrapper",children:[Object(P.jsx)("div",{className:"content-header",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row mb-2",children:Object(P.jsx)("div",{className:"col-sm-6",children:Object(P.jsx)("h1",{className:"m-0",children:"Dashboard"})})})})}),Object(P.jsx)("section",{className:"content",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"col-12",children:Object(P.jsxs)("div",{className:"card card-success shadow-lg",children:[Object(P.jsx)("div",{className:"card-header",children:Object(P.jsxs)(se.a,{variant:"success",onClick:function(){Oe("ADD_DATA"),r(t),De.resetForm(),Y(!0)},children:[Object(P.jsx)("i",{className:"fa fa-plus"})," Add"]})}),Object(P.jsx)("div",{className:"card-body",children:l?Object(P.jsx)(ee.a,{config:{key_column:"id_admin",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:l,columns:ye,dynamic:!0,onChange:function(e){Object.keys(e).map((function(t){return"sort_order"===t&&e[t]&&(k(e[t].order),A(e[t].column)),"page_number"===t&&x(e[t]),"page_size"===t&&y(e[t]),"filter_value"===t&&z(e[t]),!0}))},total_record:h,loading:H}):Object(P.jsx)("p",{children:"Loading..."})})]})})})})}),Object(P.jsx)(ce.a,{show:W,size:"sm",form:Ce,handleClose:ve,backdrop:"static",keyboard:!1,title:"Add/Edit User",titleButton:"Save change",themeButton:"success",isLoading:Q,formSubmit:De.handleSubmit}),fe?Object(P.jsx)(oe.a,{show:fe,title:be,type:"success",handleClose:function(){_e(!1),Ne({sort_order:N,sort_column:L,keyword:F,page_number:g,per_page:v})}}):"",Object(P.jsx)(ce.a,{show:te,size:"sm",form:Le,handleClose:ve,backdrop:"static",keyboard:!1,title:"Delete User",titleButton:"Delete User",themeButton:"danger",isLoading:Q,formSubmit:ke})]}),Object(P.jsx)("div",{})]})})),le=a(614),je=Object(i.b)((function(e){return{user:e.auth.currentUser}}),"")((function(e){var t=Object(n.useState)([]),a=Object(E.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(0),i=Object(E.a)(r,2),o=i[0],d=i[1],l=Object(n.useState)(1),j=Object(E.a)(l,2),b=j[0],u=j[1],h=Object(n.useState)(10),p=Object(E.a)(h,2),O=p[0],g=p[1],x=Object(n.useState)("ASC"),f=Object(E.a)(x,2),_=f[0],v=f[1],y=Object(n.useState)("nama"),S=Object(E.a)(y,2),w=S[0],N=S[1],k=Object(n.useState)(""),D=Object(E.a)(k,2),C=D[0],L=D[1],A=Object(n.useState)(!0),I=Object(E.a)(A,2),T=I[0],R=I[1],M=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(e,t){return Object(P.jsx)("div",{style:{textAlign:"center"},children:(b-1)*O+t+1+"."})},row:0},{key:"cni_id",text:"CNI ID",align:"center",sortable:!0,cell:function(e){return Object(P.jsxs)(n.Fragment,{children:[" ",e.cni_id," ",Object(P.jsx)("br",{}),1===e.status?Object(P.jsx)(le.a,{variant:"success",children:"Verified"}):""]})}},{key:"nama",text:"Fullname",align:"center",sortable:!0},{key:"email",text:"Contact",align:"center",sortable:!1,cell:function(e){return Object(P.jsxs)(n.Fragment,{children:[" ",e.email," ",Object(P.jsx)("br",{}),Object(P.jsx)("b",{children:"Phone"})," : ",e.phone]})}},{key:"ewallet",text:"e-Wallet",align:"center",sortable:!0},{key:"action",text:"Action",width:75,sortable:!1,align:"center",cell:function(e){return Object(P.jsx)("div",{style:{textAlign:"center"},children:Object(P.jsx)(n.Fragment,{children:Object(P.jsxs)("button",{disabled:!0,className:"btn btn-xs btn-info",onClick:function(t){return F(e)},style:{marginRight:"5px"},children:[Object(P.jsx)("i",{className:"fa fa-eye"})," View"]})})})}}];Object(n.useEffect)((function(){var e;e={sort_order:_,sort_column:w,keyword:C,page_number:b,per_page:O,type:1},R(!0),m.postData(e).then((function(e){setTimeout((function(){"00"===e.data.err_code&&(c(e.data.data),d(e.data.total_data)),"04"===e.data.err_code&&(c([]),d(0)),R(!1)}),400)})).catch((function(e){console.log(e)}))}),[b,O,_,w,C]);var F=function(e){console.log(e)};return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"content-wrapper",children:[Object(P.jsx)("div",{className:"content-header",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row mb-2",children:Object(P.jsx)("div",{className:"col-sm-6",children:Object(P.jsx)("h1",{className:"m-0",children:"Members"})})})})}),Object(P.jsx)("section",{className:"content",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"col-12",children:Object(P.jsx)("div",{className:"card card-success shadow-lg",children:Object(P.jsx)("div",{className:"card-body",children:s?Object(P.jsx)(ee.a,{config:{key_column:"id_member",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:s,columns:M,dynamic:!0,onChange:function(e){Object.keys(e).map((function(t){return"sort_order"===t&&e[t]&&(v(e[t].order),N(e[t].column)),"page_number"===t&&u(e[t]),"page_size"===t&&g(e[t]),"filter_value"===t&&L(e[t]),!0}))},total_record:o,loading:T}):Object(P.jsx)("p",{children:"Loading..."})})})})})})})]}),Object(P.jsx)("div",{})]})})),be=Object(i.b)((function(e){return{user:e.auth.currentUser}}),"")((function(e){var t=Object(n.useState)([]),a=Object(E.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(0),i=Object(E.a)(r,2),o=i[0],d=i[1],l=Object(n.useState)(1),j=Object(E.a)(l,2),b=j[0],u=j[1],h=Object(n.useState)(10),p=Object(E.a)(h,2),O=p[0],g=p[1],x=Object(n.useState)("ASC"),f=Object(E.a)(x,2),_=f[0],v=f[1],y=Object(n.useState)("nama"),S=Object(E.a)(y,2),w=S[0],N=S[1],k=Object(n.useState)(""),D=Object(E.a)(k,2),C=D[0],L=D[1],A=Object(n.useState)(!0),I=Object(E.a)(A,2),T=I[0],R=I[1],M=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(e,t){return Object(P.jsx)("div",{style:{textAlign:"center"},children:(b-1)*O+t+1+"."})},row:0},{key:"nama",text:"Fullname",align:"center",sortable:!0,cell:function(e){return Object(P.jsxs)(n.Fragment,{children:[" ",e.nama," ",Object(P.jsx)("br",{}),1===e.status?Object(P.jsx)("span",{className:"badge badge-success",children:"Verified"}):""]})}},{key:"email",text:"Email",align:"center",sortable:!0},{key:"phone",text:"Phone",align:"center",sortable:!0},{key:"action",text:"Action",width:75,sortable:!1,align:"center",cell:function(e){return Object(P.jsx)("div",{style:{textAlign:"center"},children:Object(P.jsx)(n.Fragment,{children:Object(P.jsxs)("button",{disabled:!0,className:"btn btn-xs btn-info",onClick:function(t){return F(e)},style:{marginRight:"5px"},children:[Object(P.jsx)("i",{className:"fa fa-eye"})," View"]})})})}}];Object(n.useEffect)((function(){var e;e={sort_order:_,sort_column:w,keyword:C,page_number:b,per_page:O,type:2},R(!0),m.postData(e).then((function(e){setTimeout((function(){"00"===e.data.err_code&&(c(e.data.data),d(e.data.total_data)),"04"===e.data.err_code&&(c([]),d(0)),R(!1)}),400)})).catch((function(e){console.log(e)}))}),[b,O,_,w,C]);var F=function(e){console.log(e)};return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"content-wrapper",children:[Object(P.jsx)("div",{className:"content-header",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row mb-2",children:Object(P.jsx)("div",{className:"col-sm-6",children:Object(P.jsx)("h1",{className:"m-0",children:"Konsumen"})})})})}),Object(P.jsx)("section",{className:"content",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"col-12",children:Object(P.jsx)("div",{className:"card card-success shadow-lg",children:Object(P.jsx)("div",{className:"card-body",children:s?Object(P.jsx)(ee.a,{config:{key_column:"id_member",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:s,columns:M,dynamic:!0,onChange:function(e){Object.keys(e).map((function(t){return"sort_order"===t&&e[t]&&(v(e[t].order),N(e[t].column)),"page_number"===t&&u(e[t]),"page_size"===t&&g(e[t]),"filter_value"===t&&L(e[t]),!0}))},total_record:o,loading:T}):Object(P.jsx)("p",{children:"Loading..."})})})})})})})]}),Object(P.jsx)("div",{})]})})),ue="http://202.158.64.238/api_cni/index.php",he=new(function(){function e(){Object(l.a)(this,e)}return Object(j.a)(e,[{key:"postData",value:function(e,t){switch(t){case"GET_DATA":return u.a.post(ue+"/category",e);case"ADD_DATA":case"EDIT_DATA":return u.a.post(ue+"/simpan_category",e);case"DELETE_DATA":return u.a.post(ue+"/del_category",e);default:return u.a.post(ue+"/category",e)}}}]),e}()),me=a(621),pe=a.p+"static/media/noPhoto.027652b1.jpg",Oe=Object(i.b)((function(e){return{user:e.auth.currentUser}}),"")((function(e){var t={id_category:"",category_name:"",img:"",imgUpload:""},a={img:"",category_name:""},s=Object(n.useState)(t),c=Object(E.a)(s,2),r=c[0],i=c[1],o=Object(n.useState)([]),l=Object(E.a)(o,2),j=l[0],b=l[1],u=Object(n.useState)(0),h=Object(E.a)(u,2),m=h[0],p=h[1],O=Object(n.useState)(1),g=Object(E.a)(O,2),x=g[0],f=g[1],_=Object(n.useState)(10),v=Object(E.a)(_,2),y=v[0],S=v[1],w=Object(n.useState)("ASC"),N=Object(E.a)(w,2),k=N[0],D=N[1],C=Object(n.useState)("category_name"),L=Object(E.a)(C,2),A=L[0],R=L[1],M=Object(n.useState)(""),F=Object(E.a)(M,2),U=F[0],B=F[1],H=Object(n.useState)(!0),G=Object(E.a)(H,2),V=G[0],q=G[1],W=Object(n.useState)(!1),Y=Object(E.a)(W,2),K=Y[0],J=Y[1],Q=Object(n.useState)(!1),$=Object(E.a)(Q,2),X=$[0],Z=$[1],te=Object(n.useState)(!1),ae=Object(E.a)(te,2),re=ae[0],ie=ae[1],de=Object(n.useState)(a),le=Object(E.a)(de,2),je=le[0],be=le[1],ue=Object(n.useState)(null),Oe=Object(E.a)(ue,2),ge=Oe[0],xe=Oe[1],fe=Object(n.useState)(!1),_e=Object(E.a)(fe,2),ve=_e[0],ye=_e[1],Se=function(){J(!1),ie(!1)},we=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(e,t){return Object(P.jsx)("div",{style:{textAlign:"center"},children:(x-1)*y+t+1+"."})},row:0},{key:"category_name",text:"Category",align:"center",sortable:!0},{key:"img",text:"Image",align:"center",sortable:!1,width:250,cell:function(e){return Object(P.jsx)("div",{style:{textAlign:"center"},children:Object(P.jsxs)(me.a,{children:[Object(P.jsx)(me.a.Image,{thumbnail:!0,width:150,height:120,alt:e.product_name,src:e.img?e.img:pe}),Object(P.jsx)(me.a.Caption,{children:e.product_name})]})})}},{key:"action",text:"Action",width:122,align:"center",sortable:!1,cell:function(e){return Object(P.jsxs)(n.Fragment,{children:[Object(P.jsxs)("button",{className:"btn btn-xs btn-success",onClick:function(t){return Ne(e)},style:{marginRight:"5px"},children:[Object(P.jsx)("i",{className:"fa fa-edit"})," Edit"]}),Object(P.jsxs)("button",{className:"btn btn-danger btn-xs",onClick:function(){return ke(e)},children:[Object(P.jsx)("i",{className:"fa fa-trash"})," Delete"]})]})}}],Ne=function(e){xe("EDIT_DATA"),i(Object(d.a)(Object(d.a)({},e),{},{imgUpload:e.img})),be(a),J(!0)},ke=function(e){be(a),i(e),xe("DELETE_DATA"),ie(!0)},De=function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.next=3,he.postData(t).then((function(e){setTimeout((function(){"00"===e.data.err_code&&(b(e.data.data),p(e.data.total_data)),"04"===e.data.err_code&&(b([]),p(0)),q(!1)}),400)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var t=Object(T.a)(I.a.mark((function t(n){var s,c,i;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="",c="-",Z(!0),be(a),(i=new FormData).append("id_category",n.id_category),"ADD_DATA"===ge&&(i.append("img",n.img),i.append("created_by",e.user.id_operator),i.append("category_name",n.category_name),c=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil ditambahkan</div>'}})),"EDIT_DATA"===ge&&(i.append("img",n.img),i.append("updated_by",e.user.id_operator),i.append("category_name",n.category_name),c=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong style="font-size:24px;">Success</strong>, Data berhasil diubah</div>'}})),"DELETE_DATA"===ge&&(i={},i={id_category:r.id_category,deleted_by:e.user.id_operator},c=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}})),t.next=11,he.postData(i,ge).then((function(e){s=e.data.err_code,Z(!1),"00"===s?(J(!1),ie(!1),be(c),ye(!0)):be(e.data.err_msg)})).catch((function(e){Z(!1),be(e)}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){De({sort_order:k,sort_column:A,keyword:U,page_number:x,per_page:y})}),[x,y,k,A,U]);var Le=function(e){var t=e.target,n=t.name,s=t.value;if(be(a),"img"===e.target.name){if(s=e.target.files[0],i(Object(d.a)(Object(d.a)({},r),{},{imgUpload:"",img:""})),!s)return;if(!s.name.match(/\.(jpg|jpeg|png)$/))return be({img:"Please select valid image(.jpg .jpeg .png)"}),void Z(!0);if(s.size>2099200)return be({img:"File size over 2MB"}),void Z(!0);var c=new FileReader;c.readAsDataURL(s),c.onloadend=function(){i(Object(d.a)(Object(d.a)({},r),{},{imgUpload:c.result,img:s}))}}i(Object(d.a)(Object(d.a)({},r),{},Object(z.a)({},n,s)))},Ae=Object(P.jsxs)(ne.a,{id:"myForm",children:[Object(P.jsx)(ne.a.Group,{controlId:"id_category",children:Object(P.jsx)(ne.a.Control,{type:"hidden",defaultValue:r.id_category})}),Object(P.jsxs)(ne.a.Group,{controlId:"category_name",children:[Object(P.jsx)(ne.a.Label,{children:"Category"}),je.category_name?Object(P.jsx)("span",{className:"float-right text-error badge badge-danger",children:je.category_name}):"",Object(P.jsx)(ne.a.Control,{size:"sm",name:"category_name",type:"text",value:r.category_name,onChange:Le,placeholder:"Category"})]}),Object(P.jsxs)(ne.a.Group,{controlId:"image",children:[Object(P.jsx)(ne.a.Label,{children:"Image"}),je.img?Object(P.jsx)("span",{className:"float-right text-error badge badge-danger",children:je.img}):"",Object(P.jsx)(ne.a.File,{size:"sm",name:"img",setfieldvalue:r.img,onChange:Le})]}),r.imgUpload?Object(P.jsx)(ne.a.Group,{controlId:"imagePreview",children:Object(P.jsx)(me.a,{children:Object(P.jsx)(me.a.Image,{width:130,height:100,alt:"",src:r.imgUpload})})}):""]}),Ie=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>akan menghapus data ini ?</div>'}});return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"content-wrapper",children:[Object(P.jsx)("div",{className:"content-header",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row mb-2",children:Object(P.jsx)("div",{className:"col-sm-6",children:Object(P.jsx)("h1",{className:"m-0",children:"Category"})})})})}),Object(P.jsx)("section",{className:"content",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"col-12",children:Object(P.jsxs)("div",{className:"card card-success shadow-lg",children:[Object(P.jsx)("div",{className:"card-header",children:Object(P.jsxs)(se.a,{variant:"success",onClick:function(){xe("ADD_DATA"),i(t),Z(!1),J(!0),be(a)},children:[Object(P.jsx)("i",{className:"fa fa-plus"})," Add"]})}),Object(P.jsx)("div",{className:"card-body",children:j?Object(P.jsx)(ee.a,{config:{key_column:"id_category",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:j,columns:we,dynamic:!0,onChange:function(e){Object.keys(e).map((function(t){return"sort_order"===t&&e[t]&&(D(e[t].order),R(e[t].column)),"page_number"===t&&f(e[t]),"page_size"===t&&S(e[t]),"filter_value"===t&&B(e[t]),!0}))},total_record:m,loading:V}):Object(P.jsx)("p",{children:"No Data..."})})]})})})})}),Object(P.jsx)(ce.a,{show:K,form:Ae,handleClose:Se,backdrop:"static",keyboard:!1,title:"Add/Edit Category",titleButton:"Save change",themeButton:"success",isLoading:X,formSubmit:function(){var e=r.img.size,t=null;null!==r.category_name&&""!==r.category_name||(t=Object(d.a)(Object(d.a)({},t),{},{category_name:"Please enter categoty name"})),r.img&&e>2099200&&(t=Object(d.a)(Object(d.a)({},t),{},{img:"File size over 2MB"})),be(t),t||Ce(r)}}),ve?Object(P.jsx)(oe.a,{show:ve,title:je,type:"success",handleClose:function(){ye(!1),De({sort_order:k,sort_column:A,keyword:U,page_number:x,per_page:y})}}):"",Object(P.jsx)(ce.a,{show:re,size:"sm",form:Ie,handleClose:Se,backdrop:"static",keyboard:!1,title:"Delete Category",titleButton:"Delete Category",themeButton:"danger",isLoading:X,formSubmit:Ce})]}),Object(P.jsx)("div",{})]})})),ge="http://202.158.64.238/api_cni/index.php",xe=new(function(){function e(){Object(l.a)(this,e)}return Object(j.a)(e,[{key:"postData",value:function(e,t){switch(t){case"GET_DATA":return u.a.post(ge+"/banner",e);case"ADD_DATA":case"EDIT_DATA":return u.a.post(ge+"/simpan_banner",e);case"DELETE_DATA":return u.a.post(ge+"/del_banner",e);default:return u.a.post(ge+"/banner",e)}}}]),e}()),fe=a(301),_e=a(202),ve=a(84),ye=a(309),Se=Object(ye.a)(),we=function(){return new Promise((function(e,t){setTimeout((function(){e()}),200)}))},Ne={valueContainer:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"0px 8px"})},indicatorsContainer:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"4px"})},indicatorSeparator:function(e){return Object(d.a)(Object(d.a)({},e),{},{marginBottom:"4px",marginTop:"4px"})},dropdownIndicator:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"1px"})},clearIndicator:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"1px"})},control:function(e){return Object(d.a)(Object(d.a)({},e),{},{minHeight:24,height:30})},option:function(e){return Object(d.a)(Object(d.a)({},e),{},{borderBottom:"1px dotted pink",paddingTop:5,paddingBottom:5})},noOptionsMessage:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:5})},menuList:function(e){return Object(d.a)(Object(d.a)({},e),{},{maxHeight:"185px"})}},ke={valueContainer:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"0px 8px"})},indicatorsContainer:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"4px"})},indicatorSeparator:function(e){return Object(d.a)(Object(d.a)({},e),{},{marginBottom:"4px",marginTop:"4px"})},dropdownIndicator:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"1px"})},clearIndicator:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"1px"})},control:function(e){return Object(d.a)(Object(d.a)({},e),{},{minHeight:24})},option:function(e){return Object(d.a)(Object(d.a)({},e),{},{borderBottom:"1px dotted pink",paddingTop:5,paddingBottom:5})},noOptionsMessage:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:5})},menuList:function(e){return Object(d.a)(Object(d.a)({},e),{},{maxHeight:"185px"})}},De=function(e){var t=Object(n.useState)(!0),a=Object(E.a)(t,2),s=a[0],c=a[1];return Object(P.jsx)(_e.a,{name:"id_product",isDisabled:s,loadOptions:function(e,t,a){var n=a.page,s={per_page:25,page_number:n,keyword:e};return function(e){var t="http://202.158.64.238/api_cni/index.php/product/?per_page="+e.per_page+"&page_number="+e.page_number+"&keyword="+e.keyword;return we().then((function(){return fetch(t).then((function(e){return e.json()})).then((function(e){return e}))}))}(s).then((function(e){if(c(!1),"00"===e.err_code){var t=s.page_number*s.per_page;return{options:e.data,hasMore:t<e.total_data,additional:{page:n+1}}}return{options:[{value:0,label:"No Option"}],hasMore:!1,additional:{page:n+1}}}))},defaultOptions:!0,value:e.myVal||"",onChange:e.onChange,placeholder:s?"Loading...":"Select....",styles:Ne,additional:{page:1}})},Ce=function(e){var t=Object(n.useState)(!0),a=Object(E.a)(t,2),s=a[0],c=a[1];return Object(P.jsx)(_e.a,{name:"id_category",isDisabled:s,loadOptions:function(e,t,a){var n=a.page,s={per_page:25,page_number:n,keyword:e};return function(e){var t="http://202.158.64.238/api_cni/index.php/category/?per_page="+e.per_page+"&page_number="+e.page_number+"&keyword="+e.keyword;return we().then((function(){return fetch(t).then((function(e){return e.json()})).then((function(e){return e}))}))}(s).then((function(e){if(c(!1),"00"===e.err_code){var t=s.page_number*s.per_page;return{options:e.data,hasMore:t<e.total_data,additional:{page:n+1}}}return{options:[{value:0,label:"No Option"}],hasMore:!1,additional:{page:n+1}}}))},defaultOptions:!0,value:e.myVal||"",onChange:e.onChange,placeholder:s?"Loading...":"Select....",styles:Ne,additional:{page:1}})},Le=function(e){return Object(P.jsx)(ve.a,{onChange:e.onChange,options:e.getData||[{value:0,label:"Loading..."}],placeholder:e.isLoading?"No Option...":"Select....",isDisabled:e.isLoading,styles:Ne,value:e.myVal||""})},Ae=function(e){return Object(P.jsx)(ve.a,{onChange:e.onChange,isMulti:!0,closeMenuOnSelect:!1,components:Se,options:e.getData||[{value:0,label:"Loading..."}],placeholder:e.isLoading?"No Option...":"Select....",isDisabled:e.isLoading,styles:ke,value:e.myVal||""})},Ie=Object(i.b)((function(e){return{user:e.auth.currentUser}}),"")((function(e){var t={id_banner:"",id_product:"",img:"",type:"",url:"",priority_number:"",imgUpload:""},a={img:"",priority_number:"",type:""},s=Object(n.useState)(t),c=Object(E.a)(s,2),r=c[0],i=c[1],o=Object(n.useState)([]),l=Object(E.a)(o,2),j=l[0],b=l[1],u=Object(n.useState)(0),h=Object(E.a)(u,2),m=h[0],p=h[1],O=Object(n.useState)(1),g=Object(E.a)(O,2),x=g[0],f=g[1],_=Object(n.useState)(10),v=Object(E.a)(_,2),y=v[0],S=v[1],w=Object(n.useState)("ASC"),N=Object(E.a)(w,2),k=N[0],D=N[1],C=Object(n.useState)("priority_number"),L=Object(E.a)(C,2),A=L[0],R=L[1],M=Object(n.useState)(""),F=Object(E.a)(M,2),U=F[0],B=F[1],H=Object(n.useState)(!0),G=Object(E.a)(H,2),V=G[0],q=G[1],W=Object(n.useState)(!1),Y=Object(E.a)(W,2),K=Y[0],J=Y[1],Q=Object(n.useState)(!1),$=Object(E.a)(Q,2),X=$[0],Z=$[1],te=Object(n.useState)(!1),ae=Object(E.a)(te,2),re=ae[0],ie=ae[1],de=Object(n.useState)(a),le=Object(E.a)(de,2),je=le[0],be=le[1],ue=Object(n.useState)(null),he=Object(E.a)(ue,2),pe=he[0],Oe=he[1],ge=Object(n.useState)(!1),_e=Object(E.a)(ge,2),ve=_e[0],ye=_e[1],Se=function(){J(!1),ie(!1)},we=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(e,t){return Object(P.jsx)("div",{style:{textAlign:"center"},children:(x-1)*y+t+1+"."})},row:0},{key:"priority_number",text:"Priorty",align:"center",sortable:!0},{key:"img",text:"Image",align:"center",sortable:!1,cell:function(e){return Object(P.jsx)("div",{style:{textAlign:"center"},children:Object(P.jsxs)(me.a,{children:[Object(P.jsx)(me.a.Image,{thumbnail:!0,width:150,height:120,alt:1===e.type?e.product_name:Object(P.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.url}),src:e.img}),Object(P.jsx)(me.a.Caption,{children:1===e.type?e.product_name:Object(P.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.url})})]})})}},{key:"action",text:"Action",width:170,align:"center",sortable:!1,cell:function(e){return Object(P.jsx)("div",{style:{textAlign:"center"},children:Object(P.jsxs)(n.Fragment,{children:[Object(P.jsxs)("button",{className:"btn btn-xs btn-success",onClick:function(t){return Ne(e)},style:{marginRight:"5px"},children:[Object(P.jsx)("i",{className:"fa fa-edit"})," Edit"]}),Object(P.jsxs)("button",{className:"btn btn-danger btn-xs",onClick:function(){return ke(e)},children:[Object(P.jsx)("i",{className:"fa fa-trash"})," Delete"]})]})})}}],Ne=function(e){i(Object(d.a)(Object(d.a)({},e),{},{imgUpload:e.img})),J(!0),Oe("EDIT_DATA"),be(a)},ke=function(e){i(e),ie(!0),Oe("DELETE_DATA")},Ce=function(e){q(!0),xe.postData(e).then((function(e){setTimeout((function(){"00"===e.data.err_code&&(b(e.data.data),p(e.data.total_data)),"04"===e.data.err_code&&(b([]),p(0)),q(!1)}),400)})).catch((function(e){console.log(e)}))},Le=function(){var t=Object(T.a)(I.a.mark((function t(n){var s,c,i;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="",c="-",Z(!0),be(a),(i=new FormData).append("id_banner",n.id_banner),i.append("type",n.type),i.append("priority_number",n.priority_number),1===n.type||"1"===n.type?i.append("id_product",n.id_product):i.append("id_product",""),2===n.type||"2"===n.type?i.append("url",n.url):i.append("url",""),"ADD_DATA"===pe&&(i.append("img",n.img),i.append("id_operator",e.user.id_operator),c=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil ditambahkan</div>'}})),"EDIT_DATA"===pe&&(i.append("img",n.img),i.append("id_operator",e.user.id_operator),c=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong style="font-size:24px;">Success</strong>, Data berhasil diubah</div>'}})),"DELETE_DATA"===pe&&(i={},i={id_banner:r.id_banner,id_operator:e.user.id_operator},c=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}})),t.next=15,xe.postData(i,pe).then((function(e){s=e.data.err_code,Z(!1),"06"===s&&be({priority_number:"Number already exist"}),"00"===s&&(J(!1),ie(!1),be(c),ye(!0))})).catch((function(e){Z(!1),be(e)}));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){Ce({sort_order:k,sort_column:A,keyword:U,page_number:x,per_page:y})}),[x,y,k,A,U]);var Ae=function(e){var t=e.target,n=t.name,s=t.value;if(be(a),"img"===e.target.name){if(s=e.target.files[0],i(Object(d.a)(Object(d.a)({},r),{},{imgUpload:"",img:""})),!s)return;if(!s.name.match(/\.(jpg|jpeg|png)$/))return be({img:"Please select valid image(.jpg .jpeg .png)"}),void Z(!0);if(s.size>2099200)return be({img:"File size over 2MB"}),void Z(!0);var c=new FileReader;c.readAsDataURL(s),c.onloadend=function(){i(Object(d.a)(Object(d.a)({},r),{},{imgUpload:c.result,img:s}))}}i(Object(d.a)(Object(d.a)({},r),{},Object(z.a)({},n,s)))},Ie=function(e){var t=e.target.validity.valid?e.target.value:r.priority_number;i(Object(d.a)(Object(d.a)({},r),{},{priority_number:t}))},Te=Object(P.jsxs)(ne.a,{id:"myForm",children:[Object(P.jsxs)(ne.a.Row,{children:[Object(P.jsx)(ne.a.Group,{controlId:"id_banner",children:Object(P.jsx)(ne.a.Control,{type:"hidden",defaultValue:r.id_banner})}),Object(P.jsxs)(ne.a.Group,{as:fe.a,controlId:"type",children:[Object(P.jsx)(ne.a.Label,{children:"Type"}),je.type?Object(P.jsx)("span",{className:"float-right text-error badge badge-danger",children:je.type}):"",Object(P.jsxs)(ne.a.Control,{name:"type",size:"sm",as:"select",value:r.type,onChange:Ae,children:[Object(P.jsx)("option",{value:"",children:"- Type -"}),Object(P.jsx)("option",{value:"1",children:"Product Detail"}),Object(P.jsx)("option",{value:"2",children:"Website"})]})]}),Object(P.jsxs)(ne.a.Group,{as:fe.a,controlId:"priority_number",children:[Object(P.jsx)(ne.a.Label,{children:"Priority Number"}),je.priority_number?Object(P.jsx)("span",{className:"float-right text-error badge badge-danger",children:je.priority_number}):"",Object(P.jsx)(ne.a.Control,{size:"sm",autoComplete:"off",name:"priority_number",type:"text",pattern:"[0-9]*",onInput:Ie,value:r.priority_number,onChange:Ie,placeholder:"Priority Number"})]})]}),2===r.type||"2"===r.type?Object(P.jsxs)(ne.a.Group,{controlId:"url",children:[Object(P.jsx)(ne.a.Label,{children:"URL"}),Object(P.jsx)(ne.a.Control,{autoComplete:"off",size:"sm",type:"text",name:"url",value:r.url,onChange:Ae,placeholder:"URL"})]}):"",1===r.type||"1"===r.type?Object(P.jsxs)(ne.a.Group,{controlId:"id_product",children:[Object(P.jsx)(ne.a.Label,{children:"Product"}),Object(P.jsx)(De,{myVal:r.id_product?{value:r.id_product,label:r.product_name}:"",onChange:function(e){i(Object(d.a)(Object(d.a)({},r),{},{id_product:e.value,product_name:e.label}))}})]}):"",Object(P.jsxs)(ne.a.Group,{controlId:"image",children:[Object(P.jsx)(ne.a.Label,{children:"Image"}),je.img?Object(P.jsx)("span",{className:"float-right text-error badge badge-danger",children:je.img}):null,Object(P.jsx)(ne.a.File,{size:"sm",name:"img",setfieldvalue:r.img,onChange:Ae})]}),r.imgUpload?Object(P.jsx)(ne.a.Group,{controlId:"imagePreview",children:Object(P.jsx)(me.a,{children:Object(P.jsx)(me.a.Image,{thumbnail:!0,width:130,height:100,alt:"",src:r.imgUpload})})}):""]}),Ee=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>akan menghapus data ini ?</div>'}});return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"content-wrapper",children:[Object(P.jsx)("div",{className:"content-header",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row mb-2",children:Object(P.jsx)("div",{className:"col-sm-6",children:Object(P.jsx)("h1",{className:"m-0",children:"Banner"})})})})}),Object(P.jsx)("section",{className:"content",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"col-12",children:Object(P.jsxs)("div",{className:"card card-success shadow-lg",children:[Object(P.jsx)("div",{className:"card-header",children:Object(P.jsxs)(se.a,{variant:"success",onClick:function(){Oe("ADD_DATA"),i(t),Z(!1),J(!0),be(a)},children:[Object(P.jsx)("i",{className:"fa fa-plus"})," Add"]})}),Object(P.jsx)("div",{className:"card-body",children:j?Object(P.jsx)(ee.a,{config:{key_column:"id_banner",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:j,columns:we,dynamic:!0,onChange:function(e){Object.keys(e).map((function(t){return"sort_order"===t&&e[t]&&(D(e[t].order),R(e[t].column)),"page_number"===t&&f(e[t]),"page_size"===t&&S(e[t]),"filter_value"===t&&B(e[t]),!0}))},total_record:m,loading:V}):Object(P.jsx)("p",{children:"No Data..."})})]})})})})}),Object(P.jsx)(ce.a,{show:K,form:Te,handleClose:Se,backdrop:"static",keyboard:!1,title:"Add/Edit Banner",titleButton:"Save change",themeButton:"success",isLoading:X,formSubmit:function(){var e=r.img.size,t=null;null!==r.type&&""!==r.type||(t=Object(d.a)(Object(d.a)({},t),{},{type:"Please select type"})),r.img&&e>2099200&&(t=Object(d.a)(Object(d.a)({},t),{},{img:"File size over 2MB"})),be(t),t||Le(r)}}),ve?Object(P.jsx)(oe.a,{show:ve,title:je,type:"success",handleClose:function(){ye(!1),Ce({sort_order:k,sort_column:A,keyword:U,page_number:x,per_page:y})}}):"",Object(P.jsx)(ce.a,{show:re,size:"sm",form:Ee,handleClose:Se,backdrop:"static",keyboard:!1,title:"Delete Banner",titleButton:"Delete Banner",themeButton:"danger",isLoading:X,formSubmit:Le})]}),Object(P.jsx)("div",{})]})})),Te=a(102),Ee="http://202.158.64.238/api_cni/index.php",Re=new(function(){function e(){Object(l.a)(this,e)}return Object(j.a)(e,[{key:"postData",value:function(e,t){switch(t){case"GET_DATA":return u.a.post(Ee+"/product",e);case"ADD_DATA":return u.a.post(Ee+"/simpan_product",e);case"VIEW_DETAIL":return u.a.post(Ee+"/product_detail",e);case"GET_IMAGE":return u.a.post(Ee+"/product_img",e);case"UPLOAD_IMAGE":return u.a.post(Ee+"/upl_img_prod",e);case"DEL_IMAGE":return u.a.post(Ee+"/del_img_prod",e);case"DELETE_DATA":return u.a.post(Ee+"/del_product",e);case"GET_PRODUCT":return Ee+="/product/?per_page="+e.per_page+"&page_number="+e.page_number+"&keyword="+e.keyword,u.a.get(Ee+e);default:return u.a.post(Ee+"/product",e)}}}]),e}()),Me=a(30),Pe=function(e){var t=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(P.jsx)("div",{style:{textAlign:"center"},children:(e.pageNumb-1)*e.pageSize+a+1+"."})},row:0},{key:"product_name",text:"Product",align:"center",sortable:!0},{key:"category_name",text:"Category",align:"center",sortable:!0},{key:"harga_member",text:"Hrg. Member",align:"center",sortable:!0,width:120,cell:function(e){return Object(P.jsx)("div",{style:{textAlign:"right"},children:Object(P.jsx)(n.Fragment,{children:Object(P.jsx)(Me.a,{value:e.harga_member,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}},{key:"harga_konsumen",text:"Hrg. Konsumen",align:"center",sortable:!0,width:120,cell:function(e){return Object(P.jsx)("div",{style:{textAlign:"right"},children:Object(P.jsx)(n.Fragment,{children:Object(P.jsx)(Me.a,{value:e.harga_konsumen,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}},{key:"qty",text:"Stok",align:"center",width:70,sortable:!0,cell:function(e){return Object(P.jsx)(Me.a,{value:e.qty,thousandSeparator:!0,decimalScale:2,displayType:"text"})}},{key:"action",text:"Action",width:190,sortable:!1,align:"center",cell:function(t){return Object(P.jsx)("div",{style:{textAlign:"center"},children:Object(P.jsxs)(n.Fragment,{children:[Object(P.jsxs)("button",{className:"btn btn-info btn-xs",onClick:function(){return e.listImg(t)},style:{marginRight:"5px"},children:[Object(P.jsx)("i",{className:"fa fa-list"})," Image"]}),Object(P.jsxs)("button",{className:"btn btn-xs btn-success",onClick:function(){return e.editRecord(t)},style:{marginRight:"5px"},children:[Object(P.jsx)("i",{className:"fa fa-edit"})," Edit"]}),Object(P.jsxs)("button",{className:"btn btn-danger btn-xs",onClick:function(){return e.deleteRecord(t)},children:[Object(P.jsx)("i",{className:"fa fa-trash"})," Delete"]})]})})}}];return Object(P.jsx)(ee.a,{config:{key_column:"id_product",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:e.records,columns:t,dynamic:!0,onChange:e.onChange,total_record:e.total_record,loading:e.loadTbl})},Fe=Object(i.b)((function(e){return{user:e.auth.currentUser}}),"")((function(e){var t=Object(n.useState)([]),a=Object(E.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(0),i=Object(E.a)(r,2),o=i[0],d=i[1],l=Object(n.useState)({id_product:""}),j=Object(E.a)(l,2),b=j[0],u=j[1],h=Object(n.useState)(1),m=Object(E.a)(h,2),p=m[0],O=m[1],g=Object(n.useState)(10),x=Object(E.a)(g,2),f=x[0],_=x[1],v=Object(n.useState)("ASC"),y=Object(E.a)(v,2),S=y[0],w=y[1],N=Object(n.useState)("product_name"),k=Object(E.a)(N,2),D=k[0],C=k[1],L=Object(n.useState)(""),A=Object(E.a)(L,2),F=A[0],z=A[1],U=Object(n.useState)(!1),B=Object(E.a)(U,2),H=B[0],G=B[1],V=Object(n.useState)(!1),q=Object(E.a)(V,2),W=q[0],Y=q[1],K=Object(n.useState)(!0),J=Object(E.a)(K,2),Q=J[0],$=J[1],X=Object(n.useState)(!1),Z=Object(E.a)(X,2),ee=Z[0],te=Z[1],ae=Object(n.useState)(null),ne=Object(E.a)(ae,2),re=ne[0],ie=ne[1],de=Object(R.g)(),le=new Te.a,je=function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le.remove("selectedIdCNI"),le.remove("imageIdCNI"),$(!0),t.is_cms=1,e.next=6,Re.postData(t).then((function(e){setTimeout((function(){"00"===e.data.err_code&&(c(e.data.data),d(e.data.total_data)),"04"===e.data.err_code&&(c([]),d(0)),$(!1)}),300)})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var t=Object(T.a)(I.a.mark((function t(){var a,n,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="","-",G(!0),s={id_product:b.id_product,id_operator:e.user.id_operator},n=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}}),t.next=7,Re.postData(s,"DELETE_DATA").then((function(e){a=e.data.err_code,G(!1),"00"===a&&(ie(n),Y(!1),te(!0))})).catch((function(e){G(!1),console.log(e)}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){var e={sort_order:S,sort_column:D,keyword:F,page_number:p,per_page:f,type:1};(function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),t.is_cms=1,e.next=4,Re.postData(t).then((function(e){setTimeout((function(){"00"===e.data.err_code&&(c(e.data.data),d(e.data.total_data)),"04"===e.data.err_code&&(c([]),d(0)),$(!1)}),300)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(e)}),[p,f,S,D,F]);var ue=function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.set("selectedIdCNI",t.id_product);case 2:de.push("/edit_product");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.set("imageIdCNI",t.id_product);case 2:de.push("/list_img");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>akan menghapus data ini ?</div>'}});return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"content-wrapper",children:[Object(P.jsx)("div",{className:"content-header",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row mb-2",children:Object(P.jsx)("div",{className:"col-sm-6",children:Object(P.jsx)("h1",{className:"m-0",children:"Products"})})})})}),Object(P.jsx)("section",{className:"content",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"col-12",children:Object(P.jsxs)("div",{className:"card card-success shadow-lg",children:[Object(P.jsx)("div",{className:"card-header",children:Object(P.jsx)(M.b,{to:"/add_product",children:Object(P.jsxs)(se.a,{variant:"success",children:[Object(P.jsx)("i",{className:"fa fa-plus"})," Add"]})})}),Object(P.jsx)("div",{className:"card-body",children:s?Object(P.jsx)(Pe,{records:s,onChange:function(e){Object.keys(e).map((function(t){return"sort_order"===t&&e[t]&&(w(e[t].order),C(e[t].column)),"page_number"===t&&O(e[t]),"page_size"===t&&_(e[t]),"filter_value"===t&&z(e[t]),!0}))},total_record:o,pageNumb:p,pageSize:f,loading:Q,editRecord:ue,listImg:he,deleteRecord:function(e){u(e),Y(!0)}}):Object(P.jsx)("p",{children:"Loading..."})})]})})})})}),Object(P.jsx)(ce.a,{show:W,size:"sm",form:me,handleClose:function(){Y(!1)},backdrop:"static",keyboard:!1,title:"Delete Product",titleButton:"Delete Product",themeButton:"danger",isLoading:H,formSubmit:be}),ee?Object(P.jsx)(oe.a,{show:ee,title:re,type:"success",handleClose:function(){te(!1),je({sort_order:S,sort_column:D,keyword:F,page_number:p,per_page:f})}}):""]}),Object(P.jsx)("div",{})]})})),ze=a(26),Ue=a(615),Be=a(44),He=a.n(Be),Ge=(a(116),a(201)),Ve=a.n(Ge),qe=(a(603),a(63)),We=function(e){Object(Q.a)(a,e);var t=Object($.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(P.jsx)("div",{children:Object(P.jsx)("div",{className:"card shadow-lg",style:{height:"450px"},children:Object(P.jsxs)("div",{className:"card-body my-card-body",children:[Object(P.jsx)("div",{id:"loader"}),"Loading ..."]})})})}}]),a}(n.Component),Ye=a(306),Ke=a.n(Ye),Je=(a(605),new Te.a),Qe=He()().subtract(1,"day"),$e=function(e){return e.isAfter(Qe)},Xe=function(e){Object(Q.a)(a,e);var t=Object($.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getData=Object(T.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({appsLoading:!0,isLoading:!0}),t=Je.get("selectedIdCNI"),a={id_product:t},e.next=5,Re.postData(a,"VIEW_DETAIL").then((function(e){if("00"===e.data.err_code){var t=e.data.data;Object.keys(n.initialState).map((function(e){return n.setState(Object(z.a)({},e,t[e])),n.setState({imgUpload:t.img}),n.setState({img:""}),n.setState({isLoading:!1,appsLoading:!1}),1}))}"04"===e.data.err_code&&n.setState({isLoading:!1})})).catch((function(e){console.log(e),n.setState({isLoading:!1})}));case 5:case"end":return e.stop()}}),e)}))),n.initialState={id_product:"",product_name:"",id_category:"",category_name:"",deskripsi:"",berat:"",kondisi:"",min_pembelian:"",video_url:"",img:"",imgUpload:"",short_description:"",qty:"",special_promo:"",start_date:"",end_date:"",id_operator:""},n.state={validSd:$e,validEd:$e,isLoading:!1,showSwalSuccess:!1,errMsg:n.initialState,validated:!1,isEdit:!1,appsLoading:!1,id_product:"",product_name:"",id_category:"",category_name:"",deskripsi:"",berat:"",kondisi:"",min_pembelian:"",video_url:"",img:"",imgUpload:pe,short_description:"",qty:"",special_promo:"",start_date:"",end_date:"",id_operator:"",test:"Halo"},n.handleSubmit=n.handleSubmit.bind(Object(ze.a)(n)),n.handleChange=n.handleChange.bind(Object(ze.a)(n)),n.onchangeSelect=n.onchangeSelect.bind(Object(ze.a)(n)),n.handleChangeStartDate=n.handleChangeStartDate.bind(Object(ze.a)(n)),n.handleChangeEndDate=n.handleChangeEndDate.bind(Object(ze.a)(n)),n.handleChangeDesk=n.handleChangeDesk.bind(Object(ze.a)(n)),n.closeSwal=n.closeSwal.bind(Object(ze.a)(n)),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname.replace("/",""),t=Je.get("selectedIdCNI");"edit_product"===e&&(t>0||!t)&&(this.setState({isEdit:!0}),this.getData()),this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChangeStartDate",value:function(e){if(e){var t=new Date(e),a=He()(t).format("YYYY-MM-DD HH:mm");this.setState({start_date:a})}else this.setState({start_date:""});this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChangeEndDate",value:function(e){if(e){var t=new Date(e),a=He()(t).format("YYYY-MM-DD HH:mm");this.setState({end_date:a})}else this.setState({end_date:""});this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChange",value:function(e){var t=this,a=e.target.name,n=e.target.value;if(this.setState({isLoading:!1}),this.setState({errMsg:{img:""}}),"img"===e.target.name){if(n=e.target.files[0],this.setState({img:""}),!n)return;if(!n.name.match(/\.(jpg|jpeg|png)$/))return this.setState({errMsg:{img:"Extension Invalid"}}),void this.setState({isLoading:!0});if(n.size>2099200)return this.setState({errMsg:{img:"File size over 2MB"}}),void this.setState({isLoading:!0});var s=new FileReader;s.readAsDataURL(n),s.onloadend=function(){t.setState({img:n,imgUpload:s.result})}}"special_promo"===a&&(n=e.target.checked?1:0),this.setState(Object(z.a)({},a,n)),this.state.id_operator||this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChangeDesk",value:function(e){this.setState(Object(d.a)(Object(d.a)({},this.state),{},{deskripsi:e})),this.state.id_operator||this.setState(Object(d.a)(Object(d.a)({},this.state),{},{id_operator:this.props.user.id_operator}))}},{key:"onchangeSelect",value:function(e){this.setState({id_category:e.value,category_name:e.label}),this.state.id_operator||this.setState(Object(d.a)(Object(d.a)({},this.state),{},{id_operator:this.props.user.id_operator}))}},{key:"handleSubmit",value:function(e){var t=this,a=e.currentTarget;this.setState({isLoading:!0});var n=!1;if(!1===a.checkValidity()&&(this.setState({isLoading:!1}),this.state.id_category||this.setState(Object(d.a)(Object(d.a)({},this),{},{errMsg:Object(d.a)(Object(d.a)({},this),{},{id_category:"Required"})})),n=!0,e.preventDefault(),e.stopPropagation()),this.state.id_category||this.setState(Object(d.a)(Object(d.a)({},this),{},{errMsg:Object(d.a)(Object(d.a)({},this),{},{id_category:"Required"})})),this.state.id_category||(n=!0,this.setState({isLoading:!1}),e.preventDefault(),e.stopPropagation()),this.setState({validated:!0}),!n){var s=new FormData;Object.keys(this.initialState).map((function(e){return s.append(e,t.state[e]),1})),s.append("id_operator",this.props.user.id_operator),Re.postData(s,"ADD_DATA").then((function(e){"00"===e.data.err_code?t.setState({showSwalSuccess:!0}):console.log(e.data)})).catch((function(a){e.preventDefault(),e.stopPropagation(),t.setState({isLoading:!0,validated:!1})}))}e.preventDefault(),e.stopPropagation()}},{key:"closeSwal",value:function(){var e=this;this.setState({showSwalSuccess:!1}),Object.keys(this.initialState).map((function(t){return e.setState(Object(z.a)({},t,"")),e.setState({isLoading:!1}),1})),this.props.history.push("/products")}},{key:"renderView",value:function(e,t,a){var n=this;return"time"===e?t():Object(P.jsxs)("div",{className:"wrapper",children:[t(),Object(P.jsx)("div",{className:"controls",children:Object(P.jsx)(se.a,{variant:"warning",type:"button",onClick:function(){return n.clear(a)},children:"Clear"})})]})}},{key:"clear",value:function(e){"end_date"===e&&this.handleChangeEndDate(),"start_date"===e&&this.handleChangeStartDate()}},{key:"render",value:function(){var e=this,t=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil disimpan</div>'}});return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"content-wrapper",children:[Object(P.jsx)("div",{className:"content-header",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row mb-2",children:Object(P.jsx)("div",{className:"col-sm-6",children:Object(P.jsx)("h1",{className:"m-0",children:this.state.isEdit?"Edit Product":"Add Product"})})})})}),Object(P.jsx)("section",{className:"content",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"col-12",children:this.state.appsLoading?Object(P.jsx)(We,{}):Object(P.jsx)("div",{className:"card shadow-lg",children:Object(P.jsxs)(ne.a,{noValidate:!0,validated:this.state.validated,onSubmit:this.handleSubmit,children:[Object(P.jsxs)("div",{className:"card-body my-card-body",children:[Object(P.jsxs)(ne.a.Row,{children:[Object(P.jsxs)(ne.a.Group,{as:fe.a,controlId:"product_name",children:[Object(P.jsx)(ne.a.Label,{children:"Product Name"}),Object(P.jsx)(ne.a.Control,{value:this.state.product_name,autoComplete:"off",onChange:this.handleChange,size:"sm",name:"product_name",type:"text",required:!0,placeholder:"Product Name"}),Object(P.jsx)(ne.a.Control.Feedback,{type:"invalid",children:Object(P.jsx)("span",{className:"badge badge-danger",children:"Product Name is Required"})})]}),Object(P.jsxs)(ne.a.Group,{as:fe.a,xs:2,controlId:"berat",children:[Object(P.jsx)(ne.a.Label,{children:"Weight(Gram)"}),Object(P.jsx)(Me.a,{name:"berat",onChange:this.handleChange,className:"form-control form-control-sm",value:this.state.berat,thousandSeparator:!0,decimalScale:2,inputMode:"numeric",required:!0,autoComplete:"off",placeholder:"Weight(Gram)"}),Object(P.jsx)(ne.a.Control.Feedback,{type:"invalid",children:Object(P.jsx)("span",{className:"badge badge-danger",children:"Weight is Required"})})]}),Object(P.jsxs)(ne.a.Group,{as:fe.a,xs:2,controlId:"qty",children:[Object(P.jsx)(ne.a.Label,{children:"Quantity"}),Object(P.jsx)(Me.a,{onChange:this.handleChange,name:"qty",className:"form-control form-control-sm",value:this.state.qty?this.state.qty:0,thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"Quantity"})]}),Object(P.jsxs)(ne.a.Group,{as:fe.a,xs:2,controlId:"min_pembelian",children:[Object(P.jsx)(ne.a.Label,{children:"Min. Pembelian"}),Object(P.jsx)(Me.a,{onChange:this.handleChange,name:"min_pembelian",className:"form-control form-control-sm",value:this.state.min_pembelian?this.state.min_pembelian:"",thousandSeparator:!0,decimalScale:2,inputMode:"numeric",autoComplete:"off",placeholder:"Min. Pembelian"})]})]}),Object(P.jsxs)(ne.a.Row,{children:[Object(P.jsxs)(ne.a.Group,{as:fe.a,xs:3,controlId:"category",children:[Object(P.jsx)(ne.a.Label,{children:"Category"}),Object(P.jsx)(Ce,{myVal:this.state.id_category?{value:this.state.id_category,label:this.state.category_name}:"",onChange:this.onchangeSelect}),this.state.errMsg.id_category?Object(P.jsx)("span",{className:"text-error badge badge-danger",children:this.state.errMsg.id_category}):""]}),Object(P.jsxs)(ne.a.Group,{as:fe.a,xs:3,controlId:"kondisi",children:[Object(P.jsx)(ne.a.Label,{children:"Kondisi"}),Object(P.jsx)(ne.a.Control,{value:this.state.kondisi?this.state.kondisi:"",onChange:this.handleChange,size:"sm",name:"kondisi",type:"text",autoComplete:"off",placeholder:"Kondisi"})]}),Object(P.jsxs)(ne.a.Group,{as:fe.a,xs:2,controlId:"start_date",children:[Object(P.jsx)(ne.a.Label,{children:"Start Date"}),Object(P.jsx)(Ve.a,{setViewDate:this.state.start_date?new Date(this.state.start_date):new Date,value:this.state.start_date?new Date(this.state.start_date):"",onChange:this.handleChangeStartDate,inputProps:{readOnly:!0,autoComplete:"off",placeholder:"Start Date",name:"start_date",className:"form-control form-control-sm"},renderView:function(t,a,n){return e.renderView(t,a,"start_date")},locale:"id",isValidDate:this.state.validSd})]}),Object(P.jsxs)(ne.a.Group,{as:fe.a,xs:2,controlId:"end_date",children:[Object(P.jsx)(ne.a.Label,{children:"End Date"}),Object(P.jsx)(Ve.a,{setViewDate:this.state.end_date?new Date(this.state.end_date):new Date,value:this.state.end_date?new Date(this.state.end_date):"",onChange:this.handleChangeEndDate,inputProps:{readOnly:!0,placeholder:"End Date",autoComplete:"off",name:"end_date",className:"form-control form-control-sm"},renderView:function(t,a){return e.renderView(t,a,"end_date")},locale:"id",isValidDate:this.state.validEd})]}),Object(P.jsxs)(ne.a.Group,{as:fe.a,xs:2,controlId:"special_promo",children:[Object(P.jsx)(ne.a.Label,{children:"Special Promo"}),Object(P.jsx)(Ue.a,{children:Object(P.jsx)(fe.a,{xs:{span:1,offset:3},children:Object(P.jsx)(ne.a.Check,{onChange:this.handleChange,checked:this.state.special_promo>0?"checked":"",label:this.state.special_promo>0?"Yes":"No",type:"switch",name:"special_promo",custom:!0})})})]})]}),Object(P.jsxs)(ne.a.Row,{children:[Object(P.jsxs)(ne.a.Group,{as:fe.a,controlId:"short_description",children:[Object(P.jsx)(ne.a.Label,{children:"Short Description"}),Object(P.jsx)(ne.a.Control,{required:!0,value:this.state.short_description?this.state.short_description:"",onChange:this.handleChange,size:"sm",name:"short_description",type:"text",autoComplete:"off",placeholder:"Short Description"}),Object(P.jsx)(ne.a.Control.Feedback,{type:"invalid",children:Object(P.jsx)("span",{className:"badge badge-danger",children:"Short Description is Required"})})]}),Object(P.jsxs)(ne.a.Group,{as:fe.a,controlId:"video_url",children:[Object(P.jsx)(ne.a.Label,{children:"URL Video"}),Object(P.jsx)(ne.a.Control,{value:this.state.video_url?this.state.video_url:"",onChange:this.handleChange,size:"sm",name:"video_url",type:"text",autoComplete:"off",placeholder:"URL Video"})]})]}),Object(P.jsxs)(ne.a.Row,{children:[Object(P.jsxs)(ne.a.Group,{as:fe.a,controlId:"deskripsi",children:[Object(P.jsx)(ne.a.Label,{children:"Description"}),Object(P.jsx)(Ke.a,{defaultValue:this.state.deskripsi,setContents:this.state.deskripsi,onChange:this.handleChangeDesk,setOptions:{placeholder:"Description ...",maxHeight:200,height:200,buttonList:[["fontSize","formatBlock","bold","underline","italic","align","horizontalRule","list","lineHeight","link","strike","subscript","superscript","codeView","undo","redo","fontColor","hiliteColor","textStyle","paragraphStyle","blockquote","removeFormat"]]}})]}),Object(P.jsxs)(ne.a.Group,{as:fe.a,xs:2,controlId:"img",children:[Object(P.jsx)(ne.a.Label,{children:"Image"}),this.state.errMsg.img?Object(P.jsx)("span",{className:"float-right text-error badge badge-danger",children:this.state.errMsg.img}):"",Object(P.jsx)(ne.a.File,{setfieldvalue:this.state.img,onChange:this.handleChange,size:"sm",name:"img",style:{color:"rgba(0, 0, 0, 0)"}}),Object(P.jsx)(ne.a.Text,{className:"text-muted",children:Object(P.jsxs)("em",{children:["- Images *.jpg, *.jpeg, *.png ",Object(P.jsx)("br",{}),"- Maks. Size 2MB"]})})]}),Object(P.jsxs)(ne.a.Group,{as:fe.a,xs:2,controlId:"imagePreview",children:[Object(P.jsx)(ne.a.Label,{style:{color:"rgba(0, 0, 0, 0)"},children:"-----"}),Object(P.jsx)(me.a,{children:Object(P.jsx)(me.a.Image,{thumbnail:!0,width:130,height:100,alt:"",src:this.state.imgUpload})})]})]})]}),Object(P.jsxs)("div",{className:"card-footer",children:[Object(P.jsxs)(M.b,{to:"/products",children:[Object(P.jsx)(se.a,{variant:"danger",children:"Cancel"})," "]}),Object(P.jsx)(qe.a,{isLoading:this.state.isLoading,type:"submit",theme:"success",children:"Simpan"})]})]})})})})})}),this.state.showSwalSuccess?Object(P.jsx)(oe.a,{show:this.state.showSwalSuccess,title:t,type:"success",handleClose:this.closeSwal}):""]}),Object(P.jsx)("div",{})]})}}]),a}(n.Component),Ze=Object(i.b)((function(e){return{user:e.auth.currentUser}}),"")(Xe),et=a(616),tt=a(620),at=a(198),nt=a(308),st=new Te.a,ct=function(e){Object(Q.a)(a,e);var t=Object($.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getData=Object(T.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=st.get("imageIdCNI"),a={id_product:t},n.setState(a),e.next=5,Re.postData(a,"GET_IMAGE").then((function(e){if("00"===e.data.err_code){var t=e.data.data;n.setState({dtImg:t,appsLoading:!1})}"04"===e.data.err_code&&n.setState({isLoading:!1,dtImg:[]})})).catch((function(e){console.log(e),n.setState({isLoading:!1,dtImg:[]})}));case 5:case"end":return e.stop()}}),e)}))),n.getDataProduct=Object(T.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=st.get("imageIdCNI"),a={id_product:t},e.next=4,Re.postData(a,"VIEW_DETAIL").then((function(e){if("00"===e.data.err_code){var t=e.data.data;n.setState({product_name:t.product_name})}"04"===e.data.err_code&&console.log(e.data.data)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)}))),n.state={appsLoading:!1,isLoading:!1,deleteForm:!1,showSwalSuccess:!1,contentSwal:"",id:"",selectedImg:"",id_product:"",id_operator:"",product_name:"",dtImg:[],fileNames:[]},n.handleDrop=n.handleDrop.bind(Object(ze.a)(n)),n.deleteImg=n.deleteImg.bind(Object(ze.a)(n)),n.handleClose=n.handleClose.bind(Object(ze.a)(n)),n.handleDelete=n.handleDelete.bind(Object(ze.a)(n)),n.closeSwal=n.closeSwal.bind(Object(ze.a)(n)),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({appsLoading:!0}),setTimeout((function(){e.getDataProduct(),e.getData()}),300)}},{key:"deleteImg",value:function(e){this.setState(Object(d.a)(Object(d.a)({},this.state),{},{selectedImg:e.img,id_operator:this.props.user.id_operator,id:e.id,isLoading:!1,deleteForm:!0}))}},{key:"handleDelete",value:function(){var e=this;this.setState(Object(d.a)(Object(d.a)({},this.state),{},{isLoading:!0})),Re.postData(this.state,"DEL_IMAGE").then((function(t){if("00"===t.data.err_code){var a=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}});e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showSwalSuccess:!0,deleteForm:!1,isLoading:!1,contentSwal:a}))}else console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"handleClose",value:function(){this.setState({isLoading:!1,deleteForm:!1})}},{key:"closeSwal",value:function(){var e=this;this.setState({showSwalSuccess:!1,contentSwal:""}),setTimeout((function(){e.getData()}),300)}},{key:"handleDrop",value:function(e,t){var a=this;this.setState({id_operator:this.props.user.id_operator});var n=new FormData;e.map((function(e){return n.append("img[]",e),!0})),n.append("id_operator",this.state.id_operator),n.append("id_product",this.state.id_product),Re.postData(n,"UPLOAD_IMAGE").then((function(e){"00"===e.data.err_code?a.getData():console.log(e.data)})).catch((function(e){console.log(e)}));var s=t.map((function(e){var t=[];return e.errors.map((function(e){return"file-too-large"===e.code?t.push("File is larger than 2MB"):t.push(e.message),1})),{fileName:e.file.name,errors:t.join(" and ")}}));this.setState({fileNames:s})}},{key:"render",value:function(){var e=this,t=Object(P.jsxs)(me.a,{children:[Object(P.jsx)(me.a.Image,{thumbnail:!0,className:"modal-img",width:171,height:180,alt:"",style:{maxHeight:"180px"},src:this.state.selectedImg}),Object(P.jsxs)(me.a.Caption,{id:"caption",children:["Apakah anda yakin ",Object(P.jsx)("br",{}),"akan menghapus data ini ?"]})]});return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"content-wrapper",children:[Object(P.jsx)("div",{className:"content-header",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row mb-2",children:Object(P.jsx)("div",{className:"col-sm-6",children:Object(P.jsx)("h1",{className:"m-0",children:"List Image"})})})})}),Object(P.jsx)("section",{className:"content",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"col-12",children:this.state.appsLoading?Object(P.jsx)(We,{}):Object(P.jsxs)("div",{className:"card shadow-lg",children:[Object(P.jsx)("div",{className:"card-header",children:Object(P.jsx)("h4",{className:"m-0",children:this.state.product_name})}),Object(P.jsxs)("div",{className:"card-body my-card-body",children:[Object(P.jsx)(nt.a,{onDrop:this.handleDrop,accept:"image/jpeg, image/png, image/jpg",maxSize:5242880,children:function(e){var t=e.isDragActive,a=e.isDragReject,n=e.getRootProps,s=e.getInputProps;return Object(P.jsxs)("div",Object(d.a)(Object(d.a)({},n({className:"dropzone"})),{},{children:[Object(P.jsx)("input",Object(d.a)({},s())),Object(P.jsx)("br",{}),!t&&Object(P.jsx)("p",{style:{fontWeight:"600"},children:"Drag & drop files, or click to select files"}),a&&Object(P.jsx)("p",{style:{color:"red",fontWeight:"800"},children:"File not accepted, sorry!"}),t&&!a&&Object(P.jsx)("p",{style:{color:"lightgreen",fontWeight:"800"},children:"Drop it like it's hot!"}),Object(P.jsx)("em",{children:"(Only *.jpg, *.jpeg, *.png Images and Maks. size 2MB will be accepted)"})]}))}}),this.state.fileNames.length>0?Object(P.jsxs)(et.a,{variant:"danger",onClose:function(){return e.setState({fileNames:[]})},dismissible:!0,children:[Object(P.jsx)(et.a.Heading,{children:"You got an error!"}),Object(P.jsx)(tt.a,{variant:"flush",children:this.state.fileNames.map((function(e){return Object(P.jsxs)(tt.a.Item,{style:{backgroundColor:"transparent",paddingBottom:"4px",paddingTop:"4px"},children:["- ",e.fileName+" : "+e.errors]},e.fileName)}))})]}):"",this.state.dtImg.map((function(t){return Object(P.jsxs)(me.a,{className:"img-product-pic",style:{marginRight:"10px",marginLeft:"5px"},children:[Object(P.jsx)(at.a,{src:t.img,thumbnail:!0,width:170,height:180,style:{maxHeight:"180px"}}),Object(P.jsx)("span",{onClick:function(){return e.deleteImg(t)},className:"remove-image",children:"x"})]},t.id)}))]}),Object(P.jsx)("div",{className:"card-footer",children:Object(P.jsx)(M.b,{to:"/products",children:Object(P.jsx)(se.a,{variant:"danger",children:"Cancel"})})})]})})})})}),Object(P.jsx)(ce.a,{show:this.state.deleteForm,size:"sm",form:t,handleClose:this.handleClose,backdrop:"static",keyboard:!1,title:"Delete Image",titleButton:"Delete Image",themeButton:"danger",isLoading:this.state.isLoading,formSubmit:this.handleDelete}),this.state.showSwalSuccess?Object(P.jsx)(oe.a,{show:this.state.showSwalSuccess,title:this.state.contentSwal,type:"success",handleClose:this.closeSwal}):""]}),Object(P.jsx)("div",{})]})}}]),a}(n.Component),rt=Object(i.b)((function(e){return{user:e.auth.currentUser}}),"")(ct),it=Object(i.b)((function(e){return{user:e.auth.currentUser}}),"")((function(e){var t=Object(n.useState)({id_banner:"",id_product:"",img:"",type:"",url:"",priority_number:"",imgUpload:""}),a=Object(E.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(1),i=Object(E.a)(r,2),o=i[0],l=(i[1],Object(n.useState)(10)),j=Object(E.a)(l,2),b=j[0],u=(j[1],Object(n.useState)("ASC")),h=Object(E.a)(u,2),m=h[0],p=(h[1],Object(n.useState)("priority_number")),O=Object(E.a)(p,2),g=O[0],x=(O[1],Object(n.useState)("")),f=Object(E.a)(x,2),_=f[0],v=(f[1],Object(n.useState)("")),y=Object(E.a)(v,2);y[0],y[1];Object(n.useEffect)((function(){}),[o,b,m,g,_]);var S=function(e){var t=e.target.validity.valid?e.target.value:s.priority_number;c(Object(d.a)(Object(d.a)({},s),{},{priority_number:t}))},w=Object(P.jsxs)(ne.a,{id:"myForm",children:[Object(P.jsxs)(ne.a.Row,{children:[Object(P.jsxs)(ne.a.Group,{as:fe.a,controlId:"email",children:[Object(P.jsx)(ne.a.Label,{children:"Email"}),Object(P.jsx)(ne.a.Control,{size:"sm",name:"email",type:"text",pattern:"[0-9]*",onInput:S,value:s.priority_number,onChange:S,placeholder:"Email"})]}),Object(P.jsxs)(ne.a.Group,{as:fe.a,controlId:"password",children:[Object(P.jsx)(ne.a.Label,{children:"Password"}),Object(P.jsx)(ne.a.Control,{size:"sm",name:"password",type:"text",pattern:"[0-9]*",onInput:S,value:s.priority_number,onChange:S,placeholder:"Password"})]})]}),Object(P.jsxs)(ne.a.Row,{children:[Object(P.jsxs)(ne.a.Group,{as:fe.a,controlId:"call_center",children:[Object(P.jsx)(ne.a.Label,{children:"Call Center Number"}),Object(P.jsx)(ne.a.Control,{size:"sm",name:"call_center",type:"text",pattern:"[0-9]*",onInput:S,value:s.priority_number,onChange:S,placeholder:"Call Center Number"})]}),Object(P.jsxs)(ne.a.Group,{as:fe.a,controlId:"contact_sms",children:[Object(P.jsx)(ne.a.Label,{children:"Contact SMS"}),Object(P.jsx)(ne.a.Control,{size:"sm",name:"contact_sms",type:"text",pattern:"[0-9]*",onInput:S,value:s.priority_number,onChange:S,placeholder:"Contact SMS"})]})]}),Object(P.jsxs)(ne.a.Row,{children:[Object(P.jsxs)(ne.a.Group,{as:fe.a,controlId:"contact_email",children:[Object(P.jsx)(ne.a.Label,{children:"Contact Email"}),Object(P.jsx)(ne.a.Control,{size:"sm",name:"contact_email",type:"text",pattern:"[0-9]*",onInput:S,value:s.priority_number,onChange:S,placeholder:"Contact Email"})]}),Object(P.jsxs)(ne.a.Group,{as:fe.a,controlId:"contact_wa",children:[Object(P.jsx)(ne.a.Label,{children:"Contact WA"}),Object(P.jsx)(ne.a.Control,{size:"sm",name:"contact_wa",type:"text",pattern:"[0-9]*",onInput:S,value:s.priority_number,onChange:S,placeholder:"Contact WA"})]})]})]});return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"content-wrapper",children:[Object(P.jsx)("div",{className:"content-header",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row mb-2",children:Object(P.jsx)("div",{className:"col-sm-6",children:Object(P.jsx)("h1",{className:"m-0",children:"Setting"})})})})}),Object(P.jsx)("section",{className:"content",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"col-12",children:Object(P.jsxs)("div",{className:"card card-success shadow-lg",children:[Object(P.jsx)("div",{className:"card-header"}),Object(P.jsx)("div",{className:"card-body",children:w})]})})})})})]}),Object(P.jsx)("div",{})]})})),ot=a(80),dt=function(e){Object(Q.a)(a,e);var t=Object($.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getData=function(){n.setState({loadTbl:!0}),ot.a.postData(n.state.queryString,"GET_PROV").then((function(e){setTimeout((function(){"00"===e.data.err_code&&n.setState(Object(d.a)(Object(d.a)({},n.state),{},{dtRes:e.data.data,totalData:e.data.total_data})),"04"===e.data.err_code&&n.setState(Object(d.a)(Object(d.a)({},n.state),{},{dtRes:[],totalData:0})),n.setState({loadTbl:!1})}),400)})).catch((function(e){console.log(e)}))},n.handleClose=function(){n.setState({show:!1,deleteForm:!1})},n.closeSwal=function(){n.setState(Object(d.a)(Object(d.a)({},n.state),{},{deleteForm:!1,showSwalSuccess:!1,successMsg:""})),n.getData()},n.discardChanges=function(){n.setState(Object(d.a)(Object(d.a)({},n.state),{},{show:!0,isLoading:!1,errMsg:{},selected:n.iniSelected,actionForm:"ADD_PROV"}))},n.editRecord=function(e){n.setState(Object(d.a)(Object(d.a)({},n.state),{},{show:!0,isLoading:!1,errMsg:{},actionForm:"ADD_PROV",selected:e}))},n.tableChangeHandler=function(e){var t=n.state.queryString;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),n.getData()},n.deleteRecord=function(e){n.setState(Object(d.a)(Object(d.a)({},n.state),{},{deleteForm:!0,errMsg:{id_provinsi:""},actionForm:"DEL_PROV",selected:Object(d.a)(Object(d.a)({},e),{},{id_operator:n.props.user.id_operator})}))},n.ListCity=function(){var e=Object(T.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("idProvCNI",t.id_provinsi);case 2:n.props.history.push("/city");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.iniSelected={id_provinsi:"",provinsi_name:"",kode_jne:"",kode_lp:"",id_prov_cni:"",id_operator:""},n.state={dtRes:[],totalData:0,show:!1,isLoading:!1,queryString:{page_number:1,per_page:10,sort_order:"ASC",sort_column:"provinsi_name",keyword:""},selected:n.iniSelected,errMsg:n.iniSelected,actionForm:"",showSwalSuccess:!1,successMsg:"",loadTbl:!0,deleteForm:!1},n.handleChange=n.handleChange.bind(Object(ze.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ze.a)(n)),n.handleSave=n.handleSave.bind(Object(ze.a)(n)),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("idProvCNI"),sessionStorage.removeItem("idCityCNI"),this.getData(),this.setState({id_operator:this.props.user.id_operator})}},{key:"handleChange",value:function(e){var t,a=e.target,n=a.name,s=a.value;this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},(t={},Object(z.a)(t,n,s),Object(z.a)(t,"id_operator",this.props.user.id_operator),t))})}},{key:"handleSubmit",value:function(){var e=this.state.errMsg;this.setState(Object(d.a)(Object(d.a)({},this.state),{},{isLoading:!0})),e.provinsi_name=this.state.selected.provinsi_name?"":"Provinsi required",e.kode_jne=this.state.selected.kode_jne?"":"Kode JNE required",e.kode_lp=this.state.selected.kode_lp?"":"Kode Lion Parcel required",this.state.selected.id_operator||this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})}),this.setState({errors:e,isLoading:!1}),this.handleSave()}},{key:"validateForm",value:function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t}},{key:"handleSave",value:function(){var e=Object(T.a)(I.a.mark((function e(){var t,a,n=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.validateForm(this.state.errMsg)){e.next=9;break}return t="",a="","ADD_PROV"===this.state.actionForm&&(t=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong style="font-size:24px;">Success</strong>, Data berhasil disimpan</div>'}})),"DEL_PROV"===this.state.actionForm&&(t=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}})),e.next=7,ot.a.postData(this.state.selected,this.state.actionForm).then((function(e){a=e.data.err_code,n.setState(Object(d.a)(Object(d.a)({},n.state),{},{isLoading:!1})),"00"===a&&n.setState(Object(d.a)(Object(d.a)({},n.state),{},{show:!1,deleteForm:!1,showSwalSuccess:!0,successMsg:t}))})).catch((function(e){n.setState(Object(d.a)(Object(d.a)({},n.state),{},{deleteForm:!1,showSwalSuccess:!0,successMsg:e}))}));case 7:e.next=10;break;case 9:console.error("Invalid Form");case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(P.jsx)("div",{style:{textAlign:"center"},children:(e.state.queryString.page_number-1)*e.state.queryString.per_page+a+1+"."})},row:0},{key:"provinsi_name",text:"Provinsi",align:"center",sortable:!0},{key:"kode_jne",text:"Kode JNE",align:"center",sortable:!0},{key:"kode_lp",text:"Kode Lion Parcel",align:"center",sortable:!0},{key:"id_prov_cni",text:"ID Provinsi CNI",align:"center",width:120,sortable:!0},{key:"action",text:"Action",width:210,sortable:!1,align:"center",cell:function(t){return Object(P.jsx)("div",{style:{textAlign:"center"},children:Object(P.jsxs)(n.Fragment,{children:[Object(P.jsxs)("button",{className:"btn btn-info btn-xs",onClick:function(a){return e.ListCity(t)},style:{marginRight:"5px"},children:[Object(P.jsx)("i",{className:"fa fa-list"})," List City"]}),Object(P.jsxs)("button",{className:"btn btn-xs btn-success",onClick:function(){return e.editRecord(t)},style:{marginRight:"5px"},children:[Object(P.jsx)("i",{className:"fa fa-edit"})," Edit"]}),Object(P.jsxs)("button",{onClick:function(){return e.deleteRecord(t)},className:"btn btn-danger btn-xs",children:[Object(P.jsx)("i",{className:"fa fa-trash"})," Delete"]})]})})}}],a=Object(P.jsxs)(ne.a,{id:"myForm",children:[Object(P.jsxs)(ne.a.Group,{controlId:"provinsi_name",children:[Object(P.jsx)(ne.a.Label,{children:"Provinsi"}),this.state.errMsg.provinsi_name?Object(P.jsx)("span",{className:"float-right text-error badge badge-danger",children:this.state.errMsg.provinsi_name}):null,Object(P.jsx)(ne.a.Control,{value:this.state.selected.provinsi_name,name:"provinsi_name",size:"sm",type:"text",placeholder:"Provinsi",onChange:this.handleChange,autoComplete:"off"})]}),Object(P.jsx)(ne.a.Row,{}),Object(P.jsxs)(ne.a.Group,{controlId:"kode_jne",children:[Object(P.jsx)(ne.a.Label,{children:"Kode JNE"}),this.state.errMsg.kode_jne?Object(P.jsx)("span",{className:"float-right text-error badge badge-danger",children:this.state.errMsg.kode_jne}):null,Object(P.jsx)(ne.a.Control,{value:this.state.selected.kode_jne,name:"kode_jne",size:"sm",type:"text",placeholder:"Kode JNE",onChange:this.handleChange,autoComplete:"off"})]}),Object(P.jsxs)(ne.a.Group,{controlId:"kode_lp",children:[Object(P.jsx)(ne.a.Label,{children:"Kode Lion Parcel"}),this.state.errMsg.kode_lp?Object(P.jsx)("span",{className:"float-right text-error badge badge-danger",children:this.state.errMsg.kode_lp}):null,Object(P.jsx)(ne.a.Control,{name:"kode_lp",value:this.state.selected.kode_lp,size:"sm",type:"text",placeholder:"Kode Lion Parcel",onChange:this.handleChange,autoComplete:"off"})]}),Object(P.jsxs)(ne.a.Group,{controlId:"id_prov_cni",children:[Object(P.jsx)(ne.a.Label,{children:"ID Provinsi CNI"}),Object(P.jsx)(ne.a.Control,{name:"id_prov_cni",value:this.state.selected.id_prov_cni,size:"sm",type:"text",placeholder:"ID Provinsi CNI",onChange:this.handleChange,autoComplete:"off"}),Object(P.jsx)(ne.a.Text,{className:"text-muted",children:Object(P.jsx)("em",{children:"Untuk keperluan mapping Distribution Center "})})]})]}),s=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>akan menghapus data ini ?</div>'}});return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"content-wrapper",children:[Object(P.jsx)("div",{className:"content-header",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row mb-2",children:Object(P.jsx)("div",{className:"col-sm-6",children:Object(P.jsx)("h1",{className:"m-0",children:"Provinsi"})})})})}),Object(P.jsx)("section",{className:"content",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"col-12",children:Object(P.jsxs)("div",{className:"card shadow-lg",children:[Object(P.jsx)("div",{className:"card-header",children:Object(P.jsxs)(se.a,{onClick:this.discardChanges,variant:"success",children:[Object(P.jsx)("i",{className:"fa fa-plus"})," Add"]})}),Object(P.jsx)("div",{className:"card-body",children:this.state.dtRes?Object(P.jsx)(ee.a,{config:{key_column:"id_provinsi",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:this.state.dtRes,columns:t,dynamic:!0,onChange:this.tableChangeHandler,total_record:this.state.totalData,loading:this.state.loadTbl}):Object(P.jsx)("p",{children:"No Data..."})})]})})})})}),Object(P.jsx)(ce.a,{show:this.state.show,size:"sm",form:a,handleClose:this.handleClose,backdrop:"static",keyboard:!1,title:"Add/Edit Provinsi",titleButton:"Save change",themeButton:"success",isLoading:this.state.isLoading,formSubmit:this.handleSubmit}),this.state.showSwalSuccess?Object(P.jsx)(oe.a,{show:this.state.showSwalSucces,title:this.state.successMsg,type:"success",handleClose:this.closeSwal}):"",Object(P.jsx)(ce.a,{show:this.state.deleteForm,size:"sm",form:s,handleClose:this.handleClose,backdrop:"static",keyboard:!1,title:"Delete Provinsi",titleButton:"Delete Provinsi",themeButton:"danger",isLoading:this.isLoading,formSubmit:this.handleSave})]}),Object(P.jsx)("div",{})]})}}]),a}(n.Component),lt=Object(i.b)((function(e){return{user:e.auth.currentUser}}),"")(dt),jt=a(294),bt=a(618),ut=a(617),ht=function(e){Object(Q.a)(a,e);var t=Object($.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getData=function(){n.setState({loadWH:!0}),ot.a.postData(n.state.queryString,"GET_WH").then((function(e){setTimeout((function(){"00"===e.data.err_code&&n.setState(Object(d.a)(Object(d.a)({},n.state),{},{dtRes:e.data.data,totalData:e.data.total_data})),"04"===e.data.err_code&&n.setState(Object(d.a)(Object(d.a)({},n.state),{},{dtRes:[],totalData:0})),n.setState({loadWH:!1})}),400)})).catch((function(e){console.log(e)}))},n.getDataArea=function(e){n.setState({loadDataArea:!0,removeIdProv:"",multiValue:[]}),ot.a.postData(e,"GET_AREA").then((function(e){setTimeout((function(){"00"===e.data.err_code&&n.setState(Object(d.a)(Object(d.a)({},n.state),{},{dtArea:e.data.data,totalDataArea:e.data.total_data})),"04"===e.data.err_code&&n.setState(Object(d.a)(Object(d.a)({},n.state),{},{dtArea:[],totalDataArea:0,notFound:"Data not found"})),n.setState({loadDataArea:!1})}),400)})).catch((function(e){console.log(e)}))},n.closeSwal=function(){n.setState(Object(d.a)(Object(d.a)({},n.state),{},{deleteForm:!1,showSwalSuccess:!1,selected:n.iniSelected,notFound:"Silahkan pilih warehouse untuk melihat area",successMsg:""})),n.getData()},n.discardChanges=function(){n.getOptions(),n.setState(Object(d.a)(Object(d.a)({},n.state),{},{show:!0,isLoading:!1,errMsg:{},selected:n.iniSelected,actionForm:"ADD_WH"}))},n.editRecord=function(e){n.setState(Object(d.a)(Object(d.a)({},n.state),{},{show:!0,isLoading:!1,errMsg:{},actionForm:"ADD_WH",selected:Object(d.a)({},e)})),n.getOptions()},n.handleClose=function(){n.setState({show:!1,deleteForm:!1,isLoadingSelected:!0})},n.deleteRecord=function(e){n.setState(Object(d.a)(Object(d.a)({},n.state),{},{deleteForm:!0,errMsg:{id_prov:""},actionForm:"DEL_WH",selected:Object(d.a)(Object(d.a)({},e),{},{id_operator:n.props.user.id_operator})}))},n.iniSelected={id_wh:"",wh_name:"",kode_jne:"",kode_lp:"",id_operator:"",id_prov:"",provinsi_name:""},n.state={show:!1,deleteForm:!1,li_active:"",removeIdProv:"",dtRes:[],dtArea:[],loadWH:!1,selected:n.iniSelected,isLoadingSelected:!0,isLoadingArea:!1,selectOptions:[],multiValue:[],errMsg:n.iniSelected,showSwalSuccess:!1,loadArea:!1,showFormAreaa:!1,notFound:"Silahkan pilih warehouse untuk melihat area"},n.handleChange=n.handleChange.bind(Object(ze.a)(n)),n.onchangeSelect=n.onchangeSelect.bind(Object(ze.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ze.a)(n)),n.handleSave=n.handleSave.bind(Object(ze.a)(n)),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"handleClose2",value:function(e,t){var a=this;this.setState({showFormAreaa:!1}),Object.keys(this.iniSelected).map((function(t){var n;return a.setState({selected:Object(d.a)(Object(d.a)({},e),{},(n={},Object(z.a)(n,t,e[t]),Object(z.a)(n,"id_operator",a.props.user.id_operator),n))}),1})),this.getDataArea(e)}},{key:"handleChange",value:function(e){var t,a=e.target,n=a.name,s=a.value;this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},(t={},Object(z.a)(t,n,s),Object(z.a)(t,"id_operator",this.props.user.id_operator),t))})}},{key:"handleSubmit",value:function(){var e=this.state.errMsg;this.setState(Object(d.a)(Object(d.a)({},this.state),{},{isLoading:!0})),e.wh_name=this.state.selected.wh_name?"":"Warehouse name required",e.id_prov=this.state.selected.id_prov?"":"Origin required",this.state.selected.id_operator||this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator})}),this.setState({errors:e,isLoading:!1}),this.handleSave()}},{key:"validateForm",value:function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t}},{key:"removeArea",value:function(){var e=Object(T.a)(I.a.mark((function e(t,a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({actionForm:"REMOVE_AREA",removeIdProv:t.id_provinsi});case 2:this.handleSaveArea();case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleSaveArea",value:function(){var e=Object(T.a)(I.a.mark((function e(){var t,a,n=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState(Object(d.a)(Object(d.a)({},this.state),{},{loadDataArea:!1})),t=[],Object.values(this.state.multiValue).forEach((function(e){return t.push(e.value)})),a={id_operator:this.state.selected.id_operator,id_wh:this.state.selected.id_wh,id_prov:this.state.removeIdProv?this.state.removeIdProv:t},"",e.next=7,ot.a.postData(a,this.state.actionForm).then((function(e){"00"===e.data.err_code&&(n.setState(Object(d.a)(Object(d.a)({},n.state),{},{actionForm:"ADD_AREA"})),n.getDataArea(a),n.getOptions())})).catch((function(e){n.setState(Object(d.a)(Object(d.a)({},n.state),{},{actionForm:"ADD_AREA",loadDataArea:!1}))}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSave",value:function(){var e=Object(T.a)(I.a.mark((function e(){var t,a,n,s=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.validateForm(this.state.errMsg)){e.next=10;break}return t="",a="",n=this.state.selected,"ADD_WH"===this.state.actionForm&&(t=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong style="font-size:24px;">Success</strong>, Data berhasil disimpan</div>'}})),"DEL_WH"===this.state.actionForm&&(t=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div style="font-size:20px; text-align:center;"><strong>Success</strong>, Data berhasil dihapus</div>'}})),e.next=8,ot.a.postData(n,this.state.actionForm).then((function(e){a=e.data.err_code,s.setState(Object(d.a)(Object(d.a)({},s.state),{},{isLoading:!1})),"00"===a&&s.setState(Object(d.a)(Object(d.a)({},s.state),{},{show:!1,deleteForm:!1,showSwalSuccess:!0,successMsg:t}))})).catch((function(e){s.setState(Object(d.a)(Object(d.a)({},s.state),{},{deleteForm:!1,showSwalSuccess:!0,successMsg:e}))}));case 8:e.next=11;break;case 10:console.error("Invalid Form");case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getOptions",value:function(){var e=Object(T.a)(I.a.mark((function e(){var t,a,n,s,c=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoadingSelected:!0}),t={is_wh:1},"http://202.158.64.238/api_cni/index.php/provinsi",e.next=5,u.a.post("http://202.158.64.238/api_cni/index.php/provinsi",t);case 5:a=e.sent,"00"===a.data.err_code?(n=a.data.data,s=n.map((function(e){return{value:e.id_provinsi,label:e.provinsi_name}})),setTimeout((function(){c.setState(Object(d.a)(Object(d.a)({},c.state),{},{selectOptions:s,isLoadingSelected:!1,loadArea:!1}))}),400)):setTimeout((function(){c.setState(Object(d.a)(Object(d.a)({},c.state),{},{selectOptions:null,isLoadingSelected:!0,loadArea:!0}))}),400);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onchangeSelect",value:function(e){this.setState({selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_prov:e.value,provinsi_name:e.label,id_operator:this.props.user.id_operator})})}},{key:"handleMultiChange",value:function(e){this.setState((function(t){return{multiValue:e}}))}},{key:"showFormArea",value:function(){this.setState(Object(d.a)(Object(d.a)({},this.state),{},{loadArea:!0,showFormAreaa:!this.state.showFormAreaa,selected:Object(d.a)(Object(d.a)({},this.state.selected),{},{id_operator:this.props.user.id_operator}),errMsg:{id_prov:""},actionForm:"ADD_AREA"})),this.getOptions()}},{key:"render",value:function(){var e=this,t=Object(P.jsx)("div",{dangerouslySetInnerHTML:{__html:'<div id="caption" style=padding-bottom:20px;">Apakah anda yakin <br/>akan menghapus data ini ?</div>'}}),a=Object(P.jsxs)(ne.a,{id:"myForm",children:[Object(P.jsxs)(ne.a.Group,{controlId:"wh_name",children:[Object(P.jsx)(ne.a.Label,{children:"Warehouse Name"}),this.state.errMsg.wh_name?Object(P.jsx)("span",{className:"float-right text-error badge badge-danger",children:this.state.errMsg.wh_name}):null,Object(P.jsx)(ne.a.Control,{value:this.state.selected.wh_name,name:"wh_name",size:"sm",type:"text",placeholder:"Warehouse Name",onChange:this.handleChange,autoComplete:"off"})]}),Object(P.jsxs)(ne.a.Group,{controlId:"origin",children:[Object(P.jsx)(ne.a.Label,{children:"Origin"}),this.state.errMsg.id_prov?Object(P.jsx)("span",{className:"float-right text-error badge badge-danger",children:this.state.errMsg.id_prov}):null,Object(P.jsx)(Le,{myVal:this.state.selected.id_prov?{value:this.state.selected.id_prov,label:this.state.selected.provinsi_name}:"",getData:this.state.selectOptions,isLoading:this.state.isLoadingSelected,onChange:this.onchangeSelect})]})]});return Object(P.jsxs)("div",{children:[console.log(this.state),Object(P.jsxs)("div",{className:"content-wrapper",children:[Object(P.jsx)("div",{className:"content-header",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row mb-2",children:Object(P.jsx)("div",{className:"col-sm-6",children:Object(P.jsx)("h1",{className:"m-0",children:"Warehouse"})})})})}),Object(P.jsx)("section",{className:"content",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsxs)("div",{className:"row",children:[Object(P.jsx)("div",{className:"col-lg-6",children:Object(P.jsxs)("div",{className:"card shadow-lg",children:[Object(P.jsxs)("div",{className:"card-header card-header-custom",children:[Object(P.jsx)("h1",{className:"card-title card-title-custom",children:"List Warehouse"}),Object(P.jsx)("div",{className:"tools",children:Object(P.jsx)(qe.a,{className:"float-right btn-sm",onClick:this.discardChanges,icon:"add",theme:"info",isLoading:this.state.loadWH,children:"Add Warehouse"})})]}),Object(P.jsx)("div",{className:"card-body inbox_chat",children:this.state.loadWH?Object(P.jsxs)("div",{className:"loadings text-center",children:[Object(P.jsx)(jt.a,{animation:"border",variant:"secondary"}),Object(P.jsx)("br",{}),"Loading ..."]}):Object(P.jsx)("ul",{className:"todo-list ui-sortable","data-widget":"todo-list",children:this.state.dtRes.length>0?this.state.dtRes.map((function(t,a){return Object(P.jsxs)("li",{className:e.state.selected.id_wh===t.id_wh?"li_wh li_active":"li_wh",onClick:e.handleClose2.bind(e,t),children:[Object(P.jsx)("span",{className:"text",children:t.wh_name}),Object(P.jsx)("br",{}),Object(P.jsxs)("span",{className:"text-second-li",children:["Origin : ",t.provinsi_name,"(",t.kode_jne+"/"+t.kode_lp,")"]}),Object(P.jsxs)("div",{className:"tools",children:[Object(P.jsx)(bt.a,{placement:"left",overlay:Object(P.jsx)(ut.a,{id:"tooltip-left",children:"Edit"}),children:Object(P.jsx)("i",{className:"fas",children:Object(P.jsx)(B.a,{onClick:e.editRecord.bind(e,t)})})}),Object(P.jsx)(bt.a,{placement:"right",overlay:Object(P.jsx)(ut.a,{id:"tooltip-right",children:"Delete"}),children:Object(P.jsx)("i",{className:"fas",children:Object(P.jsx)(H.k,{onClick:e.deleteRecord.bind(e,t)})})})]})]},t.id_wh)})):Object(P.jsx)("li",{className:"li_wh_nodata",children:Object(P.jsx)("span",{className:"text",children:"Data not found"})},"no_data")})})]})}),Object(P.jsx)("div",{className:"col-lg-6",children:Object(P.jsxs)("div",{className:"card shadow-lg",children:[Object(P.jsxs)("div",{className:"card-header card-header-custom",children:[Object(P.jsxs)("h1",{className:"card-title card-title-custom",children:["Coverage Area",Object(P.jsxs)("span",{className:"area",style:{fontWeight:"600",color:"green"},children:[" ",this.state.selected.wh_name]})]}),this.state.selected.id_wh?Object(P.jsx)("div",{className:"tools",children:Object(P.jsx)(qe.a,{className:"float-right btn-sm",onClick:this.showFormArea.bind(this),icon:this.state.showFormAreaa?"times":"add",theme:this.state.showFormAreaa?"danger":"warning",isLoading:this.state.loadDataArea,children:this.state.showFormAreaa?"Close":"Add Area"})}):""]}),Object(P.jsxs)("div",{className:"card-body inbox_chat",children:[this.state.showFormAreaa?Object(P.jsxs)(s.a.Fragment,{children:[Object(P.jsx)(Ae,{myVal:this.state.multiValue&&this.state.multiValue,getData:this.state.selectOptions,isLoading:this.state.loadArea,onChange:this.handleMultiChange.bind(this)}),Object(P.jsx)(qe.a,{style:{marginTop:"3px",marginBottom:"15px"},className:"btn-block btn-sm",onClick:this.handleSaveArea.bind(this),theme:"warning",disabled:!(this.state.multiValue.length>0),isLoading:this.state.loadDataArea,children:"Save"})]}):"",this.state.loadDataArea?Object(P.jsxs)("div",{className:"loadings text-center",children:[Object(P.jsx)(jt.a,{animation:"border",variant:"secondary"}),Object(P.jsx)("br",{}),"Loading ..."]}):Object(P.jsx)("ul",{className:"todo-list ui-sortable","data-widget":"todo-list",children:this.state.dtArea.length>0?this.state.dtArea.map((function(t,a){return Object(P.jsxs)("li",{className:t.origin_utama?"li_wh_origin":"li_wh_area",children:[Object(P.jsx)("span",{className:"text",children:t.provinsi_name}),0===t.origin_utama?Object(P.jsx)("div",{className:"tools",children:Object(P.jsx)(bt.a,{placement:"top",overlay:Object(P.jsx)(ut.a,{id:"tooltip-top",children:"Remove Area"}),children:Object(P.jsx)("i",{className:"fas",children:Object(P.jsx)(H.k,{onClick:e.removeArea.bind(e,t)})})})}):""]},t.id_provinsi)})):Object(P.jsx)("li",{className:"li_wh_nodata",children:Object(P.jsx)("span",{className:"text",children:this.state.notFound})},"no_data")})]})]})})]})})}),Object(P.jsx)(ce.a,{show:this.state.show,size:"sm",form:a,handleClose:this.handleClose,backdrop:"static",keyboard:!1,title:"Add/Edit",titleButton:"Save change",themeButton:"success",isLoading:this.state.isLoading,formSubmit:this.handleSubmit}),this.state.showSwalSuccess?Object(P.jsx)(oe.a,{show:this.state.showSwalSucces,title:this.state.successMsg,type:"success",handleClose:this.closeSwal}):"",Object(P.jsx)(ce.a,{show:this.state.deleteForm,size:"sm",form:t,handleClose:this.handleClose,backdrop:"static",keyboard:!1,title:"Delete",titleButton:"Delete",themeButton:"danger",isLoading:this.isLoading,formSubmit:this.handleSave})]}),Object(P.jsx)("div",{})]})}}]),a}(n.Component),mt=Object(i.b)((function(e){return{user:e.auth.currentUser}}),"")(ht),pt="http://202.158.64.238/api_cni/index.php",Ot=new(function(){function e(){Object(l.a)(this,e)}return Object(j.a)(e,[{key:"postData",value:function(e,t){switch(t){case"GET_DATA":return u.a.post(pt+"/list_transaksi",e);case"VIEW_DETAIL":return u.a.post(pt+"/transaksi_detail",e);default:return u.a.post(pt+"/simpan_admin",e)}}}]),e}()),gt=function(e){Object(Q.a)(a,e);var t=Object($.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getData=function(){n.setState({loadTbl:!0}),Ot.postData(n.state.queryString,"GET_DATA").then((function(e){setTimeout((function(){"00"===e.data.err_code&&n.setState(Object(d.a)(Object(d.a)({},n.state),{},{dtRes:e.data.data,totalData:e.data.total_data})),"04"===e.data.err_code&&n.setState(Object(d.a)(Object(d.a)({},n.state),{},{dtRes:[],totalData:0})),n.setState({loadTbl:!1})}),400)})).catch((function(e){console.log(e)}))},n.tableChangeHandler=function(e){var t=n.state.queryString;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),n.getData()},n.rowClickedHandler=function(){var e=Object(T.a)(I.a.mark((function e(t,a,s){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("idTransCNI",a.id_transaksi);case 2:n.props.history.push("/trans_detail");case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.state={dtRes:[],totalData:0,show:!1,isLoading:!1,loadTbl:!0,queryString:{page_number:1,per_page:10,sort_order:"DESC",sort_column:"id_transaksi",keyword:"",status:0}},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("idTransCNI"),this.getData()}},{key:"render",value:function(){var e=this,t=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(P.jsx)("div",{style:{textAlign:"center"},children:(e.state.queryString.page_number-1)*e.state.queryString.per_page+a+1+"."})},row:0},{key:"created_at",text:"Date",align:"center",sortable:!0,width:130,cell:function(e){return He()(new Date(e.created_at)).format("DD-MM-YYYY HH:mm")}},{key:"id_transaksi",text:"Order ID",align:"center",width:130,sortable:!0},{key:"nama_member",text:"Nama",align:"center",sortable:!0},{key:"email",text:"Email",align:"center",sortable:!0},{key:"phone_member",text:"Phone",align:"center",width:130,sortable:!0},{key:"ttl_price",text:"Total",align:"center",width:100,sortable:!0,cell:function(e){return Object(P.jsx)("div",{style:{textAlign:"right"},children:Object(P.jsx)(n.Fragment,{children:Object(P.jsx)(Me.a,{value:e.ttl_price,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}}];return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"content-wrapper",children:[Object(P.jsx)("div",{className:"content-header",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row mb-2",children:Object(P.jsx)("div",{className:"col-sm-6",children:Object(P.jsx)("h1",{className:"m-0",children:"Transaksi"})})})})}),Object(P.jsx)("section",{className:"content",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"col-12",children:Object(P.jsxs)("div",{className:"card shadow-lg",children:[Object(P.jsx)("div",{className:"card-header",children:Object(P.jsx)("h1",{className:"card-title card-title-custom",children:"Waiting Payment"})}),Object(P.jsx)("div",{className:"card-body",children:this.state.dtRes?Object(P.jsx)(ee.a,{className:"table table-striped table-hover table-bordered",config:{key_column:"id_transaksi",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:this.state.dtRes,columns:t,dynamic:!0,onChange:this.tableChangeHandler,total_record:this.state.totalData,loading:this.state.loadTbl,onRowClicked:this.rowClickedHandler}):Object(P.jsx)("p",{children:"No Data..."})})]})})})})})]}),Object(P.jsx)("div",{})]})}}]),a}(n.Component),xt=Object(i.b)((function(e){return{user:e.auth.currentUser}}),"")(gt),ft=function(e){Object(Q.a)(a,e);var t=Object($.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getData=function(){n.setState({appsLoading:!0});var e={id_transaksi:sessionStorage.getItem("idTransCNI")};Ot.postData(e,"VIEW_DETAIL").then((function(e){setTimeout((function(){"00"===e.data.err_code&&n.setState(Object(d.a)(Object(d.a)({},n.state),{},{dtRes:e.data.data})),"04"===e.data.err_code&&n.setState(Object(d.a)(Object(d.a)({},n.state),{},{dtRes:{}})),n.setState({appsLoading:!1})}),400)})).catch((function(e){console.log(e),n.setState({appsLoading:!1})}))},n.state={appsLoading:!0,dtRes:{},id_transaksi:sessionStorage.getItem("idTransCNI")},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;return Object(P.jsx)("div",{children:Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"content-wrapper",children:[Object(P.jsx)("div",{className:"content-header",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row mb-2",children:Object(P.jsx)("div",{className:"col-sm-6",children:Object(P.jsx)("h1",{className:"m-0",children:"Transaksi Detail"})})})})}),Object(P.jsx)("section",{className:"content",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"col-12",children:this.state.appsLoading?Object(P.jsx)(We,{}):Object(P.jsxs)("div",{className:"card shadow-lg",children:[Object(P.jsxs)("div",{className:"card-body",children:[Object(P.jsx)("table",{className:"table table-condensed",children:Object(P.jsxs)("tbody",{children:[Object(P.jsx)("tr",{children:Object(P.jsx)("td",{style:{backgroundColor:"rgba(0,0,0,.1)",fontWeight:"bold",fontSize:"16px"},colSpan:"9",align:"center",children:"Information "})}),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{width:"8%",children:Object(P.jsx)("strong",{children:"Order ID"})}),Object(P.jsx)("td",{width:"1%",children:Object(P.jsx)("strong",{children:":"})}),Object(P.jsxs)("td",{width:"23%",children:[this.state.dtRes.id_transaksi," ",this.state.dtRes.is_dropship?Object(P.jsx)("span",{className:"badge bg-warning",children:"Dropship"}):""]}),Object(P.jsx)("td",{width:"8%",children:Object(P.jsx)("strong",{children:"Name"})}),Object(P.jsx)("td",{width:"1%",children:Object(P.jsx)("strong",{children:":"})}),Object(P.jsx)("td",{width:"28%",children:this.state.dtRes.nama_member}),Object(P.jsx)("td",{width:"12%",children:Object(P.jsx)("strong",{children:"Payment Date"})}),Object(P.jsx)("td",{width:"1%",children:Object(P.jsx)("strong",{children:":"})}),Object(P.jsx)("td",{width:"17%",children:this.state.dtRes.payment_date?He()(new Date(this.state.dtRes.payment_date)).format("DD MMMM YYYY HH:mm"):"-"})]}),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:"Order Date"})}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:":"})}),Object(P.jsx)("td",{children:He()(new Date(this.state.dtRes.created_at)).format("DD MMMM YYYY HH:mm")}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:"Email"})}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:":"})}),Object(P.jsx)("td",{children:this.state.dtRes.email}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:"Payment"})}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:":"})}),Object(P.jsx)("td",{children:this.state.dtRes.payment_name})]}),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:"Status"})}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:":"})}),Object(P.jsx)("td",{children:Object(P.jsxs)(n.Fragment,{children:[0===this.state.dtRes.status&&Object(P.jsx)("span",{className:"badge bg-warning",children:"Waiting Payment"}),1===this.state.dtRes.status&&Object(P.jsx)("span",{className:"badge bg-info",children:"Payment Complete"}),2===this.state.dtRes.status&&Object(P.jsx)("span",{className:"badge bg-success",children:"Completed"})]})}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:"Phone"})}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:":"})}),Object(P.jsx)("td",{children:this.state.dtRes.phone_member}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:"No.VA"})}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:":"})}),Object(P.jsx)("td",{children:this.state.dtRes.payment_channel>0?this.state.dtRes.key_payment:"-"})]}),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:"Pengiriman"})}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:":"})}),Object(P.jsx)("td",{children:3===this.state.dtRes.tipe_pengiriman?"Dikirim dari sales counter CNI":""}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:"CNOTE"})}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:":"})}),Object(P.jsx)("td",{children:this.state.dtRes.cnote_no?this.state.dtRes.cnote_no:"-"}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:"Layanan"})}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:":"})}),Object(P.jsx)("td",{children:this.state.dtRes.logistic_name+" - "+this.state.dtRes.service_code})]}),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:"Origin"})}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:":"})}),Object(P.jsx)("td",{children:this.state.dtRes.wh_name+"     "+this.state.dtRes.prov_origin+"("+this.state.dtRes.kode_origin+")"}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:"Alamat Pengiriman"})}),Object(P.jsx)("td",{children:Object(P.jsx)("strong",{children:":"})}),Object(P.jsxs)("td",{colSpan:"4",children:[this.state.dtRes.nama_penerima+", "+this.state.dtRes.alamat+", "+this.state.dtRes.kec_name+", "+this.state.dtRes.city_name+", "+this.state.dtRes.provinsi_name+", "+this.state.dtRes.kode_pos+", "+this.state.dtRes.phone_penerima,this.state.dtRes.is_dropship?Object(P.jsx)("span",{className:"badge bg-warning",children:"Dropship"}):""]})]}),Object(P.jsx)("tr",{children:Object(P.jsx)("td",{style:{backgroundColor:"rgba(0,0,0,.08)",fontWeight:"bold",fontSize:"16px"},colSpan:"9",align:"center",children:"List Item"})})]})}),Object(P.jsxs)("table",{className:"table table-bordered",style:{borderBottom:"none",borderLeft:"none"},children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("th",{style:{width:40,textAlign:"center"},children:"No."}),Object(P.jsx)("th",{style:{width:500,textAlign:"center"},children:"Product Name"}),Object(P.jsx)("th",{style:{width:80,textAlign:"center"},children:"Qty"}),Object(P.jsx)("th",{style:{width:100,textAlign:"center"},children:"Weight(Gram)"}),Object(P.jsx)("th",{style:{textAlign:"center",width:170},children:"Price"}),Object(P.jsx)("th",{style:{textAlign:"center",width:150},children:"Sub Total"})]})}),Object(P.jsxs)("tbody",{children:[this.state.dtRes.list_item.map((function(e,t){return Object(P.jsxs)("tr",{children:[Object(P.jsxs)("td",{align:"center",children:[t+1,"."]}),Object(P.jsx)("td",{children:e.product_name}),Object(P.jsx)("td",{align:"center",children:Object(P.jsx)(Me.a,{value:e.jml,thousandSeparator:!0,decimalScale:2,displayType:"text"})}),Object(P.jsx)("td",{align:"right",children:Object(P.jsx)(Me.a,{value:e.berat,thousandSeparator:!0,decimalScale:2,displayType:"text"})}),Object(P.jsx)("td",{align:"right",children:Object(P.jsx)(Me.a,{value:e.harga,thousandSeparator:!0,decimalScale:2,displayType:"text"})}),Object(P.jsx)("td",{align:"right",children:Object(P.jsx)(Me.a,{value:e.ttl_harga,thousandSeparator:!0,decimalScale:2,displayType:"text"})})]},t)})),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{align:"right",colSpan:"5",style:{border:"none"},children:Object(P.jsx)("strong",{children:"Total Belanjaan"})}),Object(P.jsx)("td",{align:"right",children:Object(P.jsx)(Me.a,{value:this.state.dtRes.ttl_belanjaan,thousandSeparator:!0,decimalScale:2,displayType:"text"})})]}),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{align:"right",colSpan:"5",style:{border:"none"},children:Object(P.jsxs)("strong",{children:["Ongkos Kirim(",this.state.dtRes.ttl_weight/1e3,"Kg)"]})}),Object(P.jsx)("td",{align:"right",children:Object(P.jsx)(Me.a,{value:this.state.dtRes.ongkir,thousandSeparator:!0,decimalScale:2,displayType:"text"})})]}),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{colSpan:"5",style:{border:"none"}}),Object(P.jsx)("td",{align:"right",style:{backgroundColor:"rgba(0,0,0,.04)"},children:Object(P.jsx)("strong",{children:Object(P.jsx)(Me.a,{value:this.state.dtRes.ttl_price,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})]})]})]})]}),Object(P.jsx)("div",{className:"card-footer clearfix",children:Object(P.jsx)("button",{type:"button",onClick:function(){return e.props.history.goBack()},className:"btn bnt-flat btn-danger",children:"Back"})})]})})})})})]}),Object(P.jsx)("div",{})]})})}}]),a}(n.Component),_t=Object(i.b)((function(e){return{user:e.auth.currentUser}}),"")(ft),vt=function(e){Object(Q.a)(a,e);var t=Object($.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getData=function(){n.setState({loadTbl:!0}),Ot.postData(n.state.queryString,"GET_DATA").then((function(e){setTimeout((function(){"00"===e.data.err_code&&n.setState(Object(d.a)(Object(d.a)({},n.state),{},{dtRes:e.data.data,totalData:e.data.total_data})),"04"===e.data.err_code&&n.setState(Object(d.a)(Object(d.a)({},n.state),{},{dtRes:[],totalData:0})),n.setState({loadTbl:!1})}),400)})).catch((function(e){console.log(e)}))},n.tableChangeHandler=function(e){var t=n.state.queryString;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),n.getData()},n.rowClickedHandler=function(){var e=Object(T.a)(I.a.mark((function e(t,a,s){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("idTransCNI",a.id_transaksi);case 2:n.props.history.push("/trans_detail");case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.state={dtRes:[],totalData:0,show:!1,isLoading:!1,loadTbl:!0,queryString:{page_number:1,per_page:10,sort_order:"DESC",sort_column:"id_transaksi",keyword:"",status:1}},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("idTransCNI"),this.getData()}},{key:"render",value:function(){var e=this,t=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(P.jsx)("div",{style:{textAlign:"center"},children:(e.state.queryString.page_number-1)*e.state.queryString.per_page+a+1+"."})},row:0},{key:"created_at",text:"Date",align:"center",width:130,sortable:!0,cell:function(e){return He()(new Date(e.created_at)).format("DD-MM-YYYY HH:mm")}},{key:"id_transaksi",text:"Order ID.",align:"center",width:130,sortable:!0},{key:"nama_member",text:"Nama",align:"center",sortable:!0},{key:"email",text:"Email",align:"center",sortable:!0},{key:"phone_member",text:"Phone",align:"center",width:130,sortable:!0},{key:"ttl_price",text:"Total",align:"center",width:100,sortable:!0,cell:function(e){return Object(P.jsx)("div",{style:{textAlign:"right"},children:Object(P.jsx)(n.Fragment,{children:Object(P.jsx)(Me.a,{value:e.ttl_price,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}}];return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"content-wrapper",children:[Object(P.jsx)("div",{className:"content-header",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row mb-2",children:Object(P.jsx)("div",{className:"col-sm-6",children:Object(P.jsx)("h1",{className:"m-0",children:"Transaksi"})})})})}),Object(P.jsx)("section",{className:"content",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"col-12",children:Object(P.jsxs)("div",{className:"card shadow-lg",children:[Object(P.jsx)("div",{className:"card-header",children:Object(P.jsx)("h1",{className:"card-title card-title-custom",children:"Payment Complete"})}),Object(P.jsx)("div",{className:"card-body",children:this.state.dtRes?Object(P.jsx)(ee.a,{className:"table table-striped table-hover table-bordered",config:{key_column:"id_transaksi",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:this.state.dtRes,columns:t,dynamic:!0,onChange:this.tableChangeHandler,total_record:this.state.totalData,loading:this.state.loadTbl,onRowClicked:this.rowClickedHandler}):Object(P.jsx)("p",{children:"No Data..."})})]})})})})})]}),Object(P.jsx)("div",{})]})}}]),a}(n.Component),yt=Object(i.b)((function(e){return{user:e.auth.currentUser}}),"")(vt),St=function(e){Object(Q.a)(a,e);var t=Object($.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getData=function(){n.setState({loadTbl:!0}),Ot.postData(n.state.queryString,"GET_DATA").then((function(e){setTimeout((function(){"00"===e.data.err_code&&n.setState(Object(d.a)(Object(d.a)({},n.state),{},{dtRes:e.data.data,totalData:e.data.total_data})),"04"===e.data.err_code&&n.setState(Object(d.a)(Object(d.a)({},n.state),{},{dtRes:[],totalData:0})),n.setState({loadTbl:!1})}),400)})).catch((function(e){console.log(e)}))},n.tableChangeHandler=function(e){var t=n.state.queryString;Object.keys(e).map((function(a){return"sort_order"===a&&e[a]&&(t.sort_order=e[a].order,t.sort_column=e[a].column),"page_number"===a&&(t.page_number=e[a]),"page_size"===a&&(t.per_page=e[a]),"filter_value"===a&&(t.keyword=e[a]),!0})),n.getData()},n.rowClickedHandler=function(){var e=Object(T.a)(I.a.mark((function e(t,a,s){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("idTransCNI",a.id_transaksi);case 2:n.props.history.push("/trans_detail");case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.state={dtRes:[],totalData:0,show:!1,isLoading:!1,loadTbl:!0,queryString:{page_number:1,per_page:10,sort_order:"DESC",sort_column:"id_transaksi",keyword:"",status:2}},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("idTransCNI"),this.getData()}},{key:"render",value:function(){var e=this,t=[{key:"no",text:"No.",width:20,align:"center",sortable:!1,cell:function(t,a){return Object(P.jsx)("div",{style:{textAlign:"center"},children:(e.state.queryString.page_number-1)*e.state.queryString.per_page+a+1+"."})},row:0},{key:"created_at",text:"Date",align:"center",width:130,sortable:!0,cell:function(e){return He()(new Date(e.created_at)).format("DD-MM-YYYY HH:mm")}},{key:"id_transaksi",text:"Order ID",align:"center",width:130,sortable:!0},{key:"nama_member",text:"Nama",align:"center",sortable:!0},{key:"email",text:"Email",align:"center",sortable:!0},{key:"phone_member",text:"Phone",align:"center",width:130,sortable:!0},{key:"ttl_price",text:"Total",align:"center",width:100,sortable:!0,cell:function(e){return Object(P.jsx)("div",{style:{textAlign:"right"},children:Object(P.jsx)(n.Fragment,{children:Object(P.jsx)(Me.a,{value:e.ttl_price,thousandSeparator:!0,decimalScale:2,displayType:"text"})})})}}];return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"content-wrapper",children:[Object(P.jsx)("div",{className:"content-header",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row mb-2",children:Object(P.jsx)("div",{className:"col-sm-6",children:Object(P.jsx)("h1",{className:"m-0",children:"Transaksi"})})})})}),Object(P.jsx)("section",{className:"content",children:Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"col-12",children:Object(P.jsxs)("div",{className:"card shadow-lg",children:[Object(P.jsx)("div",{className:"card-header",children:Object(P.jsx)("h1",{className:"card-title card-title-custom",children:"Completed"})}),Object(P.jsx)("div",{className:"card-body",children:this.state.dtRes?Object(P.jsx)(ee.a,{className:"table table-striped table-hover table-bordered",config:{key_column:"id_transaksi",page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1},language:{loading_text:"Please be patient while data loads..."}},records:this.state.dtRes,columns:t,dynamic:!0,onChange:this.tableChangeHandler,total_record:this.state.totalData,loading:this.state.loadTbl,onRowClicked:this.rowClickedHandler}):Object(P.jsx)("p",{children:"No Data..."})})]})})})})})]}),Object(P.jsx)("div",{})]})}}]),a}(n.Component),wt=Object(i.b)((function(e){return{user:e.auth.currentUser}}),"")(St),Nt=s.a.lazy((function(){return a.e(3).then(a.bind(null,623))})),kt=s.a.lazy((function(){return a.e(4).then(a.bind(null,624))})),Dt=Object(i.b)("",(function(e){return{onUserLoad:function(t){return e({type:"LOAD_USER",currentUser:t})}}}))((function(e){var t=e.onUserLoad,a=Object(n.useState)(!1),c=Object(E.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(!1),l=Object(E.a)(o,2),j=l[0],b=l[1],u=Object(n.useState)({isMenuSidebarCollapsed:!1}),h=Object(E.a)(u,2),m=h[0],p=h[1],O=function(){p({isMenuSidebarCollapsed:!m.isMenuSidebarCollapsed}),b(!j)};Object(n.useEffect)((function(){return i(!0),function(){var e=Object(T.a)(I.a.mark((function e(){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J();case 3:a=e.sent,t(Object(d.a)({},a)),i(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()(),i(!1),function(){}}),[t]),document.getElementById("root").classList.remove("login-page"),document.getElementById("root").classList.remove("hold-transition"),document.getElementById("root").classList.add("bg-sidebar"),document.getElementById("root").className+=" sidebar-mini",m.isMenuSidebarCollapsed?(document.getElementById("root").classList.add("sidebar-collapse"),document.getElementById("root").classList.remove("sidebar-open"),document.getElementById("root").classList.add("active")):(document.getElementById("root").classList.remove("active"),document.getElementById("root").classList.add("sidebar-open"),document.getElementById("root").classList.remove("sidebar-collapse"));var g;return r?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(F,{toggleMenuSidebar:O}),Object(P.jsx)(q,{toggleMenuSidebar:O,menuCollapse:j}),Object(P.jsx)(X,{})]}):Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(s.a.Suspense,{fallback:Object(P.jsx)(X,{}),children:[Object(P.jsx)(F,{toggleMenuSidebar:O}),Object(P.jsx)(q,{toggleMenuSidebar:O,menuCollapse:j}),Object(P.jsxs)(R.d,{basename:(g=window.location.pathname,g.substr(0,g.lastIndexOf("/"))),children:[Object(P.jsx)(R.b,{path:"/users",component:de}),Object(P.jsx)(R.b,{path:"/konsumen",component:be}),Object(P.jsx)(R.b,{path:"/category",component:Oe}),Object(P.jsx)(R.b,{path:"/products",component:Fe}),Object(P.jsx)(R.b,{path:"/banners",component:Ie}),Object(P.jsx)(R.b,{exact:!0,path:"/",component:Ie}),Object(P.jsx)(R.b,{path:"/members",component:je}),Object(P.jsx)(R.b,{path:"/setting",component:it}),Object(P.jsx)(R.b,{path:"/add_product",component:Ze}),Object(P.jsx)(R.b,{path:"/edit_product",component:Ze}),Object(P.jsx)(R.b,{path:"/list_img",component:rt}),Object(P.jsx)(R.b,{path:"/provinsi",component:lt}),Object(P.jsx)(R.b,{path:"/city",component:Nt}),Object(P.jsx)(R.b,{path:"/kecamatan",component:kt}),Object(P.jsx)(R.b,{path:"/warehouse",component:mt}),Object(P.jsx)(R.b,{path:"/waiting_payment",component:xt}),Object(P.jsx)(R.b,{path:"/payment",component:yt}),Object(P.jsx)(R.b,{path:"/completed",component:wt}),Object(P.jsx)(R.b,{path:"/trans_detail",component:_t})]})]})})})),Ct=function(){var e=Object(T.a)(I.a.mark((function e(t,a){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t,a);case 2:return n=e.sent,localStorage.setItem("tokenCNI",n),document.getElementById("root").classList.remove("login-page"),document.getElementById("root").classList.remove("hold-transition"),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Lt=Object(i.b)(null,(function(e){return{onUserLogin:function(t){return e({type:"LOGIN_USER",token:t})}}}))((function(e){var t=e.onUserLogin,a=Object(n.useState)(!1),s=Object(E.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)(""),o=Object(E.a)(i,2),l=o[0],j=o[1],b=Object(R.g)(),u=Object(re.a)({initialValues:{username:"",pass:""},validationSchema:ie.a({username:ie.b().required("Please enter username"),pass:ie.b().required("Please provide a password")}),onSubmit:function(e){var a,n;a=e.username,n=e.pass,r(!0),j(null),Ct(a,n).then((function(e){e?(r(!1),t(e),b.push("/")):(j("Username dan Password tidak sesuai"),r(!1))})).catch((function(e){r(!1),j(e)}))}});return document.getElementById("root").classList="hold-transition login-page",Object(P.jsx)("div",{className:"login-box",children:Object(P.jsxs)("div",{className:"card card-outline card-primary",children:[Object(P.jsx)("div",{className:"card-header text-center h1",children:Object(P.jsx)("b",{children:"CNI"})}),Object(P.jsxs)("div",{className:"card-body",children:[l?Object(P.jsxs)("div",{className:"alert alert-danger alert-sm",children:[Object(P.jsx)("button",{onClick:function(){j(null)},type:"button",className:"close","data-dismiss":"alert","aria-hidden":"true",children:"\xd7"}),Object(P.jsxs)("span",{className:"fw-semi-bold text-error-login",children:["Error: ",l]})]}):Object(P.jsx)("p",{className:"login-box-msg",children:"Sign in to start your session"}),Object(P.jsxs)("form",{onSubmit:u.handleSubmit,children:[u.touched.username&&u.errors.username?Object(P.jsx)("span",{className:"float-right text-error badge badge-danger",children:u.errors.username}):null,Object(P.jsxs)("div",{className:"input-group mb-3",children:[Object(P.jsx)("input",Object(d.a)({autoComplete:"off",type:"text",className:"form-control",placeholder:"Username"},u.getFieldProps("username"))),Object(P.jsx)("div",{className:"input-group-append",children:Object(P.jsx)("div",{className:"input-group-text",children:Object(P.jsx)("span",{className:"fas fa-user"})})})]}),u.touched.pass&&u.errors.pass?Object(P.jsx)("span",{className:"float-right text-error badge badge-danger",children:u.errors.pass}):null,Object(P.jsxs)("div",{className:"input-group mb-3",children:[Object(P.jsx)("input",Object(d.a)({autoComplete:"off",type:"password",className:"form-control",placeholder:"Password"},u.getFieldProps("pass"))),Object(P.jsx)("div",{className:"input-group-append",children:Object(P.jsx)("div",{className:"input-group-text",children:Object(P.jsx)("span",{className:"fas fa-lock"})})})]}),Object(P.jsx)("div",{className:"social-auth-links text-center mt-2 mb-3",children:Object(P.jsx)(qe.a,{block:!0,type:"submit",isLoading:c,icon:"sign",theme:"primary",children:"Sign in"})})]})]})]})})})),At=a(62),It=Object(i.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn}}))((function(e){var t=e.children,a=e.isLoggedIn,n=Object(At.a)(e,["children","isLoggedIn"]);return Object(P.jsx)(R.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){var n=e.location;return a?t:Object(P.jsx)(R.a,{to:{pathname:"/login",state:{from:n}}})}}))})),Tt=Object(i.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn}}))((function(e){var t=e.children,a=e.isLoggedIn,n=Object(At.a)(e,["children","isLoggedIn"]),s=a||localStorage.getItem("token");return Object(P.jsx)(R.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){var a=e.location;return s?Object(P.jsx)(R.a,{to:{pathname:"/",state:{from:a}}}):t}}))}));a(607);function Et(){var e;return Object(P.jsx)(M.a,{basename:(e=window.location.pathname,e.substr(0,e.lastIndexOf("/"))),children:Object(P.jsxs)(R.d,{children:[Object(P.jsx)(Tt,{exact:!0,path:"/login",children:Object(P.jsx)(Lt,{})}),Object(P.jsx)(It,{path:"/",children:Object(P.jsx)(Dt,{})}),Object(P.jsx)(R.a,{from:"*",to:"/"})]})})}var Rt=function(e){e&&e instanceof Function&&a.e(5).then(a.bind(null,625)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(P.jsx)(i.a,{store:L,children:Object(P.jsx)(Et,{})}),document.getElementById("root")),Rt()},63:function(e,t,a){"use strict";var n=a(3),s=a(62),c=(a(2),a(295)),r=a(294),i=a(1),o={facebook:"fab fa-facebook",google:"fab fa-google",googlePlus:"fab fa-google-plus",sign:"fa fa-unlock-alt",edit:"fa fa-edit",delete:"fa fa-trash",add:"fa fa-plus",times:"fa fa-times"};t.a=function(e){var t,a,d=e.children,l=e.isLoading,j=e.icon,b=e.theme,u=void 0===b?"primary":b,h=e.disabled,m=Object(s.a)(e,["children","isLoading","icon","theme","disabled"]);return l&&(t=Object(i.jsx)(r.a,{className:"ml-2",as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})),j&&o[j]&&(a=Object(i.jsx)("i",{className:"".concat(o[j]," mr-2")})),Object(i.jsxs)(c.a,Object(n.a)(Object(n.a)({},m),{},{variant:u,disabled:l||h,children:[a,d,t]}))}},80:function(e,t,a){"use strict";var n=a(11),s=a(12),c=a(13),r=a.n(c),i="http://202.158.64.238/api_cni/index.php",o=function(){function e(){Object(n.a)(this,e)}return Object(s.a)(e,[{key:"postData",value:function(e,t){switch(t){case"GET_PROV":return r.a.post(i+"/provinsi",e);case"GET_CITY":return r.a.post(i+"/city",e);case"GET_KEC":return r.a.post(i+"/kecamatan",e);case"ADD_PROV":return r.a.post(i+"/simpan_provinsi",e);case"DEL_PROV":return r.a.post(i+"/del_provinsi",e);case"ADD_CITY":return r.a.post(i+"/simpan_city",e);case"DEL_CITY":return r.a.post(i+"/del_city",e);case"ADD_KEC":return r.a.post(i+"/simpan_kec",e);case"DEL_KEC":return r.a.post(i+"/del_kec",e);case"GET_WH":return r.a.post(i+"/get_warehouse",e);case"ADD_WH":return r.a.post(i+"/add_warehouse",e);case"DEL_WH":return r.a.post(i+"/del_warehouse",e);case"GET_AREA":return r.a.post(i+"/get_area",e);case"ADD_AREA":return console.log(e),console.log(t),r.a.post(i+"/assign_area",e);case"REMOVE_AREA":return r.a.post(i+"/remove_area",e);default:return r.a.post(i+"/provinsi",e)}}}]),e}();t.a=new o}},[[608,1,2]]]);